% Generated by Sphinx.
\def\sphinxdocclass{report}
\newif\ifsphinxKeepOldNames \sphinxKeepOldNamestrue
\documentclass[letterpaper,10pt,spanish]{sphinxmanual}
\usepackage{iftex}

\ifPDFTeX
  \usepackage[utf8]{inputenc}
\fi
\ifdefined\DeclareUnicodeCharacter
  \DeclareUnicodeCharacter{00A0}{\nobreakspace}
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}
\usepackage{times}
\usepackage[Sonny]{fncychap}
\usepackage{longtable}
\usepackage{sphinx}
\usepackage{multirow}
\usepackage{eqparbox}


\addto\captionsspanish{\renewcommand{\figurename}{Figura }}
\addto\captionsspanish{\renewcommand{\tablename}{Tabla }}
\SetupFloatingEnvironment{literal-block}{name=Lista }

\addto\extrasspanish{\def\pageautorefname{página}}

\setcounter{tocdepth}{1}


\title{Apuntes de Lenguajes de Marcas Documentation}
\date{nov. 07, 2016}
\release{1.3}
\author{Oscar Gomez}
\newcommand{\sphinxlogo}{}
\renewcommand{\releasename}{Publicación}
\makeindex

\makeatletter
\def\PYG@reset{\let\PYG@it=\relax \let\PYG@bf=\relax%
    \let\PYG@ul=\relax \let\PYG@tc=\relax%
    \let\PYG@bc=\relax \let\PYG@ff=\relax}
\def\PYG@tok#1{\csname PYG@tok@#1\endcsname}
\def\PYG@toks#1+{\ifx\relax#1\empty\else%
    \PYG@tok{#1}\expandafter\PYG@toks\fi}
\def\PYG@do#1{\PYG@bc{\PYG@tc{\PYG@ul{%
    \PYG@it{\PYG@bf{\PYG@ff{#1}}}}}}}
\def\PYG#1#2{\PYG@reset\PYG@toks#1+\relax+\PYG@do{#2}}

\expandafter\def\csname PYG@tok@ge\endcsname{\let\PYG@it=\textit}
\expandafter\def\csname PYG@tok@kd\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@no\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.38,0.68,0.84}{##1}}}
\expandafter\def\csname PYG@tok@gs\endcsname{\let\PYG@bf=\textbf}
\expandafter\def\csname PYG@tok@kt\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.56,0.13,0.00}{##1}}}
\expandafter\def\csname PYG@tok@sb\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@c1\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@sx\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.78,0.36,0.04}{##1}}}
\expandafter\def\csname PYG@tok@sr\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.14,0.33,0.53}{##1}}}
\expandafter\def\csname PYG@tok@mh\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@s2\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@si\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.44,0.63,0.82}{##1}}}
\expandafter\def\csname PYG@tok@kr\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@bp\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@ne\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@gh\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PYG@tok@gd\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PYG@tok@go\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.20,0.20,0.20}{##1}}}
\expandafter\def\csname PYG@tok@gr\endcsname{\def\PYG@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PYG@tok@nf\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.02,0.16,0.49}{##1}}}
\expandafter\def\csname PYG@tok@vg\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@mi\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@s1\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@m\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@vc\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@nl\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.13,0.44}{##1}}}
\expandafter\def\csname PYG@tok@w\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PYG@tok@se\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@nn\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.05,0.52,0.71}{##1}}}
\expandafter\def\csname PYG@tok@gu\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PYG@tok@cm\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@ow\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@mb\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@cpf\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@sc\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@cp\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@k\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@gt\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PYG@tok@kn\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@nd\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.33,0.33,0.33}{##1}}}
\expandafter\def\csname PYG@tok@nb\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@nc\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.05,0.52,0.71}{##1}}}
\expandafter\def\csname PYG@tok@kc\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@cs\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}\def\PYG@bc##1{\setlength{\fboxsep}{0pt}\colorbox[rgb]{1.00,0.94,0.94}{\strut ##1}}}
\expandafter\def\csname PYG@tok@sh\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@sd\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@vi\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@err\endcsname{\def\PYG@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PYG@tok@mo\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@nv\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@o\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PYG@tok@il\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@gi\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PYG@tok@c\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@ss\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.32,0.47,0.09}{##1}}}
\expandafter\def\csname PYG@tok@ch\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@nt\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.02,0.16,0.45}{##1}}}
\expandafter\def\csname PYG@tok@kp\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@gp\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.78,0.36,0.04}{##1}}}
\expandafter\def\csname PYG@tok@ni\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.84,0.33,0.22}{##1}}}
\expandafter\def\csname PYG@tok@na\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@mf\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@s\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}

\def\PYGZbs{\char`\\}
\def\PYGZus{\char`\_}
\def\PYGZob{\char`\{}
\def\PYGZcb{\char`\}}
\def\PYGZca{\char`\^}
\def\PYGZam{\char`\&}
\def\PYGZlt{\char`\<}
\def\PYGZgt{\char`\>}
\def\PYGZsh{\char`\#}
\def\PYGZpc{\char`\%}
\def\PYGZdl{\char`\$}
\def\PYGZhy{\char`\-}
\def\PYGZsq{\char`\'}
\def\PYGZdq{\char`\"}
\def\PYGZti{\char`\~}
% for compatibility with earlier versions
\def\PYGZat{@}
\def\PYGZlb{[}
\def\PYGZrb{]}
\makeatother

\renewcommand\PYGZsq{\textquotesingle}

\begin{document}
\shorthandoff{"}
\maketitle
\tableofcontents
\phantomsection\label{index::doc}



\chapter{Introducción}
\label{tema1:introduccion}\label{tema1::doc}\label{tema1:apuntes-de-lenguajes-de-marcas}

\section{Historia}
\label{tema1:historia}
Los lenguajes de marcas son bastante antiguos aunque solo se han popularizado con la llegada de Internet.

Los comienzos de los lenguajes de marcas se pueden situar en el lenguaje SGML (Standard Generalized Markup Language). En realidad, lo más usado hoy día es HTML (HyperText Markup Lamguage)

El fundamento de Internet y todas las tecnologías asociadas se basa en estándares abiertos e
independientes de la tecnología. El organismo que regula estos estándares sin ninguna contrapartida a cambio es el \href{http://www.w3c.org}{World Wide Web Consortium (W3C)} .

El futuro de todas estas tecnologías sigue estando en sistemas abiertos (Firefox OS). Ahora mismo las tres grandes plataformas por orden de supremacía en el mercado son:
\begin{enumerate}
\item {} 
Android.

\item {} 
iPhone

\item {} 
Windows Phone.

\end{enumerate}


\section{Servidores web}
\label{tema1:servidores-web}
Es un programa que “entiende” los protocolos HTTP y HTTPS y que atiende peticiones de navegadores
sirviendo páginas a medida que se van solicitando. Tener un servidor no implica obligatoriamente un nombre de dominio.

Cuando un servidor recibe una petición examina sus directorios para ver si tiene ese archivo en
el directorio que le han dicho, si es así, el fichero se transmite al que hizo la petición. Si no existe, el navegador devuelve un código 404 (recurso no encontrado). Un servidor web puede ser privado o alquilado, existiendo grandes diferencias entre la forma de gestionar ambos.
\begin{itemize}
\item {} 
Uno privado, tiene la ventaja de ofrecer un control absoluto. No siempre es fácil mantener un ordenador doméstico conectado 24x7. En especial, en España, las  conexiones ADSL no suelen ofrecer las capacidades necesarias para un sitio web de tamaño mediano.

\item {} 
Los alquilados suelen conllevar un mayor precio cuando se necesita mas espacio para alojar nuestros ficheros. Ofrecen muchas garantías como por ejemplo anchos de banda muy aceptables a precios bastante competitivos y sobre todo que permiten al diseñador web liberarse de la gestión de los recursos de red

\end{itemize}


\subsection{Como configurar un servidor en casa}
\label{tema1:como-configurar-un-servidor-en-casa}\begin{enumerate}
\item {} 
Se necesita un servidor web instalado en un equipo (Apache del paquete XAMPP)

\item {} 
Apuntar la IP del equipo en el que se instala Apache.

\item {} 
Entrar en el router y \textbf{abrir el puerto 80} indicando que se debe reenviar el tráfico a la IP que se apuntó.

\item {} 
Se debe averiguar la IP pública del router (por ejemplo podemos visitar \href{http://whatsmyip.org}{WhatsMyIp} ,

\item {} 
La IP que aparece es la que se puede dar a clientes o amigos para que naveguen por nuestro sitio web.

\item {} 
(Optativo) se puede alquilar un nombre de dominio y solicitar que ese nombre (loquesea.com) sea redirigido a nuestra IP pública.

\end{enumerate}


\section{Los nombres de dominio}
\label{tema1:los-nombres-de-dominio}
El servicio de nombres de dominio es un sistema que convierte de direcciones tipo www.loquesea.com a direcciones IP. Esto permite que sea más fácil recordar direcciones de páginas. Sin embargo, DNS esun sistema muy complejo que funciona de forma distribuida entre distintos países.

Los nombres de dominio se resuelven de final a principio. La última parte se llama TLD o Top Level Domain o dominio de primer nivel.. Estos dominios son administrados por países ocupándose cada uno de ellos de los nombres o marcas que hay dentro de dichos países.


\section{Los sistemas de gestión de información}
\label{tema1:los-sistemas-de-gestion-de-informacion}
Definamos primero algunos términos:
\begin{itemize}
\item {} 
Sistema: conjunto de elementos interrelacionados que colaboran en la consecución de un objetivo.

\item {} 
Gestión: conjunto de operaciones que resultan de relevancia para una persona o empresa.

\item {} 
Información: conjunto de datos que resultan de utilidad a las funciones de la empresa.

\end{itemize}

Un SGI no tiene por qué estar informatizado.

Son programas que se pueden adaptar las necesidades de la empresa y que a veces necesitan
importar (o exportar) datos e información.

El uso de un formato unificado (normalmente basado en marcas) facilita enormemente los
trasvases de datos.


\section{Tipos de lenguajes}
\label{tema1:tipos-de-lenguajes}
Aparte de los lenguajes de marcas típicos, existen otros de uso bastante común. Siendo el caso más conocido LaTeX.

Programas como LateX tienen la desventaja de obligar a aprender “marcas”. Sin embargo, los algoritmos de colocación del texto suelen ser más sofisticados que otros programas. Los programas de redacción de documentos más utilizados suelen ser los del tipo MS-Word o LibreOffice que son del tipo WYSIWYG (What You See Is What You Get).

Dentro de los tipos de formatos, RTF es un mecanismo público que permite describir el aspecto de documentos. Al ser público, muchos procesadores pueden implementarlo si necesidad de pagar “royalties”.

Adobe lidera la especificación de documentos PDF (Portable Document Format). Antes de
PDF, existía un lenguaje abierto denominado PostScript. Por otro lado RTF o Latex, son lenguajes descriptivos, mientras que PostScript es un lenguaje completo


\section{Organismos de regulación}
\label{tema1:organismos-de-regulacion}\begin{enumerate}
\item {} 
La Internation Standards Organization emite estándares para la documentación.

\item {} 
El W3C (o World Wide Web Consortium) emite “technical recommendations” (o TR’s) que los interesados en la web pueden seguir para garantizar la interoperabilidad. \href{http://www.w3c.org}{Su web es muy útil}

\end{enumerate}


\section{Gramáticas y DTD’s}
\label{tema1:gramaticas-y-dtds}
Las gramáticas HTML indican el conjunto de reglas para determinar lo que se acepta o no
se acepta. Si se elige una gramática (como por ejemplo la de HTML5) es muy recomendable
respetar las reglas de esa gramática.
A modo de ejemplo, esto es una página válida

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}!DOCTYPE html\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{html}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{title}\PYG{p}{\PYGZgt{}}Page Title\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{title}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
                Mi primera página
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{html}\PYG{p}{\PYGZgt{}}
\end{Verbatim}

y esto no lo es.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}!DOCTYPE html\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{title}\PYG{p}{\PYGZgt{}}Esto es el título de la página
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
\end{Verbatim}

A lo largo del tiempo ha habido diversas versiones de HTML (con sus correspondientes gramáticas)
y tales documentos deben llevar en la cabecera algo que diga a qué estándar se ciñen.

Las tres últimas familias de estándares han sido
\begin{itemize}
\item {} 
HTML4: muy permisivo, lo que dificulta a los navegadores el procesar el HTML dando lugar a que fuera bastante difícil para ellos el mostrar correctamente y de igual forma todos los HTML

\item {} 
XHTML: es HTML con las estrictas reglas que impuso XML. Esto simplificó el desarrollo de navegadores y se avanzó en facilidad para mostrar páginas en distintos navegadores.

\item {} 
HTML5: es una nueva revisión de XHTML en el que se han incluido nuevas posibilidades como etiquetas \textless{}audio\textgreater{} y \textless{}video\textgreater{} así como posibilidad de hacer muchas cosas desde JavaScript.

\end{itemize}

Un ejemplo de DTD, sería esto:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{lista\PYGZus{}de\PYGZus{}personas} \PYG{o}{(}\PYG{n+nt}{persona}\PYG{o}{*}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{persona} \PYG{o}{(}\PYG{n+nt}{nombre}\PYG{o}{,} \PYG{n+nt}{fechanacimiento}\PYG{o}{?}\PYG{o}{,} \PYG{n+nt}{sexo}\PYG{o}{?}\PYG{o}{,} \PYG{n+nt}{numeroseguridadsocial}\PYG{o}{?}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{nombre} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)} \PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{fechanacimiento} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)} \PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{sexo} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)} \PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{numeroseguridadsocial} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\end{Verbatim}

Y un ejemplo de archivo aceptado por esa DTD sería este

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}lista\PYGZus{}de\PYGZus{}personas}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}persona}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}} Pepe Pérez \PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}sexo}\PYG{n+nt}{\PYGZgt{}} Varón \PYG{n+nt}{\PYGZlt{}/sexo\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}numeroseguridadsocial}\PYG{n+nt}{\PYGZgt{}}555\PYG{n+nt}{\PYGZlt{}/numeroseguridadsocial\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/persona\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}persona}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}} Angela Lopez \PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}fechanacimiento}\PYG{n+nt}{\PYGZgt{}}13\PYGZhy{}2\PYGZhy{}1995\PYG{n+nt}{\PYGZlt{}/fechanacimiento\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}sexo}\PYG{n+nt}{\PYGZgt{}} Mujer \PYG{n+nt}{\PYGZlt{}/sexo\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}numeroseguridadsocial}\PYG{n+nt}{\PYGZgt{}}355\PYG{n+nt}{\PYGZlt{}/numeroseguridadsocial\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/persona\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/lista\PYGZus{}de\PYGZus{}personas\PYGZgt{}}
\end{Verbatim}


\section{XML Schemas}
\label{tema1:xml-schemas}
Los XML Schemas surgen para mejorar las faltas de precisión que tenían las DTD. Sin embargo,
la mejora en la precisión de la definición ha implicado que escribir XML Schemas sea
mucho más complicado.

Un ejemplo de XML Schema (tomado de Wikipedia):

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}UTF\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}xsd:schema} \PYG{n+na}{xmlns:xsd=}\PYG{l+s}{\PYGZdq{}http://www.w3.org/2001/XMLSchema\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}xsd:element} \PYG{n+na}{name=}\PYG{l+s}{\PYGZdq{}Libro\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}xsd:complexType}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}xsd:sequence}\PYG{n+nt}{\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}xsd:element} \PYG{n+na}{name=}\PYG{l+s}{\PYGZdq{}Título\PYGZdq{}}
                                        \PYG{n+na}{type=}\PYG{l+s}{\PYGZdq{}xsd:string\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}xsd:element} \PYG{n+na}{name=}\PYG{l+s}{\PYGZdq{}Autores\PYGZdq{}}
                                        \PYG{n+na}{type=}\PYG{l+s}{\PYGZdq{}xsd:string\PYGZdq{}}
                                        \PYG{n+na}{maxOccurs=}\PYG{l+s}{\PYGZdq{}10\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}xsd:element}    \PYG{n+na}{name=}\PYG{l+s}{\PYGZdq{}Editorial\PYGZdq{}}
                                        \PYG{n+na}{type=}\PYG{l+s}{\PYGZdq{}xsd:string\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/xsd:sequence\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}xsd:attribute} \PYG{n+na}{name=}\PYG{l+s}{\PYGZdq{}precio\PYGZdq{}}
                                \PYG{n+na}{type=}\PYG{l+s}{\PYGZdq{}xsd:double\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/xsd:complexType\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/xsd:element\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/xsd:schema\PYGZgt{}}
\end{Verbatim}


\section{Definiciones}
\label{tema1:definiciones}
\textbf{Etiqueta:} Es una secuencia de texto encerrada entre \textless{} y \textgreater{}

\textbf{Elemento:} Es todo lo que va entre una cierta etiqueta de apertura y cierre. En el ejemplo siguiente
si nos hablan de la etiqueta libro se refieren simplemente a la etiqueta entre los
paréntesis angulares. Si hay que procesar el elemento libro esto significa procesar los
sub-elementos o “elementos hijo”.

\textbf{Atributo:} Es un texto junto a la etiqueta que amplía información sobre la misma. En el ejemplo
anterior podemos ver un atributo precio en la etiqueta titulo

\textbf{Árbol del documento:} Todo documento XML y HTML5 puede representarse como un árbol
que se puede recorrer desde distintos lenguajes. Este árbol a veces se llama el árbol DOM
o simplemente el DOM (Document Object Model).

\textbf{Relaciones de parentesco:} En un árbol DOM, los distintos elementos (o nodos). Se dice que
un nodo es hijo de otro si aparece más abajo en el árbol DOM. Se dice que dos nodos
son hermanos si están en el mismo nivel del árbol DOM. Se dice que un nodo es padre
de otro si está en un nivel más arriba en el árbol DOM.


\chapter{HTML5}
\label{tema2:html5}\label{tema2::doc}

\section{Introducción}
\label{tema2:introduccion}
Es la última revisión del estándar HTML. Se incluyen algunas etiquetas nuevas cuyo significado
se comentará a continuación. Aún está completándose.


\section{Etiquetas estructurales}
\label{tema2:etiquetas-estructurales}
Crean la estructura para el resto de la página:,
\begin{itemize}
\item {} 
doctype: identifica el estándar.

\item {} 
todo documento debe ir entre las marcas \textless{}html\textgreater{} y \textless{}/html\textgreater{}.

\item {} 
Todo html tiene dos partes: head y body. El primero incluye otros elementos estructurales como \sphinxcode{\textless{}title\textgreater{}} que indica el título de dicha página. Dentro del body se incluye el contenido real de la página.

\item {} 
Existe una etiqueta vital para el correcto visionado de los símbolos de nuestra página. Esta etiqueta se denomina \textless{}meta\textgreater{} y lleva el atributo \sphinxcode{charset="...."}

\item {} 
Dentro del body pueden incluirse otras etiquetas que estructuran el contenido de la página:
\begin{itemize}
\item {} 
La etiqueta \sphinxcode{\textless{}section\textgreater{}} permite marcar contenido de una página relacionado con un tema concreto.

\item {} 
\sphinxcode{\textless{}article\textgreater{}} es una unidad de contenido sobre un tema específico el cual puede ser independiente de otros ``artículos''.

\item {} 
\sphinxcode{\textless{}header\textgreater{}} se utiliza para indicar cual es la cabecera de un artículo o sección.

\item {} 
\sphinxcode{\textless{}footer\textgreater{}} permite definir un ``pie de página'', normalmente con indicación de derechos de autor, fecha o datos similares.

\item {} 
\sphinxcode{\textless{}address\textgreater{}} se usa para marcar información de contacto.

\item {} 
\sphinxcode{\textless{}aside\textgreater{}} se usa para definir contenido con ``una relación vaga con el resto de la página'' (definición tomada del estándar).

\item {} 
\sphinxcode{\textless{}hgroup\textgreater{}} permite agrupar un conjunto de encabezados y marcarlos como pertenecientes al mismo contenido.

\end{itemize}

\item {} 
\sphinxcode{\textless{}h1\textgreater{}}, \sphinxcode{\textless{}h2\textgreater{}}, \sphinxcode{\textless{}h3\textgreater{}}, \sphinxcode{\textless{}h4\textgreater{}}, \sphinxcode{\textless{}h5\textgreater{}} y \sphinxcode{\textless{}h6\textgreater{}} establecen encabezados: trozos de texto que identifican la importancia del siguiente trozo de texto.

\item {} 
Cualquier etiqueta puede ir comentada. Los comentarios no se muestran, son solo de interés para el programador en un futuro. Un comentario se abre con \sphinxcode{\textless{}!-{-}} y se cierra con \sphinxcode{-{-}\textgreater{}}

\item {} 
La etiqueta \sphinxcode{\textless{}nav\textgreater{}} se utilizará para crear barras de navegación.

\item {} 
La etiqueta \sphinxcode{\textless{}aside\textgreater{}} se utiliza para indicar información relacionada con el artículo o texto pero que no tiene porque ser parte del mismo. El ejemplo más común es utilizarlo para publicidad relacionada o texto del tipo ``artículos relacionados con este''.

\item {} 
La etiqueta \sphinxcode{\textless{}base\textgreater{}} define la URL raíz de toda la página. Permite cambiar fácilmente las URL de los enlaces de una página.

\item {} 
Las etiquetas \sphinxcode{\textless{}script\textgreater{}} y \sphinxcode{\textless{}noscript\textgreater{}} se utilizan para marcar pequeños programas o la ausencia de ellos.

\item {} 
El elemento \sphinxcode{\textless{}main\textgreater{}} indica \textbf{el contenido principal de una página}

\end{itemize}


\section{Etiquetas de formato}
\label{tema2:etiquetas-de-formato}
Para el formateo elemental de textos se utilizan varias etiquetas:
\begin{itemize}
\item {} 
\sphinxcode{\textless{}b\textgreater{}} Formatea el texto en “negrita”.

\item {} 
\sphinxcode{\textless{}i\textgreater{}} Lo pone en “itálica” (cursiva).

\item {} 
\sphinxcode{\textless{}u\textgreater{}} Subraya el texto.

\item {} 
Las diversas etiquetas se pueden meter unas dentro de otras para obtener efectos como “cursiva, y negrita” o “subrayado y cursiva”, sin embargo las etiquetas deben cerrarse en el orden inverso al que se abrieron.

\item {} 
\sphinxcode{\textless{}sup\textgreater{}} y \sphinxcode{\textless{}sub\textgreater{}} fabrican respectivamente superíndices y subíndices.

\item {} 
\sphinxcode{\textless{}em\textgreater{}} se utiliza para enfatizar un texto.

\item {} 
\sphinxcode{\textless{}p\textgreater{}} Se utiliza para marcar el comienzo y el fin de un párrafo.

\item {} 
La etiqueta \sphinxcode{br} se utiliza para hacer una ruptura en el flujo del texto. Se escribe en forma abreviada \sphinxcode{\textless{}br/\textgreater{}}

\end{itemize}


\section{Gestión de espacios}
\label{tema2:gestion-de-espacios}
Los navegadores web manejan el espacio de una forma un poco especial:
\begin{itemize}
\item {} 
Si se pone uno o varios espacios en blanco o si se pulsa la tecla ENTER muchas veces el navegador mostrará \emph{un solo espacio en blanco}

\item {} 
Para poner un espacio en blanco horizontal se puede usar la entidad \sphinxcode{\&nbsp;}.

\item {} 
Para hacer un salto de línea se puede usar la etiqueta \sphinxcode{\textless{}br/\textgreater{}} (esta etiqueta no lleva asociada una etiqueta de cierra, es \emph{autocerrada})

\item {} 
Se puede indicar el comienzo y el final de un párrafo con \sphinxcode{\textless{}p\textgreater{}} y \sphinxcode{\textless{}/p\textgreater{}}.

\end{itemize}

Una pregunta habitual es ``¿Cuando se debe usar \sphinxcode{\textless{}p\textgreater{}} y cuando \sphinxcode{\textless{}br/\textgreater{}?}. La respuesta es ``depende''. Una posible respuesta es que si se escriben varios párrafos relacionados es bastante habitual separarlos con \sphinxcode{\textless{}br/\textgreater{}} mientras que si se ponen varios párrafos que hablan de distintas cosas es habitual usar \sphinxcode{\textless{}p\textgreater{}} con cada uno de ellos, sin embargo no hay una respuesta universal.,


\section{Entidades}
\label{tema2:entidades}
Las entidades HTML permiten escribir determinados símbolos especiales que podrían confundir al navegador, así como otros símbolos que no aparecen directamente en los teclados:
\begin{itemize}
\item {} 
\&lt; y \&gt; representan los símbolos \textless{} y \textgreater{}.

\item {} 
\&copy;

\item {} 
\&trade;

\item {} 
\&reg;

\item {} 
\&euro; y \&yen;

\item {} 
\&amp;

\end{itemize}


\section{Texto preformateado}
\label{tema2:texto-preformateado}
Algunas marcas, como \sphinxcode{\textless{}pre\textgreater{}} permiten obligar al navegador a que respete los espacios en blanco tal y como aparecen en la página original.

Si se desea indicar que algo debe ser teclado por el usuario se usa la marca \sphinxcode{\textless{}kbd\textgreater{}}.

Si se desea indicar que algo es una variable se puede usar la marca \sphinxcode{\textless{}var\textgreater{}}.

La etiqueta \sphinxcode{\textless{}code\textgreater{}} permite indicar que un determinado es código en un lenguaje de programación.


\section{Listas}
\label{tema2:listas}
Es una secuencia de elementos relacionados en torno a un mismo concepto Para abrir una lista de elementos se utilizan dos posibles marcas:
\begin{itemize}
\item {} 
\sphinxcode{\textless{}ol\textgreater{}} Para crear una lista ordenada (numerada)

\item {} 
\sphinxcode{\textless{}ul\textgreater{}} Para crear una lista desordenada (no numerada)

\end{itemize}

Una vez creadas hay que etiquetar cada elemento de la lista con la etiqueta \sphinxcode{\textless{}li\textgreater{}}.

En un plano distinto se pueden encontrar las \textbf{listas de definiciones}. Con estos elementos se puede especificar una secuencia de términos para los cuales proporcionamos una definición. Su estructura es la siguiente:
\begin{itemize}
\item {} 
\sphinxcode{\textless{}dl\textgreater{}} y \sphinxcode{\textless{}/dl\textgreater{}} marcan el inicio y el final de la lista de definiciones. Dentro de estas etiquetas pondremos las dos siguientes.

\item {} 
\sphinxcode{\textless{}dt\textgreater{}} y \sphinxcode{\textless{}/dt\textgreater{}} especifican el \emph{término} que vamos a definir.

\item {} 
\sphinxcode{\textless{}dd\textgreater{}} y \sphinxcode{\textless{}/dd\textgreater{}} indican la definición asociada al término anterior.

\end{itemize}

Ejemplo:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{dl}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{dt}\PYG{p}{\PYGZgt{}}Etiqueta\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{dt}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{dd}\PYG{p}{\PYGZgt{}}Todo lo contenido...\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{dd}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{dt}\PYG{p}{\PYGZgt{}}Elemento\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{dt}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{dd}\PYG{p}{\PYGZgt{}}
                Se define así a todo el árbol
                de nodos comprendido
                entre dos etiquetas
                de apertura y cierre.
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{dd}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{dl}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema2:ejercicio}
Comprueba que el siguiente código HTML crea unas listas dentro de otras. Prueba a crear listas desordenadas dentro de listas desordenadas.

\begin{Verbatim}[commandchars=\\\{\}]
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
    Antes de programar
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{ol}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
            Instalar JDK
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{ol}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}Ir a oracle.com\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}Buscar JDK\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}Aceptar licencia\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}Descargar\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                    Ejecutar setup.exe
                    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{ol}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                            Ejecutar como
                            admin
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}Comprobar\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{ol}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{ol}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}Modificar variables de entorno\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}Asignar más memoria\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}Reiniciar\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{ol}\PYG{p}{\PYGZgt{}}
    Prerrequisitos
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{ul}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}Comprobar RAM\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}Comprobar disco\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}Comprobar arranque\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{ul}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\section{Tablas}
\label{tema2:tablas}
Una tabla muestra un conjunto de elementos relacionados en forma de matriz. No deberían usarse para maquetar la posición de los elementos. Todo el contenido de la tabla debe ir entre las etiquetas \sphinxcode{\textless{}table\textgreater{}} y \sphinxcode{\textless{}/table\textgreater{}}. Las tablas se construyen de izquierda a derecha (por columnas) y de arriba a abajo (filas).

Una tabla puede tener una cabecera, un cuerpo y un pie, especificados por \sphinxcode{\textless{}thead\textgreater{}}, \sphinxcode{\textless{}tbody\textgreater{}} y \sphinxcode{\textless{}tfoot\textgreater{}}. La primera etiqueta dentro de \sphinxcode{\textless{}tbody\textgreater{}}, solo puede ser \textless{}tr\textgreater{}. \textbf{Cuidado al crear tablas, todo dato, o subtablas debe ir dentro de \textless{}td\textgreater{}, es absolutamente obligatorio}

Para ser exactos una tabla puede llevar estas tres etiquetas:
\begin{itemize}
\item {} 
\sphinxcode{thead}: dentro de ella a su vez pondremos una fila (\sphinxcode{\textless{}tr\textgreater{}}) con celdas en las que la etiqueta es \sphinxcode{\textless{}th\textgreater{}}

\item {} 
\sphinxcode{tbody}: utiliza las filas y columnas normales.

\item {} 
\sphinxcode{tfooter}: también usa \sphinxcode{\textless{}tr\textgreater{}} y \sphinxcode{\textless{}td\textgreater{}} de la forma habitual, sin embargo permite describir mejor el contenido de la tabla. Se utiliza para celdas con los valores acumulados o similares.

\end{itemize}


\subsection{Un ejemplo de tabla}
\label{tema2:un-ejemplo-de-tabla}
Se desea crear una tabla que represente los datos del medallero de unas olimpiadas y que se muestre de forma parecida a lo que muestra la figura:

\noindent{\hspace*{\fill}\scalebox{0.500000}{\sphinxincludegraphics{{tablamedallero}.png}}\hspace*{\fill}}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{thead}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{th}\PYG{p}{\PYGZgt{}}País\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{th}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{th}\PYG{p}{\PYGZgt{}}Oro\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{th}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{th}\PYG{p}{\PYGZgt{}}Plata\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{th}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{th}\PYG{p}{\PYGZgt{}}Bronce\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{th}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{thead}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}USA\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}110\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}115\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}99\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tfoot}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}Total\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}219\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}247\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}206\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tfoot}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsection{Ejercicio sobre tablas}
\label{tema2:ejercicio-sobre-tablas}
Crea una tabla con la estructura siguiente:

\noindent{\hspace*{\fill}\scalebox{0.500000}{\sphinxincludegraphics{{tabla1}.png}}\hspace*{\fill}}


\subsection{Solución}
\label{tema2:solucion}
Un posible HTML que resuelve esto sería:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}A\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}B\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}C\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}D1\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}D2\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}D3\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}D4\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsection{Ejercicio sobre tablas (II)}
\label{tema2:ejercicio-sobre-tablas-ii}
Crea una tabla con la estructura siguiente:

\noindent{\hspace*{\fill}\scalebox{0.500000}{\sphinxincludegraphics{{tabla2}.png}}\hspace*{\fill}}


\subsection{Solución}
\label{tema2:id1}
Un posible HTML que resuelve esto sería:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}A\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
                                                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}B1\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}B2\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}B3\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
                                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
                                                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}C1\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}C2\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
                                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsection{Ejercicio sobre tablas (III)}
\label{tema2:ejercicio-sobre-tablas-iii}
Crea una tabla con la estructura siguiente:

\noindent{\hspace*{\fill}\scalebox{0.500000}{\sphinxincludegraphics{{tabla3}.png}}\hspace*{\fill}}


\subsection{Solución}
\label{tema2:id2}
Un posible HTML que resuelve esto sería:


\subsection{Ejercicio sobre tablas (IV)}
\label{tema2:ejercicio-sobre-tablas-iv}
Crea una tabla con la estructura siguiente:

\noindent{\hspace*{\fill}\scalebox{0.500000}{\sphinxincludegraphics{{tabla4}.png}}\hspace*{\fill}}


\subsection{Solución}
\label{tema2:id3}
Un posible HTML que resuelve esto sería:


\subsection{Ejercicio sobre tablas (V)}
\label{tema2:ejercicio-sobre-tablas-v}
Crea una tabla con la estructura siguiente
\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics{{tablaeco1}.png}
\end{figure}


\subsection{Solución}
\label{tema2:id4}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{thead}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{th}\PYG{p}{\PYGZgt{}}País\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{th}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{th}\PYG{p}{\PYGZgt{}}Datos econ.\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{th}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{thead}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}España\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                        \PYG{c}{\PYGZlt{}!\PYGZhy{}\PYGZhy{}}\PYG{c}{Atención}
\PYG{c}{                        ¡Tabla dentro de celda}\PYG{c}{\PYGZhy{}\PYGZhy{}\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                        PIB:\PYGZhy{}0,1\PYGZpc{}
                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                        Déficit:5\PYGZpc{}
                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                        Paro 25,4\PYGZpc{}
                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}USA\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                        \PYG{c}{\PYGZlt{}!\PYGZhy{}\PYGZhy{}}\PYG{c}{Otra tabla dentro de celda}\PYG{c}{\PYGZhy{}\PYGZhy{}\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                        PIB:0,4\PYGZpc{}
                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                        Déficit:3\PYGZpc{}
                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                        Paro:11\PYGZpc{}
                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsection{Ejercicio sobre tablas (VI)}
\label{tema2:ejercicio-sobre-tablas-vi}
Crea una tabla con la estructura siguiente
\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics{{tablaeco2}.png}
\end{figure}


\subsection{Solución}
\label{tema2:id5}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}España\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                \PYG{c}{\PYGZlt{}!\PYGZhy{}\PYGZhy{}}\PYG{c}{Subtabla}\PYG{c}{\PYGZhy{}\PYGZhy{}\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                        I+D:7\PYGZpc{}
                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                        IRS:13\PYGZpc{}
                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}ALCA\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                \PYG{c}{\PYGZlt{}!\PYGZhy{}\PYGZhy{}}\PYG{c}{Subtabla}\PYG{c}{\PYGZhy{}\PYGZhy{}\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                        I+D:3\PYGZpc{}
                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                        Felic:38
                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                        Resto:42\PYGZpc{}
                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}UE\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                \PYG{c}{\PYGZlt{}!\PYGZhy{}\PYGZhy{}}\PYG{c}{Subtabla}\PYG{c}{\PYGZhy{}\PYGZhy{}\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                        España
                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                        I+D:8\PYGZpc{}
                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                        SS:25\PYGZpc{}
                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                        Resto UE
                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                        I+D:13\PYGZpc{}
                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                                        Otros:28\PYGZpc{}
                                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsection{Ejercicio sobre tablas (VII)}
\label{tema2:ejercicio-sobre-tablas-vii}
Crea una tabla con la estructura siguiente
\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics{{tabla7}.png}
\end{figure}


\subsection{Solución}
\label{tema2:id6}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
  \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
          \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}A\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
          \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                  \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                          \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                  \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                          \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}B1\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                          \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}B2\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                          \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}B3\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
                          \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                          \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                  \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                          \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}C1\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                          \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}C2\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                  \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
                          \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                  \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
          \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
  \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsection{Ejercicio sobre tablas (VIII)}
\label{tema2:ejercicio-sobre-tablas-viii}
Crea una tabla con la estructura siguiente
\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics{{tabla8}.png}
\end{figure}


\subsection{Solución}
\label{tema2:id7}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
  \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
      \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
          \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
              \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}A1\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
              \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}A2\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
              \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}A3\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
          \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
      \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
  \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
  \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
      \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
          \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}B1\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
          \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
          \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}B2\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
          \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tbody}\PYG{p}{\PYGZgt{}}
      \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
  \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\section{Formularios}
\label{tema2:formularios}
Un formulario permite que el usuario interactúe con la página por medio de una serie de controles


\subsection{Campo de texto}
\label{tema2:campo-de-texto}
Permite crear una zona donde el usuario puede escribir y se muestra un ejemplo a continuación. Tiene algunos atributos que se usan muy a menudo:
\begin{itemize}
\item {} 
\sphinxcode{type} indica el tipo de control

\item {} 
\sphinxcode{name} será el nombre de la variable en JS (no lo usaremos por ahora)

\item {} 
\sphinxcode{id} permitirá procesar el control de JS (no se usará por ahora)

\item {} 
\sphinxcode{value} permite indicar un valor por defecto

\item {} 
\sphinxcode{size} indica la anchura por defecto

\end{itemize}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}text\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}nombre\PYGZus{}usuario\PYGZdq{}}
        \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}id\PYGZus{}nombre\PYGZdq{}} \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}Escriba su nombre aqui\PYGZdq{}}\PYG{p}{\PYGZgt{}}
\end{Verbatim}

Un campo de texto puede llevar asociada una etiqueta \sphinxcode{label} que indique al navegador que texto va con ese campo. Esto es de utilidad para programas lectores de páginas y en general para gente con discapacidad.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZsq{}\PYGZdq{}d\PYGZus{}nombre\PYGZdq{}}\PYG{p}{\PYGZgt{}}Nombre de usuario\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}text\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}nombre\PYGZus{}usuario\PYGZdq{}}
        \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}id\PYGZus{}nombre\PYGZdq{}} \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}Escriba su nombre aqui\PYGZdq{}}\PYG{p}{\PYGZgt{}}
\end{Verbatim}

Si el type de este elemento se sustituye por \sphinxcode{password} se obtiene un control igual, pero que reemplaza el texto por símbolos que ocultan el texto.


\subsection{Selector único (radio-button)}
\label{tema2:selector-unico-radio-button}
Permite elegir una sola opción de entre muchas, se necesita usar un \sphinxcode{input} de tipo \sphinxcode{radio}.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}radio\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}sexo\PYGZdq{}}\PYG{p}{\PYGZgt{}}Masculino
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}radio\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}sexo\PYGZdq{}}\PYG{p}{\PYGZgt{}}Femenino
\end{Verbatim}

Si se desea que un control de tipo \sphinxcode{checkbox} o \sphinxcode{radio} aparezca marcado por defecto se debe añadir el atributo \sphinxcode{multiple="multiple"}.


\subsection{Selector múltiple (checkbox)}
\label{tema2:selector-multiple-checkbox}
Permite elegir múltiples combinaciones de opciones. El nombre del control utilizará los corchetes para crear un vector que se procesará desde Javascript.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medios[]\PYGZdq{}}\PYG{p}{\PYGZgt{}}
Coche
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medios[]\PYGZdq{}}\PYG{p}{\PYGZgt{}}
Moto
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medios[]\PYGZdq{}}\PYG{p}{\PYGZgt{}}
Bici
\end{Verbatim}


\subsection{Lista desplegable}
\label{tema2:lista-desplegable}
Permite elegir valores de una lista.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{select} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}provincia\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}AB\PYGZdq{}}\PYG{p}{\PYGZgt{}}Albacete\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}CR\PYGZdq{}}\PYG{p}{\PYGZgt{}}Ciudad R.\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}CU\PYGZdq{}}\PYG{p}{\PYGZgt{}}Cuenca\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{select}\PYG{p}{\PYGZgt{}}
\end{Verbatim}

Se debe recordar que el texto que ven los usuarios es lo que va entre las etiquetas option. El valor que comprobarán los programadores es lo que va en value En una lista desplegable se pueden elegir muchos valores usando el atributo \sphinxcode{multiple}.


\subsection{Textareas}
\label{tema2:textareas}
Permiten introducir textos muy largos:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{textarea} \PYG{n+na}{rows}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}10\PYGZdq{}} \PYG{n+na}{cols}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}15\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        Valor por defecto
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{textarea}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema2:id8}
Crear un formulario que pregunte al usuario por su nombre, apellidos, fecha de nacimiento y país. ¿Qué controles habría que usar para cada tarea?

Es importante recalcar que cada vez más, muchas personas visitan páginas desde dispositivos móviles, por eso deberíamos intentar reducir la cantidad de texto que deben teclear. Así, por ejemplo, en lugar de pedir que se teclee la fecha de nacimiento, tal vez puedan seleccionarse opciones de un menú. Para generar la lista de años o de países, probablemente podamos crear un programa que nos genere los \sphinxcode{option} automáticamente.


\section{Ejercicios tipo examen}
\label{tema2:ejercicios-tipo-examen}

\subsection{Enunciado}
\label{tema2:enunciado}
\emph{Crea una tabla con la estructura siguiente}

\noindent{\hspace*{\fill}\scalebox{0.500000}{\sphinxincludegraphics{{tabla5}.png}}\hspace*{\fill}}


\subsection{Solución}
\label{tema2:id9}
El siguiente HTML produce algo muy parecido:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}Celda 1\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}Celda 2\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}Celda 3a\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}Celda 3b\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}Celda 3c\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}Celda 4a\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}Celda 4b\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}Celda 4c\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsection{Enunciado}
\label{tema2:id10}
\emph{Crea una página HTML que produzca este resultado}
\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics{{tabla6}.png}
\caption{Una tabla compleja}\label{tema2:id19}\end{figure}


\subsection{Solución}
\label{tema2:id11}
El HTML siguiente produce el resultado pedido:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}\PYG{c}{\PYGZlt{}!\PYGZhy{}\PYGZhy{}}\PYG{c}{Primera fila}\PYG{c}{\PYGZhy{}\PYGZhy{}\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}1a\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}1b\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}2a\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}2b\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}2c\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}2c\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}\PYG{c}{\PYGZlt{}!\PYGZhy{}\PYGZhy{}}\PYG{c}{Segunda fila}\PYG{c}{\PYGZhy{}\PYGZhy{}\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                        3a
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}4a1\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}4a2\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}4a3\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}} \PYG{c}{\PYGZlt{}!\PYGZhy{}\PYGZhy{}}\PYG{c}{Tercera fila}\PYG{c}{\PYGZhy{}\PYGZhy{}\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{table} \PYG{n+na}{border}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}3b1\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}3b2\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}3b3\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}3b4\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
                        4b
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{td}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{tr}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{table}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsection{Enunciado}
\label{tema2:id12}
\emph{Crea una página HTML que produzca este resultado}

\noindent{\hspace*{\fill}\scalebox{0.500000}{\sphinxincludegraphics{{maqueta1}.png}}\hspace*{\fill}}


\subsection{Solución}
\label{tema2:id13}

\subsection{Enunciado}
\label{tema2:id14}
\emph{Crea un formulario como este donde haya 3 opciones en la lista desplegable: ``Más de 400'', ``Menos de 400'', ``Variables''}

\noindent{\hspace*{\fill}\scalebox{0.500000}{\sphinxincludegraphics{{maqueta2}.png}}\hspace*{\fill}}


\subsection{Solución}
\label{tema2:id15}
El HTML siguiente produce el resultado que nos piden

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}!DOCTYPE html\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{html}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{meta} \PYG{n+na}{charset}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{title}\PYG{p}{\PYGZgt{}}Formulario fiscal\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{title}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}

\PYG{p}{\PYGZlt{}}\PYG{n+nt}{form}\PYG{p}{\PYGZgt{}}
   \PYG{p}{\PYGZlt{}}\PYG{n+nt}{fieldset}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{legend}\PYG{p}{\PYGZgt{}}
        Datos fiscales
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{legend}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}enparo\PYGZdq{}}
        \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}sit\PYGZus{}laboral\PYGZdq{}}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}enparo\PYGZdq{}}\PYG{p}{\PYGZgt{}}En paro\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}autonomo\PYGZdq{}}
        \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}sit\PYGZus{}laboral\PYGZdq{}}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}autonomo\PYGZdq{}}\PYG{p}{\PYGZgt{}}Autónomo\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}c\PYGZus{}ajena\PYGZdq{}}
        \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}sit\PYGZus{}laboral\PYGZdq{}}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}c\PYGZus{}ajena\PYGZdq{}}\PYG{p}{\PYGZgt{}}Por c.ajena\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
   \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{fieldset}\PYG{p}{\PYGZgt{}}
   \PYG{p}{\PYGZlt{}}\PYG{n+nt}{fieldset}\PYG{p}{\PYGZgt{}}
     \PYG{p}{\PYGZlt{}}\PYG{n+nt}{legend}\PYG{p}{\PYGZgt{}}Datos personales\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{legend}\PYG{p}{\PYGZgt{}}
     \PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}nombre\PYGZdq{}}\PYG{p}{\PYGZgt{}}Nombre\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
     \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}text\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}nombre\PYGZdq{}}\PYG{p}{\PYGZgt{}}
     \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
     \PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}apellidos\PYGZdq{}}\PYG{p}{\PYGZgt{}}Apellidos\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
     \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}text\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}apellidos\PYGZdq{}}\PYG{p}{\PYGZgt{}}
     \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
     \PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}sueldo\PYGZdq{}}\PYG{p}{\PYGZgt{}}Sueldo\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
     \PYG{p}{\PYGZlt{}}\PYG{n+nt}{select} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}sueldo\PYGZdq{}}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{select}\PYG{p}{\PYGZgt{}}
       \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}Más de 400 euros\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
       \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}Menos de 400 euros\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
       \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}Variable\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
     \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{select}\PYG{p}{\PYGZgt{}}
     \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
     \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}con\PYGZus{}ep\PYGZdq{}}\PYG{p}{\PYGZgt{}}
     \PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}con\PYGZus{}ep\PYGZdq{}}\PYG{p}{\PYGZgt{}}
         Con enfermedad profesional
     \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}} \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
     \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}con\PYGZus{}padres\PYGZdq{}}\PYG{p}{\PYGZgt{}}
     \PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}con\PYGZus{}padres\PYGZdq{}}\PYG{p}{\PYGZgt{}}
         Con padres a cargo
     \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}} \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
     \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}con\PYGZus{}hijos\PYGZdq{}}\PYG{p}{\PYGZgt{}}
     \PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}con\PYGZus{}hijos\PYGZdq{}}\PYG{p}{\PYGZgt{}}
         Con hijos a cargo
     \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}} \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
   \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{fieldset}\PYG{p}{\PYGZgt{}}   
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{form}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{html}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsection{Enunciado}
\label{tema2:id16}
\emph{Crea un formulario como este}

\noindent{\hspace*{\fill}\scalebox{0.500000}{\sphinxincludegraphics{{maqueta4}.png}}\hspace*{\fill}}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}!DOCTYPE html\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{html}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{meta} \PYG{n+na}{charset}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{title}\PYG{p}{\PYGZgt{}}Formulario\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{title}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{form}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{fieldset}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{legend}\PYG{p}{\PYGZgt{}}Datos fiscales\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{legend}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{select} \PYG{n+na}{multiple}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}multiple\PYGZdq{}}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}Automoción\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{selected}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}selected\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                Metal
            \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}Informática\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{selected}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}selected\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                Finanzas
            \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{select}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}autonomo\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}autonomo\PYGZdq{}}\PYG{p}{\PYGZgt{}}
            Autónomo
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}c\PYGZus{}ajena\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}c\PYGZus{}ajena\PYGZdq{}}\PYG{p}{\PYGZgt{}}
            Por c. ajena
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}nosabe\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}nosabe\PYGZdq{}}\PYG{p}{\PYGZgt{}}
            No sabe
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
        Describa su función:\PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{textarea}\PYG{p}{\PYGZgt{}}Escriba aquí\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{textarea}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{fieldset}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{form}\PYG{p}{\PYGZgt{}}

\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{html}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsection{Enunciado}
\label{tema2:id17}
\emph{Crea un formulario como este}

\noindent{\hspace*{\fill}\scalebox{0.500000}{\sphinxincludegraphics{{formu3}.png}}\hspace*{\fill}}


\subsection{Solución}
\label{tema2:id18}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{form}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{fieldset}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{legend}\PYG{p}{\PYGZgt{}}
                        Laboral
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{legend}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}}
                           \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}contratos[]\PYGZdq{}}
                           \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}ajena\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                Por cuenta ajena
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}}
                           \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}contratos[]\PYGZdq{}}
                           \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}autonomo\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                Autónomo
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
                ¿Alguna vez en el extranjero?
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}radio\PYGZdq{}}
                           \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}en\PYGZus{}extranjero\PYGZdq{}}
                           \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}si\PYGZus{}en\PYGZus{}extranjero\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                Sí

                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{select} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}lugar\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}en\PYGZus{}ue\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                Dentro de la UE
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}en\PYGZus{}asia\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                En Asia
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}en\PYGZus{}hispanoamerica\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                En Hispanoamérica
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}en\PYGZus{}eeuu\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                En EE.UU
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}en\PYGZus{}otro\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                En otro
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{select}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}radio\PYGZdq{}}
                           \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}en\PYGZus{}extranjero\PYGZdq{}}
                           \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}no\PYGZus{}en\PYGZus{}extranjero\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                No
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{fieldset}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{fieldset}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{legend}\PYG{p}{\PYGZgt{}}
                        Personal
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{legend}\PYG{p}{\PYGZgt{}}
                Apellidos y nombre:
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}text\PYGZdq{}}
                           \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}ap\PYGZus{}nombre\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
                Conocimientos sobre:\PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{select} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}cono\PYGZdq{}} \PYG{n+na}{multiple}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}informatica\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                Informática
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}conduccion\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                Conducción
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}finanzas\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                Finanzas
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}leyes\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                Leyes
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{select}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{fieldset}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{form}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\section{Examen}
\label{tema2:examen}
Se realizará el Jueves 10 de noviembre de 2016


\chapter{CSS}
\label{tema3::doc}\label{tema3:css}

\section{Introducción}
\label{tema3:introduccion}
El lenguaje CSS permite cambiar el aspecto de páginas web utilizando enlaces a archivos de hojas de estilo. Si todos los HTML de un portal web cargan el mismo archivo CSS se puede cambiar todo un conjunto de HTML's modificando un solo CSS.


\section{Posicionamiento}
\label{tema3:posicionamiento}
Para posicionar los elementos se suelen utilizar dos etiquetas que no hacen nada especial, salvo actuar de contenedores. Las etiquetas \textless{}span\textgreater{} y \textless{}div\textgreater{}.
\begin{itemize}
\item {} 
\textless{}span\textgreater{} se usa para no romper el flujo, es decir en principio todo va en la misma línea

\item {} 
\textless{}div\textgreater{} sí rompe el flujo, por lo que va a una línea distinta

\end{itemize}

En cualquier etiqueta puede ocurrir que deseemos que el estilo no se aplique a todos los elementos o que queramos que se aplique a unos cuantos (pero no a todos). En ese caso, se deben utilizar los atributos \sphinxcode{class} e \sphinxcode{id}
\begin{itemize}
\item {} 
El \sphinxcode{class} es un atributo que puede llevar el mismo valor en muchos elementos HTML y que nos permitirá despues seleccionarlos a todos.

\item {} 
El \sphinxcode{id} es un atributo que debe tener distinto valor en todos los casos, no se puede repetir.

\end{itemize}

Para posicionar correctamente un span o un div, se deben tener en cuenta
varias cosas:
\begin{itemize}
\item {} 
Todos deberían llevar un id o un class (o las dos cosas)

\item {} \begin{description}
\item[{El posicionamiento tiene varias posibilidades:}] \leavevmode\begin{itemize}
\item {} 
\sphinxcode{fixed}: la caja va en cierta posición y no se mueve de allí

\item {} 
\sphinxcode{absolute}: la caja va en cierta posición inicial y puede desaparecer al hacer scroll.

\item {} 
\sphinxcode{relative}: podemos indicar una posición para indicar el desplazamiento relativo con respecto a la posición que le correspondería según el navegador

\item {} 
static: dar permiso al navegador para que coloque la caja donde corresponda

\item {} 
float: mover la caja a cierta posición permitiendo que otras cajas floten a su alrededor

\end{itemize}

\end{description}

\end{itemize}


\subsection{Ejercicio de maquetación}
\label{tema3:ejercicio-de-maquetacion}
Crear una página con la siguiente estructura:
\begin{itemize}
\item {} 
En el margen izquierdo debe aparecer una barra de enlaces que ocupe el 20 o 25\% de la anchura de la página y no debe desaparecer aunque el usuario se mueva.

\item {} 
En el margen derecho debe aparecer una caja con el texto y resto de información de interés que debe ocupar el 80 o 75\% de la página y el texto se mueve cuando el usuario se mueve.

\item {} 
Aplicar bordes y efectos visuales a ambas cajas para intentar que el efecto final sea estéticamente aceptable.

\end{itemize}
\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics{{maquetacion1}.png}
\caption{Resultado final}\label{tema3:id8}\end{figure}


\subsubsection{HTML}
\label{tema3:html}
\begin{Verbatim}[commandchars=\\\{\}]
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}enlaces\PYGZdq{}}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{ul}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{a} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}http://www.google.es\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                Google
            \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{a}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{a} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}http://www.terra.es\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                Terra
            \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{a}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{a} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}http://www.yahoo.es\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                Yahoo
            \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{a}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{ul}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}contenido\PYGZdq{}}\PYG{p}{\PYGZgt{}}

\PYG{p}{\PYGZlt{}}\PYG{n+nt}{p}\PYG{p}{\PYGZgt{}}
            Nunc tempor libero risus, et ultricies ex auctor a. Curabitur efficitur convallis justo consectetur porttitor. Suspendisse potenti. Curabitur ex felis, lacinia non varius ac, ornare eget lacus. Nunc dolor mauris, fermentum nec augue id, imperdiet eleifend tortor. Vestibulum commodo orci ut lorem suscipit, at sodales justo aliquet. Vestibulum sit amet purus eu mauris imperdiet aliquet sed vitae magna. Integer tempus elit purus ...

            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{img} \PYG{n+na}{src}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}gatito1.jpg\PYGZdq{}}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{p}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsubsection{CSS}
\label{tema3:id1}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{body}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{background\PYGZhy{}image}\PYG{o}{:}
                \PYG{l+s+sx}{url(\PYGZdq{}textura.jpg\PYGZdq{})}\PYG{p}{;}
        \PYG{n+nb}{background\PYGZhy{}attachment}\PYG{o}{:} \PYG{n+nb}{fixed}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}

\PYG{n+nt}{div}\PYG{n+nn}{\PYGZsh{}enlaces}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{position}\PYG{o}{:} \PYG{n+nb}{fixed}\PYG{p}{;}
        \PYG{n+nb}{top}\PYG{o}{:}\PYG{l+m}{40\PYGZpc{}}\PYG{p}{;}
        \PYG{n+nb}{left}\PYG{o}{:}\PYG{l+m}{0px}\PYG{p}{;}
        \PYG{n+nb}{width}\PYG{o}{:}\PYG{l+m}{17\PYGZpc{}}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}

\PYG{n+nt}{div}\PYG{n+nn}{\PYGZsh{}contenido}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{width}\PYG{o}{:} \PYG{l+m}{80\PYGZpc{}}\PYG{p}{;}
        \PYG{n+nb}{position}\PYG{o}{:} \PYG{n+nb}{absolute}\PYG{p}{;}
        \PYG{n+nb}{top}\PYG{o}{:}\PYG{l+m}{0px}\PYG{p}{;}
        \PYG{n+nb}{right}\PYG{o}{:} \PYG{l+m}{0px}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}

\PYG{c}{/* Todos los párrafos llevan}
\PYG{c}{ * un pequeño sangrado extra}
\PYG{c}{ * de 15 px en la primera línea*/}
\PYG{n+nt}{p}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{text\PYGZhy{}indent}\PYG{o}{:} \PYG{l+m}{15px}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}

\PYG{n+nt}{img}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{width}\PYG{o}{:} \PYG{l+m}{25\PYGZpc{}}\PYG{p}{;}
        \PYG{n+nb}{border}\PYG{o}{:} \PYG{n+nb}{solid} \PYG{n+nb}{black} \PYG{l+m}{1px}\PYG{p}{;}
        \PYG{n+nb}{padding}\PYG{o}{:} \PYG{l+m}{4px}\PYG{p}{;}
        \PYG{n+nb}{display}\PYG{o}{:} \PYG{n+nb}{block}\PYG{p}{;}
        \PYG{n+nb}{margin\PYGZhy{}left}\PYG{o}{:} \PYG{n+nb}{auto}\PYG{p}{;}
        \PYG{n+nb}{margin\PYGZhy{}right}\PYG{o}{:} \PYG{n+nb}{auto}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}


\subsection{Ejercicio 2 de maquetación}
\label{tema3:ejercicio-2-de-maquetacion}
Conseguir una página como esta
\begin{figure}[htbp]
\centering

\noindent\sphinxincludegraphics{{maquetaacme}.png}
\end{figure}


\subsection{HTML}
\label{tema3:id2}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}contenedorglobal\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}cabecera\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{span} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}marcacabecera\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                        ACME
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{span}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{span} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}lemacabecera\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                        donde hay que comprar
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{span}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}} \PYG{c}{\PYGZlt{}!\PYGZhy{}\PYGZhy{}}\PYG{c}{Fin de la cabecera}\PYG{c}{\PYGZhy{}\PYGZhy{}\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}cuerpo\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                En un lugar de la Mancha ...
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}enlaces\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{ol}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{a} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}google.es\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                        Google
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{a}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{a} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}google.es\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                        Google
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{a}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{a} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}google.es\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                        Google
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{a}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{a} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}google.es\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                        Google
                                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{a}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{ol}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsection{CSS}
\label{tema3:id3}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nn}{\PYGZsh{}cabecera}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{text\PYGZhy{}align}\PYG{o}{:} \PYG{n+nb}{center}\PYG{p}{;}
        \PYG{n+nb}{background\PYGZhy{}color}\PYG{o}{:}
                \PYG{n+nb}{rgb}\PYG{p}{(}\PYG{l+m}{242}\PYG{o}{,}\PYG{l+m}{227}\PYG{o}{,}\PYG{l+m}{148}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\PYG{n+nn}{\PYGZsh{}marcacabecera}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{font\PYGZhy{}size}\PYG{o}{:} \PYG{n+nb}{larger}\PYG{p}{;}
        \PYG{n+nb}{font\PYGZhy{}family}\PYG{o}{:} \PYG{l+s+s2}{\PYGZdq{}Impact\PYGZdq{}}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}
\PYG{n+nn}{\PYGZsh{}lemacabecera}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{font\PYGZhy{}style}\PYG{o}{:} \PYG{n+nb}{italic}\PYG{p}{;}
        \PYG{n+nb}{font\PYGZhy{}size}\PYG{o}{:} \PYG{n+nb}{smaller}\PYG{p}{;}
        \PYG{n+nb}{font\PYGZhy{}family}\PYG{o}{:} \PYG{l+s+s2}{\PYGZdq{}Lucida Handwriting\PYGZdq{}}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}

\PYG{n+nt}{div}\PYG{n+nn}{\PYGZsh{}cuerpo}\PYG{o}{,} \PYG{n+nt}{div}\PYG{n+nn}{\PYGZsh{}enlaces}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{background\PYGZhy{}color}\PYG{o}{:}
                \PYG{n+nb}{rgb}\PYG{p}{(}\PYG{l+m}{217}\PYG{o}{,}\PYG{l+m}{195}\PYG{o}{,}\PYG{l+m}{89}\PYG{p}{);}

\PYG{p}{\PYGZcb{}}

\PYG{n+nt}{div}\PYG{n+nn}{\PYGZsh{}cuerpo}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{width}\PYG{o}{:}\PYG{l+m}{65\PYGZpc{}}\PYG{p}{;}
        \PYG{n+nb}{float}\PYG{o}{:}\PYG{n+nb}{left}\PYG{p}{;}
        \PYG{n+nb}{margin\PYGZhy{}top}\PYG{o}{:} \PYG{l+m}{20px}\PYG{p}{;}
        \PYG{n+nb}{padding}\PYG{o}{:}\PYG{l+m}{10px}\PYG{p}{;}
        \PYG{n+nb}{text\PYGZhy{}align}\PYG{o}{:} \PYG{n+nb}{justify}\PYG{p}{;}

\PYG{p}{\PYGZcb{}}
\PYG{n+nt}{div}\PYG{n+nn}{\PYGZsh{}enlaces}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{width}\PYG{o}{:} \PYG{l+m}{20\PYGZpc{}}\PYG{p}{;}
        \PYG{n+nb}{float}\PYG{o}{:}\PYG{n+nb}{right}\PYG{p}{;}
        \PYG{n+nb}{margin\PYGZhy{}top}\PYG{o}{:}\PYG{l+m}{20px}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}

\PYG{n+nt}{div}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{border\PYGZhy{}width}\PYG{o}{:} \PYG{l+m}{1px}\PYG{p}{;}
        \PYG{n+nb}{border\PYGZhy{}style}\PYG{o}{:} \PYG{n+nb}{solid}\PYG{p}{;}
        \PYG{n+nb}{border\PYGZhy{}color}\PYG{o}{:} \PYG{n+nb}{black}\PYG{p}{;}
        \PYG{n+nb}{background\PYGZhy{}color}\PYG{o}{:}
                \PYG{n+nb}{rgb}\PYG{p}{(}\PYG{l+m}{230}\PYG{o}{,}\PYG{l+m}{230}\PYG{o}{,} \PYG{l+m}{230}\PYG{p}{);}
\PYG{p}{\PYGZcb{}}

\PYG{n+nt}{div}\PYG{n+nn}{\PYGZsh{}contenedorglobal}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{background\PYGZhy{}color}\PYG{o}{:}
                \PYG{n+nb}{rgb}\PYG{p}{(}\PYG{l+m}{188}\PYG{o}{,}\PYG{l+m}{182}\PYG{o}{,}\PYG{l+m}{175}\PYG{p}{);}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}


\subsection{Ejercicio: barra de herramientas}
\label{tema3:ejercicio-barra-de-herramientas}
Crear una página con dos cajas diferenciadas. Una de ellas, que ocupará el 30\% de la página contendrá enlaces a diferentes sitios web. La caja no se moverá aunque el usuario haga scroll. Por  otro lado, la otra caja ocupará el 70\% de la página y habrá que llenarla de texto para poder desplazarse por él y comprobar que la caja de enlaces no se mueve.

El HTML sería algo así:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}!DOCTYPE html\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{html}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{link} \PYG{n+na}{rel}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}stylesheet\PYGZdq{}} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}solucion1.css\PYGZdq{}} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}text/css\PYGZdq{}}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{title}\PYG{p}{\PYGZgt{}}Ejercicio 1\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{title}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}enlaces\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{ul}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{a} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}http://cocacola.com\PYGZdq{}}\PYG{p}{\PYGZgt{}}CocaCola\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{a}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{a} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}http://google.com\PYGZdq{}}\PYG{p}{\PYGZgt{}}Google\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{a}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{a} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}http://terra.es\PYGZdq{}}\PYG{p}{\PYGZgt{}}Terra\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{a}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}

        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{ul}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}contenido\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        En un lugar de la Mancha..
        En ...
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{html}\PYG{p}{\PYGZgt{}}
\end{Verbatim}

Y el CSS que resuelve el problema sería:


\subsection{Ejercicio: ampliación}
\label{tema3:ejercicio-ampliacion}
Ampliar el ejemplo anterior para hacer que el contenido solo ocupe el 50\% y añadir una barra de publicidad fija en el centro vertical que ocupe el 20\%.

El HTML sería

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}!DOCTYPE html\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{html}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{link} \PYG{n+na}{rel}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}stylesheet\PYGZdq{}} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}solucion2.css\PYGZdq{}} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}text/css\PYGZdq{}}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{title}\PYG{p}{\PYGZgt{}}Ejercicio 1\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{title}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}enlaces\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{ul}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{a} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}http://cocacola.com\PYGZdq{}}\PYG{p}{\PYGZgt{}}CocaCola\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{a}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{a} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}http://google.com\PYGZdq{}}\PYG{p}{\PYGZgt{}}Google\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{a}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{a} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}http://terra.es\PYGZdq{}}\PYG{p}{\PYGZgt{}}Terra\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{a}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}

        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{ul}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}publi\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{ul}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{a} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}http://iesmaestredecalatrava.es\PYGZdq{}}\PYG{p}{\PYGZgt{}}IES\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{a}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{ul}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}contenido\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        En un lugar de la Mancha.. (repetido)
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}


\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{html}\PYG{p}{\PYGZgt{}}
\end{Verbatim}

Y el CSS que resuelve el problema sería:


\subsection{Ejercicio}
\label{tema3:ejercicio}
Crear una estructura de página con una cabecera que ocupe el 100\% de la página, con texto centrado y algunos enlaces. A continuación un bloque de contenido que ocupe el 70\% y a su izquierda un bloque de publicidad que ocupe el 30\%. Debe haber un pie de página con el copyright que ocupe el 100\% de la página, con el texto centrado y que no se mueva cuando el usuario desplace el texto.

El HTML sería

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}!DOCTYPE html\PYGZgt{}}

\PYG{p}{\PYGZlt{}}\PYG{n+nt}{html}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{link} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}solucion4.css\PYGZdq{}} \PYG{n+na}{rel}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}stylesheet\PYGZdq{}} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}text/css\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{title}\PYG{p}{\PYGZgt{}}Ejercicio\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{title}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}

\PYG{p}{\PYGZlt{}}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}

\PYG{p}{\PYGZlt{}}\PYG{n+nt}{header} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}cabecera\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{a} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}http://google.es\PYGZdq{}}\PYG{p}{\PYGZgt{}}Google\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{a}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{a} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}http://terra.es\PYGZdq{}}\PYG{p}{\PYGZgt{}}Terra\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{a}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{header}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{section} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}contenido\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        Texto texto texto ...

\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{section}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{aside} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}publi\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{a} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}http://cocacola.es\PYGZdq{}}\PYG{p}{\PYGZgt{}}Beba Coca\PYGZhy{}Cola\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{a}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{aside}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{footer}\PYG{p}{\PYGZgt{}}
        \PYG{n+ni}{\PYGZam{}copy;} Pepe Perez, IES Maestre 2013\PYGZhy{}2014
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{footer}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{html}\PYG{p}{\PYGZgt{}}
\end{Verbatim}

Y el CSS que resuelve el problema sería:


\subsection{Posicionamiento float}
\label{tema3:posicionamiento-float}
En el posicionamiento \sphinxcode{float} solo indicaremos la anchura de una caja. El resto de los elementos se encajará automáticamente en el espacio restante dejado por dicha caja.


\subsection{Ejercicio}
\label{tema3:id4}
Crear una página con una cabecera que ocupe el 100\%, que tenga el texto centrado y una zona debajo que tenga 3 partes: contenido (60\%), enlaces\_relacionados (20\%) y publicidad(20\% restante). Crear un pie de página con una anchura del 100\%.


\section{Gestión de espacios}
\label{tema3:gestion-de-espacios}
En CSS se puede controlar el espacio interno y externo por medio de las propiedades \sphinxcode{padding-} y \sphinxcode{margin-} pudiendo usar \sphinxcode{margin-top} o \sphinxcode{padding-left}. Las cuatro posiciones son \sphinxcode{top}, \sphinxcode{bottom}, \sphinxcode{left} y \sphinxcode{right}


\section{Colores}
\label{tema3:colores}
Los colores en CSS se pueden especificar de varias maneras:
\begin{itemize}
\item {} 
Por nombre: \sphinxcode{red}, \sphinxcode{yellow}, \sphinxcode{green}

\item {} 
Mediante \sphinxcode{rgb(rojo, verde, azul}, donde entre comas se pone la cantidad de cada color de 0 a 255. Así, \sphinxcode{rgb(0,0,0)} es negro y \sphinxcode{rgb(255,255,255)} es blanco.

\item {} 
Se puede usar directamente la nomenclatura hexadecimal \#ffffff. Donde cada dos letras se indica un número hexadecimal de 00 a ff, que indica respectivamente la cantidad de color rojo, verde o azul.

\end{itemize}

Se pueden encontrar en Internet listas de colores denominados ``seguros'' (buscando por ``web safe colors'') que indican nombres de color que se ven igual en los distintos navegadores.


\section{Tipografías}
\label{tema3:tipografias}
En tipografía se habla de dos términos distintos: el ``typeface'' y la ``font''.
\begin{itemize}
\item {} 
Hay tipos ``Serif'', que llevan ``rabito''.

\item {} 
Hay tipos ``Sans-serif'' que no lo llevan

\item {} 
Hay tipos monoespaciados

\end{itemize}

Lo más relevante, es que cuando usamos \sphinxcode{font-family: "Arial";}, el navegador puede decidir poner otro tipo de letra de la misma familia.

Se pueden indicar varios tipos de letra por orden de preferencia.

Google Fonts permite el ``embebido'' de fuentes de manera muy segura.


\section{Alineación del texto}
\label{tema3:alineacion-del-texto}
Se puede usar la propiedad \sphinxcode{text-align: left} para modificar la alineación del texto, usando \sphinxcode{left}, \sphinxcode{center}, \sphinxcode{right} o \sphinxcode{justify}


\section{Decoración del texto}
\label{tema3:decoracion-del-texto}
Se pueden usar otras propiedades para cambiar
el aspecto del texto como estas:
\begin{itemize}
\item {} 
\sphinxcode{text-decoration: underline}

\item {} 
\sphinxcode{text-decoration: overline}

\item {} 
\sphinxcode{text-decoration: line-through}

\end{itemize}


\section{Medidas}
\label{tema3:medidas}
Normalmente, lo más seguro es usar medidas en forma de porcentajes, pero hay otras
\begin{itemize}
\item {} 
\sphinxcode{margin: 1cm}

\item {} 
\sphinxcode{margin: 1in}: esta y la anterior son más útiles cuando creamos hojas de estilo enfocadas a que la página quede bien cuando se imprima.

\item {} 
\sphinxcode{margin: 1px}: muy dependiente de la resolución

\item {} 
\sphinxcode{margin: 1\%}: es la más apropiada al modificar elementos div en pantalla.

\item {} 
\sphinxcode{margin: 1em}: equivale aproximadamente a la anchura de una letra ``m''.

\end{itemize}


\section{Selectores}
\label{tema3:selectores}
\url{http://10.9.0.252:8000}

Explica qué hacen los siguientes selectores y crea un ejemplo HTML donde se pueda ver que realmente funcionan como esperas
\begin{itemize}
\item {} 
p\#destacado

\item {} 
p.destacado

\item {} 
p.destacado, span\#id1

\item {} 
p.destacado \textgreater{} li.elemento\_enumeracion

\item {} 
p.destacado \textgreater{} .elemento\_numeracion

\item {} 
.destacado \textgreater{} \#id1

\end{itemize}

Supongamos que tenemos un archivo HTML como este:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{p}\PYG{p}{\PYGZgt{}}
        Párrafo sin class ni ide
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{p}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{p} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}cita\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}destacado\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        Párrafo con el class \PYGZsq{}cita\PYGZsq{}
        y el id \PYGZsq{}p\PYGZus{}destacado\PYGZsq{}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{p}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{p} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}p\PYGZus{}destacado\PYGZdq{}}\PYG{p}{\PYGZgt{}}Párrafo con el class
        destacado que no
        contiene nada
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{p}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{p} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}p\PYGZus{}destacado\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        Párrafo con el class destacado.
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{span} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}id1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                Este texto va dentro de
                un span con el
                id id1
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{span}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{p}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{p} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}destacado\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{ol}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}elemento\PYGZus{}numeracion\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                        Esto es un li
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{li} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}elemento\PYGZus{}numeracion\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                        Esto es otro li
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{li}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{ol}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{p}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{p} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}destacado\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        Este párrafo tiene el class
        destacado y en él enumeramos
        cosas como
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{span} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}elemento\PYGZus{}numeracion\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                A
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{span}\PYG{p}{\PYGZgt{}},
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{span} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}elemento\PYGZus{}numeracion\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                B
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{span}\PYG{p}{\PYGZgt{}} o también
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{span} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}elemento\PYGZus{}numeracion\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                C
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{span}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{p}\PYG{p}{\PYGZgt{}}

\PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}destacado\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        Aquí hay un
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{span} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}id1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                span con el id id1
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{span}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsection{Solución \texttt{p\#destacado}}
\label{tema3:solucion-p-destacado}
Si tenemos un estilo como este:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{p}\PYG{n+nn}{\PYGZsh{}destacado}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{border}\PYG{o}{:}\PYG{n+nb}{solid} \PYG{n+nb}{black} \PYG{l+m}{1px}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}

Lo que ocurrirá es que se pondrá un borde solo al párrafo cuyo \sphinxcode{id} sea \sphinxcode{destacado}
\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics{{selectores1}.png}
\caption{Resultado}\label{tema3:id9}\end{figure}


\subsection{Solución \texttt{p.destacado}}
\label{tema3:id5}
Los cambios se aplican a todos los párrafos con el \sphinxcode{class} \emph{destacado}
\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics{{selectores2}.png}
\caption{Resultado}\label{tema3:id10}\end{figure}


\subsection{Solución \texttt{p.destacado, span\#id1}}
\label{tema3:solucion-p-destacado-span-id1}
Los cambios se aplican a todos los párrafos con el \sphinxcode{class} \emph{destacado} y también al \sphinxcode{span} cuyo \sphinxcode{id} sea \sphinxcode{id1}

\begin{notice}{warning}{Advertencia:}
Obsérvese que en el HTML hay \textbf{dos elementos con el mismo ID}. No se debe hacer esto, ya que corremos el riesgo de que todo se vea mal.
\end{notice}
\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics{{selectores3}.png}
\caption{Resultado}\label{tema3:id11}\end{figure}


\subsection{Solución \texttt{p.destacado \textgreater{} li.elemento\_enumeracion}}
\label{tema3:solucion-p-destacado-li-elemento-enumeracion}
Los cambios solo se aplican a \textbf{los li cuyo class sea elemento\_numeración y que además sean hijos de un p cuyo class sea destacado}

¿Por qué los cambios no afectan a ninguno?


\subsection{Solución \texttt{p.destacado \textgreater{} .elemento\_numeracion}}
\label{tema3:solucion-p-destacado-elemento-numeracion}
Ocurre lo mismo de antes, ¿por qué?


\subsection{Solución \texttt{.destacado \textgreater{} \#id1}}
\label{tema3:solucion-destacado-id1}
Ahora el resultado es este
\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics{{selectores4}.png}
\caption{Resultado}\label{tema3:id12}\end{figure}

¿Por qué ahora sí funciona?


\section{Bootstrap}
\label{tema3:bootstrap}
Bootstrap define una estructura básica de clases CSS para facilitar el desarrollo web. En concreto CSS consigue que crear páginas que se vean igual en dispositivos muy distintos sea algo relativamente sencillo.


\subsection{Estructura básica}
\label{tema3:estructura-basica}
El siguiente HTML define lo mínimo que se necesita para crear una página con Bootstrap. Dentro de \sphinxcode{\textless{}body\textgreater{}} podremos poner lo que necesitemos y el \emph{framework} colocará todo automáticamente y le aplicará cierto estilismo.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}!DOCTYPE html\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{html} \PYG{n+na}{lang}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}en\PYGZdq{}}\PYG{p}{\PYGZgt{}}
  \PYG{p}{\PYGZlt{}}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{meta} \PYG{n+na}{charset}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{meta} \PYG{n+na}{http\PYGZhy{}equiv}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}X\PYGZhy{}UA\PYGZhy{}Compatible\PYGZdq{}} \PYG{n+na}{content}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}IE=edge\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{meta} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}viewport\PYGZdq{}} \PYG{n+na}{content}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}width=device\PYGZhy{}width, initial\PYGZhy{}scale=1\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{title}\PYG{p}{\PYGZgt{}}Plantilla bootstrap\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{title}\PYG{p}{\PYGZgt{}}

        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{link} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}css/bootstrap.min.css\PYGZdq{}} \PYG{n+na}{rel}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}stylesheet\PYGZdq{}}\PYG{p}{\PYGZgt{}}


        \PYG{c}{\PYGZlt{}!\PYGZhy{}\PYGZhy{}}\PYG{c}{[if lt IE 9]\PYGZgt{}}
\PYG{c}{          \PYGZlt{}script src=\PYGZdq{}js/html5shiv.min.js\PYGZdq{}\PYGZgt{}\PYGZlt{}/script\PYGZgt{}}
\PYG{c}{          \PYGZlt{}script src=\PYGZdq{}js/respond.min.js\PYGZdq{}\PYGZgt{}\PYGZlt{}/script\PYGZgt{}}
\PYG{c}{        \PYGZlt{}![endif]}\PYG{c}{\PYGZhy{}\PYGZhy{}\PYGZgt{}}
  \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}
  \PYG{p}{\PYGZlt{}}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{h1}\PYG{p}{\PYGZgt{}}Página con Bootstrap\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{h1}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}container\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{script} \PYG{n+na}{src}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}js/jquery.min.js\PYGZdq{}}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{script}\PYG{p}{\PYGZgt{}}

        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{script} \PYG{n+na}{src}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}js/bootstrap.min.js\PYGZdq{}}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{script}\PYG{p}{\PYGZgt{}}
  \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{html}\PYG{p}{\PYGZgt{}}
\end{Verbatim}

Lo único que se debe asumir es que debe existir un \sphinxcode{\textless{}div\textgreater{}} cuyo \sphinxcode{class} sea \sphinxcode{container}


\subsection{Rejilla o \emph{grid}}
\label{tema3:rejilla-o-grid}
Bootstrap asume que cualquier pantalla tiene una anchura básica de 12 columnas. Podremos crear una fila de elementos y hacer que cada una de ellas ocupe cierta proporción de esas columnas.

Por ejemplo, si deseamos que una fila de contenidos tenga una columna que ocupe la mitad de esas 12 columnas (6) y dos columnas que ocupen la mitad restante, podremos hacer lo siguiente.

\begin{Verbatim}[commandchars=\\\{\}]
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}container\PYGZdq{}}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}row\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}col\PYGZhy{}md\PYGZhy{}6\PYGZdq{}}\PYG{p}{\PYGZgt{}}
            Mitad del contenedor
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}col\PYGZhy{}md\PYGZhy{}3\PYGZdq{}}\PYG{p}{\PYGZgt{}}
            Esto ocupa un cuarto
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}col\PYGZhy{}md\PYGZhy{}3\PYGZdq{}}\PYG{p}{\PYGZgt{}}
            Esto ocupa otro  cuarto
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
\end{Verbatim}
\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics{{bs1}.png}
\caption{Ejemplo del grid}\label{tema3:id13}\end{figure}

En realidad Bootstrap define muchos tipos de columna dependiendo del tipo de dispositivo al que nos hayamos enfocado más:
\begin{itemize}
\item {} 
col-xs-3: ocupa 3 de las doce columnas de un dispositivo que se ha dividido en 12 pero tiene una anchura ``muy pequeña/extrasmall'' (menos de 768)

\item {} 
col-sm-3: ocupa 3 de las doce columnas de un dispositivo que se ha dividido en 12 pero tiene una anchura ``pequeña/{\color{red}\bfseries{}*}sm*all'' (más de 768 y menos de 992)

\item {} 
col-md-6: ocupa 6 de las doce columnas de un dispositivo que se ha dividido en 12 pero tiene una anchura ``media'' (unos 992 px)

\item {} 
col-lg-9: ocupa 9 de las doce columnas de un dispositivo que se ha dividido en 12 pero tiene una anchura ``grande/large'' (unos 992 px)

\end{itemize}


\subsection{Tipografía}
\label{tema3:tipografia}
Bootstrap modifica la tipografía por defecto e incluso permite destacar algunos elementos. Por ejemplo un párrafo con la clase \sphinxcode{lead} destacará:

\begin{Verbatim}[commandchars=\\\{\}]
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{p} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}lead\PYGZdq{}}\PYG{p}{\PYGZgt{}}
            Este párrafo es muy importante
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{p}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{p}\PYG{p}{\PYGZgt{}}Este párrafo es normal\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{p}\PYG{p}{\PYGZgt{}}
\end{Verbatim}
\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics{{bs2}.png}
\caption{Párrafo destacado}\label{tema3:id14}\end{figure}

Se puede destacar texto usando lo siguiente:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{mark}\PYG{p}{\PYGZgt{}}Texto subrayado en amarillo\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{mark}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\chapter{Javascript}
\label{tema4::doc}\label{tema4:javascript}

\section{Introducción}
\label{tema4:introduccion}
Surgió como una iniciativa de Netscape. \textbf{No hay ninguna relación entre Java y Javascript}. Algunas características de Javascript son:
\begin{itemize}
\item {} 
No se convierte en bytecodes, lo interpreta el navegador

\item {} 
Está estandarizado aunque no todos los navegadores se ciñen al 100\% al estándar. El nombre del estándar es ``ECMAScript''

\item {} 
No está orientado a objetos, sino que está basado en objetos.

\item {} 
Es de tipado débil: esto significa que podemos cambiar una variable de tipo sin problemas, el intérprete intentará hacer las conversiones correctas.

\end{itemize}


\section{Tipos de datos}
\label{tema4:tipos-de-datos}
Javascript acepta los siguientes tipos de datos:
\begin{itemize}
\item {} 
Números.

\item {} 
Cadenas

\item {} 
Booleanos (lógicos)

\item {} 
undefined: se utiliza cuando intentamos acceder a una variable que no contiene nada porque no se ha creado.

\item {} 
null: se utiliza habitualmente para indicar algo vacío.

\end{itemize}


\section{Incrustando Javascript}
\label{tema4:incrustando-javascript}
Javascript se inserta en HTML con la etiqueta \sphinxcode{\textless{}script\textgreater{}}. Esta etiqueta puede ir en cualquier sitio del HTML, dentro de \sphinxcode{\textless{}head\textgreater{}} o dentro de \sphinxcode{\textless{}body\textgreater{}}.

Un programa muy simple sería este:

\begin{Verbatim}[commandchars=\\\{\}]
    \PYG{k+kd}{var} \PYG{n+nx}{una\PYGZus{}variable}
\PYG{n+nx}{una\PYGZus{}variable}\PYG{o}{=}\PYG{l+m+mi}{42}
\PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write}\PYG{p}{(}\PYG{n+nx}{una\PYGZus{}variable}\PYG{p}{)}
\end{Verbatim}


\section{Decisiones}
\label{tema4:decisiones}
Las decisiones se toman con la sentencia \sphinxcode{if} que funciona exactamente igual que en Java. Se pueden utilizar los mismos operadores \sphinxcode{\&\&} y \sphinxcode{\textbar{}\textbar{}} al igual que en Java.

\begin{Verbatim}[commandchars=\\\{\}]
    \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{una\PYGZus{}variable} \PYG{o}{\PYGZgt{}} \PYG{n+nx}{otra\PYGZus{}variable}\PYG{p}{)} \PYG{p}{\PYGZob{}}
    \PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}La primera es mayor que la segunda\PYGZdq{}}\PYG{p}{)}
\PYG{p}{\PYGZcb{}} \PYG{k}{else} \PYG{p}{\PYGZob{}}
    \PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}La segunda es mayor que la primera\PYGZdq{}}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}


\section{Vectores o Arrays}
\label{tema4:vectores-o-arrays}
En Javascript los arrays pueden almacenar elementos de distinto tipo. Al crearlos podemos indicar el tamaño o no, pero no habrá problemas si queremos almacenar más elementos de los previstos.

\begin{Verbatim}[commandchars=\\\{\}]
    \PYG{c+cm}{/* Una forma de crear un array*/}
\PYG{n+nx}{vector\PYGZus{}nombres}\PYG{o}{=}\PYG{k}{new} \PYG{n+nb}{Array}\PYG{p}{(}\PYG{p}{)}
\PYG{n+nx}{vector\PYGZus{}nombres}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}Juan Perez\PYGZdq{}}
\PYG{n+nx}{vector\PYGZus{}nombres}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}Pedro Diaz\PYGZdq{}}
\PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}El primer nombre es:\PYGZdq{}}\PYG{o}{+}\PYG{n+nx}{vector\PYGZus{}nombres}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{)}

\PYG{c+cm}{/* Otra forma de crearlos*/}
\PYG{n+nx}{vector\PYGZus{}numeros}\PYG{o}{=}\PYG{k}{new} \PYG{n+nb}{Array}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{)}
\PYG{n+nx}{vector\PYGZus{}numeros}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{=}\PYG{l+m+mi}{23}
\PYG{n+nx}{vector\PYGZus{}numeros}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{=}\PYG{o}{\PYGZhy{}}\PYG{l+m+mf}{45.23}
\PYG{n+nx}{vector\PYGZus{}numeros}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{]}\PYG{o}{=}\PYG{l+m+mi}{45}\PYG{n+nx}{e2}
\end{Verbatim}


\section{Bucles}
\label{tema4:bucles}

\subsection{Bucles for}
\label{tema4:bucles-for}

\subsubsection{Bucles for estilo clásico}
\label{tema4:bucles-for-estilo-clasico}
En estos bucles hay que poner la inicialización, la condición de final y la actualización:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k}{for} \PYG{p}{(}\PYG{k+kd}{var} \PYG{n+nx}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{;} \PYG{n+nx}{i}\PYG{o}{\PYGZlt{}}\PYG{n+nx}{vector\PYGZus{}numeros}\PYG{p}{.}\PYG{n+nx}{length}\PYG{p}{;} \PYG{n+nx}{i}\PYG{o}{++}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZlt{}br/\PYGZgt{}\PYGZdq{}}\PYG{p}{)}
\PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}En la posición \PYGZdq{}}\PYG{o}{+}\PYG{n+nx}{i}\PYG{p}{)}
\PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{} está el número \PYGZdq{}} \PYG{o}{+} \PYG{n+nx}{vector\PYGZus{}numeros}\PYG{p}{[}\PYG{n+nx}{i}\PYG{p}{]}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}

Obsérvese que hemos introducido el atributo \sphinxcode{length} de la clase \sphinxcode{Array} que nos indica la longitud del vector.


\subsubsection{Ejercicio}
\label{tema4:ejercicio}
Crear un vector de 6 posiciones y rellenarlo con estos números: 9.98, 7.86, 4.53, 8.91, 5.76, 2.31.

Ordenar el vector y mostrar el contenido del vector ordenado por pantalla.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n}{var} \PYG{n}{v}\PYG{o}{=}\PYG{k}{new} \PYG{n}{Array}\PYG{o}{(}\PYG{o}{)}
\PYG{n}{v}\PYG{o}{=}\PYG{o}{[}\PYG{l+m+mf}{9.98}\PYG{o}{,} \PYG{l+m+mf}{7.86}\PYG{o}{,} \PYG{l+m+mf}{4.53}\PYG{o}{,}
   \PYG{l+m+mf}{8.91}\PYG{o}{,} \PYG{l+m+mf}{5.76}\PYG{o}{,} \PYG{l+m+mf}{2.31}\PYG{o}{]}

\PYG{c+cm}{/* Vamos cogiendo cada elemento...*/}
\PYG{k}{for} \PYG{o}{(}\PYG{n}{var} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{v}\PYG{o}{.}\PYG{n+na}{length}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
    \PYG{c+cm}{/* Y se compara con}
\PYG{c+cm}{     * todos los demas*/}
    \PYG{k}{for} \PYG{o}{(}\PYG{n}{var} \PYG{n}{j}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{j}\PYG{o}{\PYGZlt{}}\PYG{n}{v}\PYG{o}{.}\PYG{n+na}{length}\PYG{o}{;} \PYG{n}{j}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)} \PYG{o}{\PYGZob{}}
        \PYG{k}{if} \PYG{o}{(}\PYG{n}{v}\PYG{o}{[}\PYG{n}{j}\PYG{o}{]}\PYG{o}{\PYGZgt{}}\PYG{n}{v}\PYG{o}{[}\PYG{n}{i}\PYG{o}{]}\PYG{o}{)} \PYG{o}{\PYGZob{}}
            \PYG{n}{aux}\PYG{o}{=}\PYG{n}{v}\PYG{o}{[}\PYG{n}{i}\PYG{o}{]}
            \PYG{n}{v}\PYG{o}{[}\PYG{n}{i}\PYG{o}{]}\PYG{o}{=}\PYG{n}{v}\PYG{o}{[}\PYG{n}{j}\PYG{o}{]}
            \PYG{n}{v}\PYG{o}{[}\PYG{n}{j}\PYG{o}{]}\PYG{o}{=}\PYG{n}{aux}
        \PYG{o}{\PYGZcb{}} \PYG{c+cm}{/* Fin del if*/}
    \PYG{o}{\PYGZcb{}} \PYG{c+cm}{/* Fin del for interno*/}
\PYG{o}{\PYGZcb{}} \PYG{c+cm}{/* fin del for externo*/}


\PYG{c+cm}{/* Se imprime el contenido*/}
\PYG{k}{for} \PYG{o}{(}\PYG{n}{var} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{v}\PYG{o}{.}\PYG{n+na}{length}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
    \PYG{n}{alert} \PYG{o}{(}\PYG{l+s}{\PYGZdq{}Pos \PYGZdq{}}\PYG{o}{+}\PYG{n}{i}\PYG{o}{+} \PYG{l+s}{\PYGZdq{}:\PYGZdq{}}\PYG{o}{+}\PYG{n}{v}\PYG{o}{[}\PYG{n}{i}\PYG{o}{]}\PYG{o}{)}
\PYG{o}{\PYGZcb{}}
\end{Verbatim}


\subsubsection{Bucles foreach}
\label{tema4:bucles-foreach}
Funciona igual que el anterior pero es mucho más corto.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k}{for} \PYG{p}{(}\PYG{k+kd}{var} \PYG{n+nx}{posicion} \PYG{k}{in} \PYG{n+nx}{vector\PYGZus{}numeros}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                \PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZlt{}br/\PYGZgt{}\PYGZdq{}}\PYG{p}{)}
                \PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}En la posición \PYGZdq{}}\PYG{o}{+}\PYG{n+nx}{posicion}\PYG{p}{)}
                \PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{} está el número \PYGZdq{}} \PYG{o}{+} \PYG{n+nx}{vector\PYGZus{}numeros}\PYG{p}{[}\PYG{n+nx}{posicion}\PYG{p}{]}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}


\subsection{Bucles while}
\label{tema4:bucles-while}
Los bucles \sphinxcode{while} funcionan igual que en Java

\begin{Verbatim}[commandchars=\\\{\}]
    \PYG{k+kd}{var} \PYG{n+nx}{posicion}\PYG{o}{=}\PYG{l+m+mi}{0}
    \PYG{k}{while} \PYG{p}{(}\PYG{n+nx}{posicion}\PYG{o}{\PYGZlt{}}\PYG{n+nx}{vector\PYGZus{}numeros}\PYG{p}{.}\PYG{n+nx}{length}\PYG{p}{)}\PYG{p}{\PYGZob{}}
                    \PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZlt{}br/\PYGZgt{}\PYGZdq{}}\PYG{p}{)}
                    \PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}En la posición \PYGZdq{}}\PYG{o}{+}\PYG{n+nx}{posicion}\PYG{p}{)}
                    \PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{} está el número \PYGZdq{}} \PYG{o}{+} \PYG{n+nx}{vector\PYGZus{}numeros}\PYG{p}{[}\PYG{n+nx}{posicion}\PYG{p}{]}\PYG{p}{)}
                    \PYG{n+nx}{posicion}\PYG{o}{++}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}


\section{Ejercicio: media aritmética}
\label{tema4:ejercicio-media-aritmetica}
Crear un programa que calcule la media aritmética del vector de números.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{var} \PYG{n+nx}{suma}\PYG{o}{=}\PYG{l+m+mi}{0}
\PYG{k}{for} \PYG{p}{(}\PYG{k+kd}{var} \PYG{n+nx}{pos} \PYG{k}{in} \PYG{n+nx}{vector\PYGZus{}numeros}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{n+nx}{suma}\PYG{o}{=}\PYG{n+nx}{suma}\PYG{o}{+}\PYG{n+nx}{vector\PYGZus{}numeros}\PYG{p}{[}\PYG{n+nx}{pos}\PYG{p}{]}
\PYG{p}{\PYGZcb{}}
\PYG{k+kd}{var} \PYG{n+nx}{media}\PYG{o}{=}\PYG{n+nx}{suma} \PYG{o}{/} \PYG{n+nx}{vector\PYGZus{}numeros}\PYG{p}{.}\PYG{n+nx}{length}
\PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZlt{}br/\PYGZgt{}La media es:\PYGZdq{}} \PYG{o}{+} \PYG{n+nx}{media}\PYG{p}{)}
\end{Verbatim}


\section{Ejercicio: desviación media}
\label{tema4:ejercicio-desviacion-media}
Crear un programa que calcule la desviación media del vector de números.

\begin{Verbatim}[commandchars=\\\{\}]
    \PYG{c+cm}{/* Para calcular la desviación media*/}
\PYG{n+nx}{suma}\PYG{o}{=}\PYG{l+m+mi}{0}
\PYG{k}{for} \PYG{p}{(}\PYG{k+kd}{var} \PYG{n+nx}{pos} \PYG{k}{in} \PYG{n+nx}{vector\PYGZus{}numeros}\PYG{p}{)} \PYG{p}{\PYGZob{}}
    \PYG{k+kd}{var} \PYG{n+nx}{desviacion}\PYG{o}{=} \PYG{n+nb}{Math}\PYG{p}{.}\PYG{n+nx}{abs} \PYG{p}{(} \PYG{n+nx}{vector\PYGZus{}numeros}\PYG{p}{[}\PYG{n+nx}{pos}\PYG{p}{]} \PYG{o}{\PYGZhy{}} \PYG{n+nx}{media} \PYG{p}{)}
    \PYG{n+nx}{suma} \PYG{o}{=} \PYG{n+nx}{suma} \PYG{o}{+} \PYG{n+nx}{desviacion}
\PYG{p}{\PYGZcb{}}
\PYG{c+cm}{/* En este punto la variable suma contiene la suma de las desviaciones*/}
\PYG{k+kd}{var} \PYG{n+nx}{desv\PYGZus{}media} \PYG{o}{=} \PYG{n+nx}{suma} \PYG{o}{/} \PYG{n+nx}{vector\PYGZus{}numeros}\PYG{p}{.}\PYG{n+nx}{length}
\PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZlt{}br/\PYGZgt{}La desv media es:\PYGZdq{}}\PYG{o}{+}\PYG{n+nx}{desv\PYGZus{}media}\PYG{p}{)}
\end{Verbatim}


\section{Ejercicio: la mediana}
\label{tema4:ejercicio-la-mediana}
Calcular la mediana del vector

\begin{Verbatim}[commandchars=\\\{\}]
        \PYG{k}{if} \PYG{o}{(}\PYG{n}{v}\PYG{o}{.}\PYG{n+na}{length}\PYG{o}{\PYGZpc{}}\PYG{l+m+mi}{2}\PYG{o}{=}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{)} \PYG{o}{\PYGZob{}}
    \PYG{n}{var} \PYG{n}{pos1}\PYG{o}{=}\PYG{n}{v}\PYG{o}{.}\PYG{n+na}{length}\PYG{o}{/}\PYG{l+m+mi}{2}
    \PYG{n}{var} \PYG{n}{pos2}\PYG{o}{=}\PYG{n}{pos1}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}
    \PYG{n}{var} \PYG{n}{elem1}\PYG{o}{=}\PYG{n}{v}\PYG{o}{[}\PYG{n}{pos1}\PYG{o}{]}
    \PYG{n}{var} \PYG{n}{elem2}\PYG{o}{=}\PYG{n}{v}\PYG{o}{[}\PYG{n}{pos2}\PYG{o}{]}
    \PYG{n}{var} \PYG{n}{mediana}\PYG{o}{=}\PYG{o}{(}\PYG{n}{elem1}\PYG{o}{+}\PYG{n}{elem2}\PYG{o}{)}\PYG{o}{/}\PYG{l+m+mi}{2}
\PYG{o}{\PYGZcb{}} \PYG{k}{else} \PYG{o}{\PYGZob{}}
    \PYG{n}{var} \PYG{n}{pos\PYGZus{}central}\PYG{o}{=}\PYG{o}{(}\PYG{n}{v}\PYG{o}{.}\PYG{n+na}{length}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{o}{)}\PYG{o}{/}\PYG{l+m+mi}{2}
    \PYG{n}{var} \PYG{n}{mediana}\PYG{o}{=}\PYG{n}{v}\PYG{o}{[}\PYG{n}{pos\PYGZus{}central}\PYG{o}{]}
\PYG{o}{\PYGZcb{}}
\PYG{n}{doc}     \PYG{n}{ument}\PYG{o}{.}\PYG{n+na}{write}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}La mediana es:\PYGZdq{}}\PYG{o}{+}\PYG{n}{mediana}\PYG{o}{)}
\end{Verbatim}


\section{Funciones}
\label{tema4:funciones}
Para crear una función usaremos la palabra \sphinxcode{function}, pondremos el nombre, luego los parámetros, dentro irá el código de la función, y si queremos devolver algo usaremos \sphinxcode{return}.

\begin{Verbatim}[commandchars=\\\{\}]
    \PYG{c+cm}{/* Función a la que le pasamos un vector de números y que}
\PYG{c+cm}{ * nos devuelve la media de sus valores*/}

\PYG{k+kd}{function} \PYG{n+nx}{calcularMedia}\PYG{p}{(}\PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{)}\PYG{p}{\PYGZob{}}
    \PYG{k+kd}{var} \PYG{n+nx}{suma}\PYG{o}{=}\PYG{l+m+mi}{0}
    \PYG{k}{for} \PYG{p}{(}\PYG{k+kd}{var} \PYG{n+nx}{pos} \PYG{k}{in} \PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{n+nx}{suma} \PYG{o}{=} \PYG{n+nx}{suma} \PYG{o}{+} \PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{[}\PYG{n+nx}{pos}\PYG{p}{]}
    \PYG{p}{\PYGZcb{}}
    \PYG{k}{return} \PYG{n+nx}{suma} \PYG{o}{/} \PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{.}\PYG{n+nx}{length}
\PYG{p}{\PYGZcb{}}

\PYG{k+kd}{var} \PYG{n+nx}{vector}\PYG{o}{=}\PYG{k}{new} \PYG{n+nb}{Array}\PYG{p}{(}\PYG{l+m+mi}{4}\PYG{p}{)}
\PYG{n+nx}{vector}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{=}\PYG{l+m+mi}{5}
\PYG{n+nx}{vector}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{=}\PYG{l+m+mi}{2}
\PYG{n+nx}{vector}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{]}\PYG{o}{=}\PYG{l+m+mi}{7}
\PYG{n+nx}{vector}\PYG{p}{[}\PYG{l+m+mi}{3}\PYG{p}{]}\PYG{o}{=}\PYG{l+m+mi}{8}

\PYG{k+kd}{var} \PYG{n+nx}{media}\PYG{o}{=}\PYG{n+nx}{calcularMedia}\PYG{p}{(}\PYG{n+nx}{vector}\PYG{p}{)}
\PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZlt{}br/\PYGZgt{}La media es:\PYGZdq{}}\PYG{o}{+}\PYG{n+nx}{media}\PYG{p}{)}
\end{Verbatim}

Una cuestión importante es que las funciones son valores asignables. Cuando queramos asignar una función a una variable \textbf{no pondremos paréntesis}. Cuando sí queramos ejecutar una función (ya sea con su nombre original o con el de la variable, sí pondremos los paréntesis con los parámetros que queramos pasar**.

\begin{Verbatim}[commandchars=\\\{\}]
    \PYG{k+kd}{function} \PYG{n+nx}{saludar}\PYG{p}{(}\PYG{n+nx}{nombre}\PYG{p}{)}\PYG{p}{\PYGZob{}}
    \PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}Hola \PYGZdq{}}
        \PYG{o}{+}\PYG{n+nx}{nombre}\PYG{o}{+}\PYG{l+s+s2}{\PYGZdq{}\PYGZlt{}br/\PYGZgt{}\PYGZdq{}}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\PYG{k+kd}{function} \PYG{n+nx}{despedir}\PYG{p}{(}\PYG{n+nx}{nombre}\PYG{p}{)}\PYG{p}{\PYGZob{}}
    \PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}Adios \PYGZdq{}}
        \PYG{o}{+}\PYG{n+nx}{nombre}\PYG{o}{+}\PYG{l+s+s2}{\PYGZdq{}\PYGZlt{}br/\PYGZgt{}\PYGZdq{}}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\PYG{n+nx}{saludar}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}Antonio\PYGZdq{}}\PYG{p}{)}
\PYG{n+nx}{despedir}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}Antonio\PYGZdq{}}\PYG{p}{)}
\PYG{c+cm}{/* Las funciones son valores}
\PYG{c+cm}{ * asignables*/}
\PYG{k+kd}{var} \PYG{n+nx}{f}\PYG{o}{=}\PYG{n+nx}{despedir}
\PYG{n+nx}{f}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}Tomas\PYGZdq{}}\PYG{p}{)}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema4:id1}
Crear un programa que tenga una función que calcule la desviación media de valores de un vector.

\begin{Verbatim}[commandchars=\\\{\}]
    \PYG{c+cm}{/* Función que calcula la desviacion media de}
\PYG{c+cm}{    * un vector de valores numericos*/}
\PYG{k+kd}{function} \PYG{n+nx}{calcularDesviacionMedia}\PYG{p}{(}\PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{)}\PYG{p}{\PYGZob{}}
    \PYG{k+kd}{var} \PYG{n+nx}{media}\PYG{o}{=}\PYG{n+nx}{calcularMedia}\PYG{p}{(}\PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{)}
    \PYG{k+kd}{var} \PYG{n+nx}{suma}\PYG{o}{=}\PYG{l+m+mi}{0}
    \PYG{k}{for} \PYG{p}{(}\PYG{k+kd}{var} \PYG{n+nx}{pos} \PYG{k}{in} \PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{n+nx}{suma}\PYG{o}{=} \PYG{n+nx}{suma} \PYG{o}{+} \PYG{n+nb}{Math}\PYG{p}{.}\PYG{n+nx}{abs} \PYG{p}{(}  \PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{[}\PYG{n+nx}{pos}\PYG{p}{]} \PYG{o}{\PYGZhy{}} \PYG{n+nx}{media}  \PYG{p}{)}
    \PYG{p}{\PYGZcb{}}
    \PYG{k}{return} \PYG{n+nx}{suma} \PYG{o}{/} \PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{.}\PYG{n+nx}{length}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema4:id2}
Crear un programa que tenga una función que calcule la moda.

\begin{Verbatim}[commandchars=\\\{\}]
    \PYG{c+cm}{/* Este vector nos dice cuantas veces aparece un número}
\PYG{c+cm}{ * en un vector*/}
\PYG{k+kd}{function} \PYG{n+nx}{calcularFrecuencia}\PYG{p}{(}\PYG{n+nx}{numero}\PYG{p}{,} \PYG{n+nx}{vector}\PYG{p}{)}\PYG{p}{\PYGZob{}}
    \PYG{k+kd}{var} \PYG{n+nx}{num\PYGZus{}veces}\PYG{o}{=}\PYG{l+m+mi}{0}
    \PYG{k}{for} \PYG{p}{(}\PYG{k+kd}{var} \PYG{n+nx}{pos} \PYG{k}{in} \PYG{n+nx}{vector}\PYG{p}{)} \PYG{p}{\PYGZob{}}
        \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{vector}\PYG{p}{[}\PYG{n+nx}{pos}\PYG{p}{]}\PYG{o}{==}\PYG{n+nx}{numero}\PYG{p}{)} \PYG{p}{\PYGZob{}}
            \PYG{n+nx}{num\PYGZus{}veces}\PYG{o}{++}
        \PYG{p}{\PYGZcb{}}
    \PYG{p}{\PYGZcb{}}
    \PYG{k}{return} \PYG{n+nx}{num\PYGZus{}veces}
\PYG{p}{\PYGZcb{}}

\PYG{c+cm}{/* Dado un vector de números se nos devuelve la posición}
\PYG{c+cm}{ * del número mayor*/}
\PYG{k+kd}{function} \PYG{n+nx}{obtenerPosMayor}\PYG{p}{(}\PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{)}\PYG{p}{\PYGZob{}}
    \PYG{k+kd}{var} \PYG{n+nx}{posMayor}\PYG{o}{=}\PYG{l+m+mi}{0}
    \PYG{k+kd}{var} \PYG{n+nx}{numMayor}\PYG{o}{=}\PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}
    \PYG{k}{for} \PYG{p}{(}\PYG{k+kd}{var} \PYG{n+nx}{pos} \PYG{k}{in} \PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{[}\PYG{n+nx}{pos}\PYG{p}{]}\PYG{o}{\PYGZgt{}}\PYG{n+nx}{numMayor}\PYG{p}{)} \PYG{p}{\PYGZob{}}
            \PYG{n+nx}{numMayor}\PYG{o}{=}\PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{[}\PYG{n+nx}{pos}\PYG{p}{]}
            \PYG{n+nx}{posMayor}\PYG{o}{=}\PYG{n+nx}{pos}
        \PYG{p}{\PYGZcb{}}
    \PYG{p}{\PYGZcb{}}
    \PYG{k}{return} \PYG{n+nx}{posMayor}
\PYG{p}{\PYGZcb{}}
\PYG{c+cm}{/* Función que devuelve el número \PYGZdq{}moda\PYGZdq{} de un vector*/}
\PYG{k+kd}{function} \PYG{n+nx}{obtenerModa}\PYG{p}{(}\PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{)}\PYG{p}{\PYGZob{}}
    \PYG{k+kd}{var} \PYG{n+nx}{frecuencias}\PYG{o}{=}\PYG{k}{new} \PYG{n+nb}{Array}\PYG{p}{(}\PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{.}\PYG{n+nx}{length}\PYG{p}{)}
    \PYG{k}{for} \PYG{p}{(}\PYG{k+kd}{var} \PYG{n+nx}{pos} \PYG{k}{in} \PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{)}\PYG{p}{\PYGZob{}}
         \PYG{k+kd}{var} \PYG{n+nx}{numero}\PYG{o}{=}\PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{[}\PYG{n+nx}{pos}\PYG{p}{]}
         \PYG{n+nx}{frecuencias}\PYG{p}{[}\PYG{n+nx}{pos}\PYG{p}{]}\PYG{o}{=}\PYG{n+nx}{calcularFrecuencia}\PYG{p}{(}\PYG{n+nx}{numero}\PYG{p}{,} \PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{)}
    \PYG{p}{\PYGZcb{}}
    \PYG{k+kd}{var} \PYG{n+nx}{posModa}\PYG{o}{=}\PYG{n+nx}{obtenerPosMayor}\PYG{p}{(}\PYG{n+nx}{frecuencias}\PYG{p}{)}
    \PYG{k}{return} \PYG{n+nx}{vector\PYGZus{}valores}\PYG{p}{[}\PYG{n+nx}{posModa}\PYG{p}{]}

\PYG{p}{\PYGZcb{}}
\PYG{k+kd}{var} \PYG{n+nx}{vector}\PYG{o}{=}\PYG{k}{new} \PYG{n+nb}{Array}\PYG{p}{(}\PYG{l+m+mi}{4}\PYG{p}{)}
\PYG{n+nx}{vector}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{=}\PYG{l+m+mi}{7}
\PYG{n+nx}{vector}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{=}\PYG{l+m+mi}{7}
\PYG{n+nx}{vector}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{]}\PYG{o}{=}\PYG{l+m+mi}{7}
\PYG{n+nx}{vector}\PYG{p}{[}\PYG{l+m+mi}{3}\PYG{p}{]}\PYG{o}{=}\PYG{l+m+mi}{5}
    \PYG{k+kd}{var} \PYG{n+nx}{moda}\PYG{o}{=}\PYG{n+nx}{obtenerModa}\PYG{p}{(}\PYG{n+nx}{vector}\PYG{p}{)}
    \PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZlt{}br/\PYGZgt{}La moda es:\PYGZdq{}}\PYG{o}{+}\PYG{n+nx}{moda}\PYG{p}{)}
\end{Verbatim}


\section{Programación OO}
\label{tema4:programacion-oo}
Se ha dicho anteriormente que Javascript es ``basado en objetos'' y no ``orientado a objetos'', es decir la POO es optativa. No por ello es menos potente.

En primer lugar, es posible crear objetos sin crear clases.

\begin{Verbatim}[commandchars=\\\{\}]
    \PYG{k+kd}{var} \PYG{n+nx}{empleado}\PYG{o}{=}\PYG{p}{\PYGZob{}}
    \PYG{n+nx}{nombre}\PYG{o}{:}\PYG{l+s+s2}{\PYGZdq{}Pepe Perez\PYGZdq{}}\PYG{p}{,}
    \PYG{n+nx}{edad}\PYG{o}{:}\PYG{l+m+mi}{27}\PYG{p}{,}
    \PYG{n+nx}{fijo}\PYG{o}{:}\PYG{k+kc}{true}\PYG{p}{,}
    \PYG{n+nx}{estaJubilado}\PYG{o}{:}\PYG{k+kd}{function} \PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{k}{if} \PYG{p}{(}\PYG{k}{this}\PYG{p}{.}\PYG{n+nx}{edad}\PYG{o}{\PYGZgt{}}\PYG{l+m+mi}{65}\PYG{p}{)} \PYG{p}{\PYGZob{}}
            \PYG{k}{return} \PYG{k+kc}{true}
        \PYG{p}{\PYGZcb{}} \PYG{k}{else} \PYG{p}{\PYGZob{}}
            \PYG{k}{return} \PYG{k+kc}{false}
        \PYG{p}{\PYGZcb{}}

    \PYG{p}{\PYGZcb{}}
\PYG{p}{\PYGZcb{}}
\PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZlt{}br/\PYGZgt{}El nombre es:\PYGZdq{}}\PYG{o}{+}\PYG{n+nx}{empleado}\PYG{p}{.}\PYG{n+nx}{nombre}\PYG{p}{)}
\PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZlt{}br/\PYGZgt{}¿Jubilado?\PYGZdq{}} \PYG{o}{+} \PYG{n+nx}{empleado}\PYG{p}{.}\PYG{n+nx}{estaJubilado}\PYG{p}{(}\PYG{p}{)} \PYG{p}{)}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema4:id3}
Añadir un método llamado \sphinxcode{nivelExperiencia} que nos diga una de estas cosas:
\begin{itemize}
\item {} 
Nos debe devolver ``junior'' si la edad está entre 18 y 25

\item {} 
Nos debe devolver ``asociado'' si la edad está entre 26 y 45

\item {} 
Nos debe devolver ``senior'' si la edad está entre 46 y 60

\item {} 
Nos debe devolver ``experto'' si la edad está entre 61 y 65

\item {} 
Nos debe devolver ``no aplicable'' si la edad es mayor de 65

\end{itemize}

\begin{Verbatim}[commandchars=\\\{\}]
    \PYG{k+kd}{var} \PYG{n+nx}{empleado}\PYG{o}{=}\PYG{p}{\PYGZob{}}
    \PYG{n+nx}{nombre}\PYG{o}{:}\PYG{l+s+s2}{\PYGZdq{}Pepe Perez\PYGZdq{}}\PYG{p}{,}
    \PYG{n+nx}{edad}\PYG{o}{:}\PYG{l+m+mi}{27}\PYG{p}{,}
    \PYG{n+nx}{fijo}\PYG{o}{:}\PYG{k+kc}{true}\PYG{p}{,}
    \PYG{n+nx}{estaJubilado}\PYG{o}{:}\PYG{k+kd}{function} \PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{k}{if} \PYG{p}{(}\PYG{k}{this}\PYG{p}{.}\PYG{n+nx}{edad}\PYG{o}{\PYGZgt{}}\PYG{l+m+mi}{65}\PYG{p}{)} \PYG{p}{\PYGZob{}}
            \PYG{k}{return} \PYG{k+kc}{true}
        \PYG{p}{\PYGZcb{}} \PYG{k}{else} \PYG{p}{\PYGZob{}}
            \PYG{k}{return} \PYG{k+kc}{false}
        \PYG{p}{\PYGZcb{}}
    \PYG{p}{\PYGZcb{}}\PYG{p}{,}
    \PYG{n+nx}{nivelExperiencia}\PYG{o}{:}\PYG{k+kd}{function}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{k}{if} \PYG{p}{(} \PYG{p}{(}\PYG{k}{this}\PYG{p}{.}\PYG{n+nx}{edad}\PYG{o}{\PYGZgt{}}\PYG{l+m+mi}{18}\PYG{p}{)}  \PYG{o}{\PYGZam{}\PYGZam{}} \PYG{p}{(}\PYG{k}{this}\PYG{p}{.}\PYG{n+nx}{edad}\PYG{o}{\PYGZlt{}=}\PYG{l+m+mi}{25}\PYG{p}{)} \PYG{p}{)}\PYG{p}{\PYGZob{}}
            \PYG{k}{return} \PYG{l+s+s2}{\PYGZdq{}junior\PYGZdq{}}
        \PYG{p}{\PYGZcb{}}
        \PYG{k}{if} \PYG{p}{(} \PYG{p}{(}\PYG{k}{this}\PYG{p}{.}\PYG{n+nx}{edad}\PYG{o}{\PYGZgt{}=}\PYG{l+m+mi}{26}\PYG{p}{)}  \PYG{o}{\PYGZam{}\PYGZam{}} \PYG{p}{(}\PYG{k}{this}\PYG{p}{.}\PYG{n+nx}{edad}\PYG{o}{\PYGZlt{}=}\PYG{l+m+mi}{45}\PYG{p}{)} \PYG{p}{)}\PYG{p}{\PYGZob{}}
            \PYG{k}{return} \PYG{l+s+s2}{\PYGZdq{}asociado\PYGZdq{}}
        \PYG{p}{\PYGZcb{}}
    \PYG{p}{\PYGZcb{}}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema4:id4}
Crear una clase GestorVectores que tenga los principales métodos estadísticos vistos hasta ahora: media, desviación media, mediana y moda.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nx}{gestor\PYGZus{}vectores}\PYG{o}{=}\PYG{p}{\PYGZob{}}
        \PYG{n+nx}{vector\PYGZus{}numeros}\PYG{o}{:}\PYG{k}{new} \PYG{n+nb}{Array}\PYG{p}{(}\PYG{p}{)}\PYG{p}{,}
        \PYG{n+nx}{setDatos}\PYG{o}{:}\PYG{k+kd}{function}\PYG{p}{(}\PYG{n+nx}{vector}\PYG{p}{)}\PYG{p}{\PYGZob{}}
                \PYG{k}{this}\PYG{p}{.}\PYG{n+nx}{vector\PYGZus{}numeros}\PYG{o}{=}\PYG{n+nx}{vector}

        \PYG{p}{\PYGZcb{}}
        \PYG{p}{,} \PYG{c+c1}{//Importante: separar métodos y atributos con ,}
        \PYG{n+nx}{getMedia}\PYG{o}{:}\PYG{k+kd}{function}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
                \PYG{k+kd}{var} \PYG{n+nx}{suma}\PYG{o}{=}\PYG{l+m+mi}{0}
                \PYG{k+kd}{var} \PYG{n+nx}{media}\PYG{o}{=}\PYG{l+m+mi}{0}
                \PYG{k}{for} \PYG{p}{(}\PYG{n+nx}{pos} \PYG{k}{in} \PYG{k}{this}\PYG{p}{.}\PYG{n+nx}{vector\PYGZus{}numeros}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                        \PYG{n+nx}{suma}\PYG{o}{=}\PYG{n+nx}{suma} \PYG{o}{+} \PYG{k}{this}\PYG{p}{.}\PYG{n+nx}{vector\PYGZus{}numeros}\PYG{p}{[}\PYG{n+nx}{pos}\PYG{p}{]}
                \PYG{p}{\PYGZcb{}}
                \PYG{n+nx}{media}\PYG{o}{=}\PYG{n+nx}{suma} \PYG{o}{/} \PYG{k}{this}\PYG{p}{.}\PYG{n+nx}{vector\PYGZus{}numeros}\PYG{p}{.}\PYG{n+nx}{length}
                \PYG{k}{return} \PYG{n+nx}{media}
        \PYG{p}{\PYGZcb{}}
        \PYG{p}{,}
        \PYG{n+nx}{getModa}\PYG{o}{:}\PYG{k+kd}{function}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}

        \PYG{p}{\PYGZcb{}}
        \PYG{p}{,}
        \PYG{n+nx}{getMediana}\PYG{o}{:}\PYG{k+kd}{function}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
                \PYG{k}{this}\PYG{p}{.}\PYG{n+nx}{vector\PYGZus{}numeros}\PYG{p}{.}\PYG{n+nx}{sort}\PYG{p}{(}\PYG{p}{)}
        \PYG{p}{\PYGZcb{}}
\PYG{p}{\PYGZcb{}}


\PYG{k+kd}{var} \PYG{n+nx}{vector\PYGZus{}prueba}\PYG{o}{=}\PYG{k}{new} \PYG{n+nb}{Array}\PYG{p}{(}\PYG{l+m+mi}{3}\PYG{p}{)}
\PYG{n+nx}{vector\PYGZus{}prueba}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{=}\PYG{l+m+mi}{5}
\PYG{n+nx}{vector\PYGZus{}prueba}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{=}\PYG{l+m+mi}{10}
\PYG{n+nx}{vector\PYGZus{}prueba}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{]}\PYG{o}{=}\PYG{l+m+mi}{8}
\PYG{n+nx}{gestor\PYGZus{}vectores}\PYG{p}{.}\PYG{n+nx}{setDatos} \PYG{p}{(} \PYG{n+nx}{vector\PYGZus{}prueba} \PYG{p}{)}
\PYG{k+kd}{var} \PYG{n+nx}{media}\PYG{o}{=}\PYG{n+nx}{gestor\PYGZus{}vectores}\PYG{p}{.}\PYG{n+nx}{getMedia}\PYG{p}{(}\PYG{p}{)}
\PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{write} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}La media es:\PYGZdq{}}\PYG{o}{+}\PYG{n+nx}{media}\PYG{p}{)}
\end{Verbatim}


\section{Programación con JQuery}
\label{tema4:programacion-con-jquery}
Existen muchos navegadores que a veces muestran pequeñas diferencias entre ellos. Para evitar problemas los programadores tenían que incluir muchos código para comprobar qué navegador ejecutaba su JS y en función de eso actuar. Para resolver estas diferencias John Resig creó JQuery.


\subsection{Inicio}
\label{tema4:inicio}
A partir de ahora todos nuestros archivos HTML tendrán que cargar al comienzo la biblioteca JQuery con una etiqueta como esta:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{script} \PYG{n+na}{src}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}jquery.js\PYGZdq{}} \PYG{n+na}{language}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}Javascript\PYGZdq{}}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{script}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{script} \PYG{n+na}{src}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}nuestroprograma.js\PYGZdq{}} \PYG{n+na}{language}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}Javascript\PYGZdq{}}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{script}\PYG{p}{\PYGZgt{}}
\end{Verbatim}

\textbf{El orden es importante}


\subsection{La función \$}
\label{tema4:la-funcion}
La función \$ selecciona elementos de la página para que podamos hacer cosas con ellos. Es la función más utilizada de JQuery y veremos que podemos pedir que nos seleccione grupos de cosas de forma muy sencilla.

La función \$ devuelve siempre objetos. Los atributos y métodos de esos objetos los iremos aprendiendo poco a poco.

En general, antes de poder procesar un elemento, deberemos seleccionarlo utilizando los mismos selectores que en CSS.


\subsection{Gestión de eventos}
\label{tema4:gestion-de-eventos}
Utilizando \sphinxcode{click} podemos indicar a la biblioteca que queremos que cuando alguien haga click en un elemento se ejecute una cierta función. El siguiente código HTML y JS ilustra una posibilidad

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}!DOCTYPE html\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{html}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{script} \PYG{n+na}{src}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}jquery.js\PYGZdq{}}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{script}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{script} \PYG{n+na}{src}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}ejemplo.js\PYGZdq{}}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{script}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{title}\PYG{p}{\PYGZgt{}}Ejemplos\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{title}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{style}\PYG{p}{\PYGZgt{}}
                \PYG{n+nt}{div}\PYG{n+nn}{\PYGZsh{}texto}\PYG{p}{\PYGZob{}}
                        \PYG{n+nb}{background\PYGZhy{}color}\PYG{o}{:}\PYG{n+nb}{yellow}\PYG{p}{;}
                \PYG{p}{\PYGZcb{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{style}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}

\PYG{p}{\PYGZlt{}}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{form}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}button\PYGZdq{}} \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}fadeOut\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}botonizq\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}button\PYGZdq{}} \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}fadeIn\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}botonder\PYGZdq{}}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{form}\PYG{p}{\PYGZgt{}}

\PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}texto\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        Texto texto texto
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}

\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{html}\PYG{p}{\PYGZgt{}}
\end{Verbatim}

El código Javascript asociado al HTML anterior es este.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cm}{/* Esperaremos hasta que el documento esté cargado y listo}
\PYG{c+cm}{ * para ser procesado por nuestro programa*/}

\PYG{k+kd}{var} \PYG{n+nx}{obj\PYGZus{}documento} \PYG{o}{=} \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{n+nb}{document}\PYG{p}{)}

\PYG{c+cm}{/* Cuando esté cargado ejecutaremos la función cuyo nombre aparezca aquí*/}
\PYG{n+nx}{obj\PYGZus{}documento}\PYG{p}{.}\PYG{n+nx}{ready}\PYG{p}{(}\PYG{n+nx}{inicio}\PYG{p}{)}

\PYG{c+c1}{//* Error gravísimo*/}
\PYG{c+c1}{//obj\PYGZus{}documento.ready( inicio() )}

\PYG{k+kd}{function} \PYG{n+nx}{inicio}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{k+kd}{var} \PYG{n+nx}{obj\PYGZus{}izq}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}botonizq\PYGZdq{}}\PYG{p}{)}
        \PYG{n+nx}{obj\PYGZus{}izq}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(} \PYG{n+nx}{fn\PYGZus{}click\PYGZus{}izq} \PYG{p}{)}
        \PYG{k+kd}{var} \PYG{n+nx}{obj\PYGZus{}der}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}botonder\PYGZdq{}}\PYG{p}{)}
        \PYG{n+nx}{obj\PYGZus{}der}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(} \PYG{n+nx}{fn\PYGZus{}click\PYGZus{}der} \PYG{p}{)}
\PYG{p}{\PYGZcb{}}

\PYG{k+kd}{function} \PYG{n+nx}{fn\PYGZus{}click\PYGZus{}izq}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{k+kd}{var} \PYG{n+nx}{obj\PYGZus{}div}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}texto\PYGZdq{}}\PYG{p}{)}
        \PYG{n+nx}{obj\PYGZus{}div}\PYG{p}{.}\PYG{n+nx}{fadeOut}\PYG{p}{(}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}

\PYG{k+kd}{function} \PYG{n+nx}{fn\PYGZus{}click\PYGZus{}der}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{k+kd}{var} \PYG{n+nx}{obj\PYGZus{}div}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}texto\PYGZdq{}}\PYG{p}{)}
        \PYG{n+nx}{obj\PYGZus{}div}\PYG{p}{.}\PYG{n+nx}{fadeIn}\PYG{p}{(}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}


\subsubsection{Solución HTML (párrafos)}
\label{tema4:solucion-html-parrafos}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{data\PYGZhy{}role}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}content\PYGZdq{}}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}ui\PYGZhy{}grid\PYGZhy{}c\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}ui\PYGZhy{}block\PYGZhy{}a\PYGZdq{}}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}submit\PYGZdq{}}
                   \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}mostrar\PYGZus{}pares\PYGZdq{}}
                   \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}Mostrar pares\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}ui\PYGZhy{}block\PYGZhy{}b\PYGZdq{}}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}submit\PYGZdq{}}
                   \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}ocultar\PYGZus{}pares\PYGZdq{}}
                   \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}Ocultar pares\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}ui\PYGZhy{}block\PYGZhy{}c\PYGZdq{}}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}submit\PYGZdq{}}
                   \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}mostrar\PYGZus{}impares\PYGZdq{}}
                   \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}Mostrar impares\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}ui\PYGZhy{}block\PYGZhy{}d\PYGZdq{}}\PYG{p}{\PYGZgt{}}
            \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}submit\PYGZdq{}}
                   \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}ocultar\PYGZus{}impares\PYGZdq{}}
                   \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}Ocultar impares\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{p} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}p\PYGZus{}impar\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        Soy un párrafo impar
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{p}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{p} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}p\PYGZus{}par\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        Soy un párrafo par
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{p}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{p} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}p\PYGZus{}impar\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        Soy un párrafo impar
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{p}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{p} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}p\PYGZus{}par\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        Soy un párrafo par
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{p}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{p} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}p\PYGZus{}impar\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        Soy un párrafo impar
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{p}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{p} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}p\PYGZus{}par\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        Soy un párrafo par
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{p}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsubsection{Solución Javascript (párrafos)}
\label{tema4:solucion-javascript-parrafos}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{n+nb}{document}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{ready}\PYG{p}{(}\PYG{n+nx}{main}\PYG{p}{)}

\PYG{k+kd}{function} \PYG{n+nx}{mostrar\PYGZus{}pares}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{k+kd}{var} \PYG{n+nx}{objetos}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}.p\PYGZus{}par\PYGZdq{}}\PYG{p}{)}
        \PYG{n+nx}{objetos}\PYG{p}{.}\PYG{n+nx}{slideDown}\PYG{p}{(}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\PYG{k+kd}{function} \PYG{n+nx}{mostrar\PYGZus{}impares}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{k+kd}{var} \PYG{n+nx}{objetos}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}.p\PYGZus{}impar\PYGZdq{}}\PYG{p}{)}
        \PYG{n+nx}{objetos}\PYG{p}{.}\PYG{n+nx}{slideDown}\PYG{p}{(}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\PYG{k+kd}{function} \PYG{n+nx}{ocultar\PYGZus{}pares}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{k+kd}{var} \PYG{n+nx}{objetos}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}.p\PYGZus{}par\PYGZdq{}}\PYG{p}{)}
        \PYG{n+nx}{objetos}\PYG{p}{.}\PYG{n+nx}{slideUp}\PYG{p}{(}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\PYG{k+kd}{function} \PYG{n+nx}{ocultar\PYGZus{}impares}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{k+kd}{var} \PYG{n+nx}{objetos}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}.p\PYGZus{}impar\PYGZdq{}}\PYG{p}{)}
        \PYG{n+nx}{objetos}\PYG{p}{.}\PYG{n+nx}{slideUp}\PYG{p}{(}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}


\PYG{k+kd}{function} \PYG{n+nx}{main}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}

        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}mostrar\PYGZus{}pares\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click}\PYG{p}{(}\PYG{n+nx}{mostrar\PYGZus{}pares}\PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}mostrar\PYGZus{}impares\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click}\PYG{p}{(}\PYG{n+nx}{mostrar\PYGZus{}impares}\PYG{p}{)}

        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}ocultar\PYGZus{}pares\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click}\PYG{p}{(}\PYG{n+nx}{ocultar\PYGZus{}pares}\PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}ocultar\PYGZus{}impares\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click}\PYG{p}{(}\PYG{n+nx}{ocultar\PYGZus{}impares}\PYG{p}{)}

\PYG{p}{\PYGZcb{}}
\end{Verbatim}

Existen diversos eventos aunque los más utilizados son:
\begin{itemize}
\item {} 
\sphinxcode{click}

\item {} 
\sphinxcode{dblclick}

\item {} 
\sphinxcode{mouseover}

\end{itemize}


\subsection{Ejercicio}
\label{tema4:id5}
Crear un programa que tenga varios párrafos con 4 botones que permitan que cuando se haga click en ellos ocurran distintas cosas
\begin{itemize}
\item {} 
Habrá un botón con el texto ``Ocultar pares''. Cuando se hace click en él se ocultan los párrafos pares.

\item {} 
Habrá un botón con el texto ``Ocultar impares''. Cuando se hace click en él se ocultan los párrafos impares.

\item {} 
Habrá un botón con el texto ``Mostrar pares''. Cuando se hace click en él se muestran los párrafos pares (que tal vez estaban ocultos).

\item {} 
Habrá un botón con el texto ``Mostrar impares''. Cuando se hace click en él se muestran los párrafos impares (que tal vez estaban ocultos).

\end{itemize}


\subsection{Ejercicio}
\label{tema4:id6}
Crear una página en la que hay un div con texto y al pasar el ratón por encima de ella, la caja cambia de color.

Antes de poder resolver este ejercicio, hay que echar un vistazo a varias posibilidades de JQuery.


\section{Procesado de atributos}
\label{tema4:procesado-de-atributos}
En JQuery sabemos que podemos procesar elementos utilizando su \sphinxcode{id} con cosas como esta:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{var} \PYG{n+nx}{objeto}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}identificador1\PYGZdq{}}\PYG{p}{)}
\PYG{n+nx}{objeto}\PYG{p}{.}\PYG{n+nx}{metodo}\PYG{p}{(} \PYG{p}{...} \PYG{p}{)}
\end{Verbatim}

Una de las cosas que se puede hacer es leer y escribir diversos atributos de los objetos. Además, se pueden leer propiedades especiales como comprobar si un radio o un checkbox están en el estado \sphinxcode{checked}.

Supongamos este formulario:

\begin{Verbatim}[commandchars=\\\{\}]
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{form}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}radio\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}sexo\PYGZdq{}} \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}h\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}opc\PYGZus{}h\PYGZdq{}}\PYG{p}{\PYGZgt{}}Hombre
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}radio\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}sexo\PYGZdq{}} \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}m\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}opc\PYGZus{}m\PYGZdq{}}\PYG{p}{\PYGZgt{}}Mujer
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}text\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}informe\PYGZdq{}}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medios[]\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}bus\PYGZdq{}}\PYG{p}{\PYGZgt{}}Autobús
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medios[]\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}coche\PYGZdq{}}\PYG{p}{\PYGZgt{}}Coche
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medios[]\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}moto\PYGZdq{}}\PYG{p}{\PYGZgt{}}Moto
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medios[]\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}bici\PYGZdq{}}\PYG{p}{\PYGZgt{}}Bici
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medios[]\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}tren\PYGZdq{}}\PYG{p}{\PYGZgt{}}Tren
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}

\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{form}\PYG{p}{\PYGZgt{}}
\end{Verbatim}

Podemos usar el método \sphinxcode{val} para cambiar el valor de un objeto cualquiera:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{function} \PYG{n+nx}{inicio}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{k+kd}{var} \PYG{n+nx}{opc\PYGZus{}h}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}opc\PYGZus{}h\PYGZdq{}}\PYG{p}{)}
        \PYG{n+nx}{opc\PYGZus{}h}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(} \PYG{n+nx}{click\PYGZus{}hombre} \PYG{p}{)}

        \PYG{k+kd}{var} \PYG{n+nx}{opc\PYGZus{}m}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}opc\PYGZus{}m\PYGZdq{}}\PYG{p}{)}
        \PYG{n+nx}{opc\PYGZus{}m}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(} \PYG{n+nx}{click\PYGZus{}mujer} \PYG{p}{)}
\PYG{p}{\PYGZcb{}}

\PYG{k+kd}{function} \PYG{n+nx}{click\PYGZus{}hombre}\PYG{p}{(}\PYG{p}{)} \PYG{p}{\PYGZob{}}
        \PYG{k+kd}{var} \PYG{n+nx}{cuadro\PYGZus{}texto}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}informe\PYGZdq{}}\PYG{p}{)}
        \PYG{n+nx}{cuadro\PYGZus{}texto}\PYG{p}{.}\PYG{n+nx}{val}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}Bienvenido Sr.\PYGZdq{}}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}

\PYG{k+kd}{function} \PYG{n+nx}{click\PYGZus{}mujer}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{k+kd}{var} \PYG{n+nx}{cuadro\PYGZus{}texto}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}informe\PYGZdq{}}\PYG{p}{)}
        \PYG{n+nx}{cuadro\PYGZus{}texto}\PYG{p}{.}\PYG{n+nx}{val}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}Bienvenido Sra/Srta.\PYGZdq{}}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}

Por ejemplo, en los checkboxes y en los radios, podemos comprobar si uno de ellos está marcado comprobando la propiedad ``checked'' con el método \sphinxcode{prop}.

Supongamos que deseamos saber cuantos checkboxes se marcan. Si se marcan cero, una o dos, mostraremos el texto ``poca variedad'', si se marcan tres mostraremos ``cierta variedad'' y si se marcan cuatro o cinco, mostraremos ``mucha variedad''.

Aquí hay dos posibles soluciones, siendo una de ellas  más corta y flexible que la otra.

La primera:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{var} \PYG{n+nx}{opc\PYGZus{}coche}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}coche\PYGZdq{}}\PYG{p}{)}
\PYG{n+nx}{opc\PYGZus{}coche}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(} \PYG{n+nx}{cuantas\PYGZus{}pulsadas} \PYG{p}{)}

\PYG{k+kd}{var} \PYG{n+nx}{opc\PYGZus{}moto}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}moto\PYGZdq{}}\PYG{p}{)}
\PYG{n+nx}{opc\PYGZus{}moto}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(} \PYG{n+nx}{cuantas\PYGZus{}pulsadas} \PYG{p}{)}

\PYG{k+kd}{var} \PYG{n+nx}{opc\PYGZus{}bici}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}bici\PYGZdq{}}\PYG{p}{)}
\PYG{n+nx}{opc\PYGZus{}bici}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(} \PYG{n+nx}{cuantas\PYGZus{}pulsadas} \PYG{p}{)}

\PYG{k+kd}{var} \PYG{n+nx}{opc\PYGZus{}bus}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}bus\PYGZdq{}}\PYG{p}{)}
\PYG{n+nx}{opc\PYGZus{}bus}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(} \PYG{n+nx}{cuantas\PYGZus{}pulsadas} \PYG{p}{)}

\PYG{k+kd}{var} \PYG{n+nx}{opc\PYGZus{}tren}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}tren\PYGZdq{}}\PYG{p}{)}
\PYG{n+nx}{opc\PYGZus{}tren}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(} \PYG{n+nx}{cuantas\PYGZus{}pulsadas} \PYG{p}{)}

    \PYG{k+kd}{function} \PYG{n+nx}{cuantas\PYGZus{}pulsadas}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
            \PYG{c+c1}{//Aquí contaríamos cuantas tienen la propiedad checked}
    \PYG{p}{\PYGZcb{}}
\end{Verbatim}

El segundo implica que todos los controles tengan el mismo atributo \sphinxcode{class}. Ahora la solución tendría un HTML como este:

\begin{Verbatim}[commandchars=\\\{\}]
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medios[]\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}bus\PYGZdq{}} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medio\PYGZdq{}}\PYG{p}{\PYGZgt{}}Autobús
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medios[]\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}coche\PYGZdq{}} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medio\PYGZdq{}}\PYG{p}{\PYGZgt{}}Coche
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medios[]\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}moto\PYGZdq{}} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medio\PYGZdq{}}\PYG{p}{\PYGZgt{}}Moto
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medios[]\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}bici\PYGZdq{}} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medio\PYGZdq{}}\PYG{p}{\PYGZgt{}}Bici
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medios[]\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}tren\PYGZdq{}} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medio\PYGZdq{}}\PYG{p}{\PYGZgt{}}Tren
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
\end{Verbatim}

Y el JS sería así:

\begin{Verbatim}[commandchars=\\\{\}]
    \PYG{k+kd}{var} \PYG{n+nx}{medios\PYGZus{}de\PYGZus{}locomocion}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}.medio\PYGZdq{}}\PYG{p}{)}
\PYG{n+nx}{medios\PYGZus{}de\PYGZus{}locomocion}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(} \PYG{n+nx}{cuantas\PYGZus{}pulsadas} \PYG{p}{)}
    \PYG{k+kd}{function} \PYG{n+nx}{cuantas\PYGZus{}pulsadas}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
            \PYG{k+kd}{var} \PYG{n+nx}{cuantas\PYGZus{}marcadas}\PYG{o}{=}\PYG{l+m+mi}{0}
            \PYG{k+kd}{var} \PYG{n+nx}{vector\PYGZus{}ids}\PYG{o}{=}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}bus\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}coche\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}moto\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}bici\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}tren\PYGZdq{}}\PYG{p}{]}

            \PYG{k}{for} \PYG{p}{(}\PYG{n+nx}{pos} \PYG{k}{in} \PYG{n+nx}{vector\PYGZus{}ids}\PYG{p}{)}\PYG{p}{\PYGZob{}}
                    \PYG{k+kd}{var} \PYG{n+nx}{objeto} \PYG{o}{=} \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(} \PYG{n+nx}{vector\PYGZus{}ids}\PYG{p}{[}\PYG{n+nx}{pos}\PYG{p}{]} \PYG{p}{)}
                    \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{objeto}\PYG{p}{.}\PYG{n+nx}{prop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}checked\PYGZdq{}}\PYG{p}{)}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                            \PYG{n+nx}{cuantas\PYGZus{}marcadas}\PYG{o}{=}\PYG{n+nx}{cuantas\PYGZus{}marcadas}\PYG{o}{+}\PYG{l+m+mi}{1}
                    \PYG{p}{\PYGZcb{}}
            \PYG{p}{\PYGZcb{}}

            \PYG{k}{if} \PYG{p}{(}\PYG{p}{(}\PYG{n+nx}{cuantas\PYGZus{}marcadas}\PYG{o}{\PYGZgt{}=}\PYG{l+m+mi}{0} \PYG{p}{)} \PYG{o}{\PYGZam{}\PYGZam{}} \PYG{p}{(}\PYG{n+nx}{cuantas\PYGZus{}marcadas}\PYG{o}{\PYGZlt{}=}\PYG{l+m+mi}{2}\PYG{p}{)}\PYG{p}{)}\PYG{p}{\PYGZob{}}
                    \PYG{n+nx}{alert} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}Poca variedad\PYGZdq{}}\PYG{p}{)}
            \PYG{p}{\PYGZcb{}}
            \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{cuantas\PYGZus{}marcadas}\PYG{o}{==}\PYG{l+m+mi}{3}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                    \PYG{n+nx}{alert} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}Variedad media\PYGZdq{}}\PYG{p}{)}
            \PYG{p}{\PYGZcb{}}
            \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{cuantas\PYGZus{}marcadas}\PYG{o}{\PYGZgt{}=}\PYG{l+m+mi}{4}\PYG{p}{)}\PYG{p}{\PYGZob{}}
                    \PYG{n+nx}{alert} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}Mucha variedad\PYGZdq{}}\PYG{p}{)}
            \PYG{p}{\PYGZcb{}}
    \PYG{p}{\PYGZcb{}}
\end{Verbatim}


\subsection{Ejercicio: recuento de medios de locomoción}
\label{tema4:ejercicio-recuento-de-medios-de-locomocion}
Crear un programa que permita al usuario indicar cinco posibles medios de locomoción (usar checkboxes), a saber:coche, moto, bus, tren y avión. El programa debe contabilizar cuantos se usan en informar del número de medios usados en un textbox.


\subsubsection{Solución: recuento de medios (HTML)}
\label{tema4:solucion-recuento-de-medios-html}
\begin{Verbatim}[commandchars=\\\{\}]
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}ui\PYGZhy{}grid\PYGZhy{}d\PYGZdq{}}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}ui\PYGZhy{}block\PYGZhy{}a\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}}
               \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medio\PYGZdq{}}
               \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}coche\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}coche\PYGZdq{}}\PYG{p}{\PYGZgt{}}Coche\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}ui\PYGZhy{}block\PYGZhy{}b\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}}
               \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medio\PYGZdq{}}
               \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}moto\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}moto\PYGZdq{}}\PYG{p}{\PYGZgt{}}Moto\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}ui\PYGZhy{}block\PYGZhy{}c\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}}
               \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medio\PYGZdq{}}
               \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}bus\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}bus\PYGZdq{}}\PYG{p}{\PYGZgt{}}Bus\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}ui\PYGZhy{}block\PYGZhy{}d\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}}
               \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medio\PYGZdq{}}
               \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}tren\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}tren\PYGZdq{}}\PYG{p}{\PYGZgt{}}Tren\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}ui\PYGZhy{}block\PYGZhy{}e\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}}
               \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}medio\PYGZdq{}}
               \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}avion\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}avion\PYGZdq{}}\PYG{p}{\PYGZgt{}}Avión\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
    \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}text\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}informe\PYGZdq{}}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsubsection{Solución: recuento de medios (JS)}
\label{tema4:solucion-recuento-de-medios-js}
Variante 1: Sin vectores, implica usar muchos \sphinxcode{if}. Aunque funcione supone cortar y pegar, que aunque en este caso no sea un trabajo muy grande nos obliga a adoptar malos hábitos

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{n+nb}{document}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{ready}\PYG{p}{(}\PYG{n+nx}{main}\PYG{p}{)}

\PYG{k+kd}{function} \PYG{n+nx}{contar}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{k+kd}{var} \PYG{n+nx}{contador}\PYG{o}{=}\PYG{l+m+mi}{0}

        \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}coche\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{prop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}checked\PYGZdq{}}\PYG{p}{)}\PYG{p}{)}
        \PYG{p}{\PYGZob{}}
                \PYG{n+nx}{contador}\PYG{o}{=}\PYG{n+nx}{contador}\PYG{o}{+}\PYG{l+m+mi}{1}
        \PYG{p}{\PYGZcb{}}
        \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}moto\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{prop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}checked\PYGZdq{}}\PYG{p}{)}\PYG{p}{)}
        \PYG{p}{\PYGZob{}}
                \PYG{n+nx}{contador}\PYG{o}{=}\PYG{n+nx}{contador}\PYG{o}{+}\PYG{l+m+mi}{1}
        \PYG{p}{\PYGZcb{}}
        \PYG{k+kd}{var} \PYG{n+nx}{mensaje}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}Medios:\PYGZdq{}}\PYG{o}{+}\PYG{n+nx}{contador}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}informe\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{val}\PYG{p}{(}\PYG{n+nx}{mensaje}\PYG{p}{)}

\PYG{p}{\PYGZcb{}}

\PYG{k+kd}{function} \PYG{n+nx}{main}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}coche\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click}\PYG{p}{(}\PYG{n+nx}{contar}\PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}moto\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click}\PYG{p}{(}\PYG{n+nx}{contar}\PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}bus\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click}\PYG{p}{(}\PYG{n+nx}{contar}\PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}tren\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click}\PYG{p}{(}\PYG{n+nx}{contar}\PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}avion\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click}\PYG{p}{(}\PYG{n+nx}{contar}\PYG{p}{)}

\PYG{p}{\PYGZcb{}}
\end{Verbatim}

Variante 2: Con vectores

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{n+nb}{document}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{ready}\PYG{p}{(}\PYG{n+nx}{main}\PYG{p}{)}
\PYG{k+kd}{function} \PYG{n+nx}{contar}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{k+kd}{var} \PYG{n+nx}{contador}\PYG{o}{=}\PYG{l+m+mi}{0}
        \PYG{k+kd}{var} \PYG{n+nx}{ids}\PYG{o}{=}\PYG{k}{new} \PYG{n+nb}{Array}\PYG{p}{(}\PYG{p}{)}
        \PYG{k+kd}{var} \PYG{n+nx}{ids}\PYG{o}{=}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}coche\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}moto\PYGZdq{}}\PYG{p}{,}
                         \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}bus\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}tren\PYGZdq{}}\PYG{p}{,}
                         \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}avion\PYGZdq{}}\PYG{p}{]}

        \PYG{k}{for} \PYG{p}{(}\PYG{n+nx}{pos} \PYG{k}{in} \PYG{n+nx}{ids}\PYG{p}{)}\PYG{p}{\PYGZob{}}
                \PYG{k+kd}{var} \PYG{n+nx}{medio}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{n+nx}{ids}\PYG{p}{[}\PYG{n+nx}{pos}\PYG{p}{]}\PYG{p}{)}
                \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{medio}\PYG{p}{.}\PYG{n+nx}{prop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}checked\PYGZdq{}}\PYG{p}{)}\PYG{p}{)}
                \PYG{p}{\PYGZob{}}
                        \PYG{n+nx}{contador}\PYG{o}{=}\PYG{n+nx}{contador}\PYG{o}{+}\PYG{l+m+mi}{1}
                \PYG{p}{\PYGZcb{}}
        \PYG{p}{\PYGZcb{}}
        \PYG{k+kd}{var} \PYG{n+nx}{mensaje}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}Medios:\PYGZdq{}}\PYG{o}{+}\PYG{n+nx}{contador}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}informe\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{val}\PYG{p}{(}\PYG{n+nx}{mensaje}\PYG{p}{)}

\PYG{p}{\PYGZcb{}}

\PYG{k+kd}{function} \PYG{n+nx}{main}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}coche\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click}\PYG{p}{(}\PYG{n+nx}{contar}\PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}moto\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click}\PYG{p}{(}\PYG{n+nx}{contar}\PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}bus\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click}\PYG{p}{(}\PYG{n+nx}{contar}\PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}tren\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click}\PYG{p}{(}\PYG{n+nx}{contar}\PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}avion\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click}\PYG{p}{(}\PYG{n+nx}{contar}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}


\subsection{Ejercicio configurador}
\label{tema4:ejercicio-configurador}
Se desea tener una aplicación que permita configurar un equipo al gusto del usuario:
\begin{itemize}
\item {} 
Se debe elegir entre un procesador Intel o AMD. El primero cuesta 250 euros y el segundo 230.

\item {} 
Se debe elegir entre 2, 4 y 8 GB de memoria. El coste es respectivamente 90, 145, 210

\item {} 
Hay extras que se pueden elegir o no, ya que son completamente optativos (es decir, usar checkboxes). En concreto se puede tener un grabador de Blu-ray (190 euros), tarjeta gráfica aceleradora (430 euros) y un monitor LED (185 euros).

\end{itemize}


\subsection{Solución HTML configurador}
\label{tema4:solucion-html-configurador}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}intel\PYGZdq{}}\PYG{p}{\PYGZgt{}}Intel i5\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}radio\PYGZdq{}}
       \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}procesador\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}intel\PYGZdq{}}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}amd\PYGZdq{}}\PYG{p}{\PYGZgt{}}AMD\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}radio\PYGZdq{}}
       \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}procesador\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}amd\PYGZdq{}}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}2gb\PYGZdq{}}\PYG{p}{\PYGZgt{}}2GB\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}radio\PYGZdq{}}
       \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}memoria\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}2gb\PYGZdq{}}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}4gb\PYGZdq{}}\PYG{p}{\PYGZgt{}}4 GB\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}radio\PYGZdq{}}
       \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}memoria\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}4gb\PYGZdq{}}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}8gb\PYGZdq{}}\PYG{p}{\PYGZgt{}}8 GB\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}radio\PYGZdq{}}
       \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}memoria\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}8gb\PYGZdq{}}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}bluray\PYGZdq{}}\PYG{p}{\PYGZgt{}}Blu\PYGZhy{}ray\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}extra[]\PYGZdq{}}
       \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}bluray\PYGZdq{}}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}aceleradora\PYGZdq{}}\PYG{p}{\PYGZgt{}}Aceleradora\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}extra[]\PYGZdq{}}
       \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}aceleradora\PYGZdq{}}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{label} \PYG{n+na}{for}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}monitor\PYGZdq{}}\PYG{p}{\PYGZgt{}}Monitor 25\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{label}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}extra[]\PYGZdq{}}
       \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}monitor\PYGZdq{}}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}text\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}total\PYGZdq{}}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsection{Solución JS configurador}
\label{tema4:solucion-js-configurador}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{n+nb}{document}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{ready}\PYG{p}{(}\PYG{n+nx}{main}\PYG{p}{)}

\PYG{k+kd}{function} \PYG{n+nx}{calcular\PYGZus{}precio}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{k+kd}{var} \PYG{n+nx}{precio}\PYG{o}{=}\PYG{l+m+mi}{0}
        \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}intel\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{prop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}checked\PYGZdq{}}\PYG{p}{)}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                \PYG{n+nx}{precio}\PYG{o}{=}\PYG{n+nx}{precio}\PYG{o}{+}\PYG{l+m+mi}{250}
        \PYG{p}{\PYGZcb{}}
        \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}amd\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{prop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}checked\PYGZdq{}}\PYG{p}{)}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                \PYG{n+nx}{precio}\PYG{o}{=}\PYG{n+nx}{precio}\PYG{o}{+}\PYG{l+m+mi}{210}
        \PYG{p}{\PYGZcb{}}
        \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}2gb\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{prop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}checked\PYGZdq{}}\PYG{p}{)}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                \PYG{n+nx}{precio}\PYG{o}{=}\PYG{n+nx}{precio}\PYG{o}{+}\PYG{l+m+mi}{90}
        \PYG{p}{\PYGZcb{}}
        \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}4gb\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{prop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}checked\PYGZdq{}}\PYG{p}{)}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                \PYG{n+nx}{precio}\PYG{o}{=}\PYG{n+nx}{precio}\PYG{o}{+}\PYG{l+m+mi}{140}
        \PYG{p}{\PYGZcb{}}
        \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}8gb\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{prop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}checked\PYGZdq{}}\PYG{p}{)}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                \PYG{n+nx}{precio}\PYG{o}{=}\PYG{n+nx}{precio}\PYG{o}{+}\PYG{l+m+mi}{210}
        \PYG{p}{\PYGZcb{}}
        \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}bluray\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{prop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}checked\PYGZdq{}}\PYG{p}{)}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                \PYG{n+nx}{precio}\PYG{o}{=}\PYG{n+nx}{precio}\PYG{o}{+}\PYG{l+m+mi}{190}
        \PYG{p}{\PYGZcb{}}
        \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}aceleradora\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{prop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}checked\PYGZdq{}}\PYG{p}{)}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                \PYG{n+nx}{precio}\PYG{o}{=}\PYG{n+nx}{precio}\PYG{o}{+}\PYG{l+m+mi}{430}
        \PYG{p}{\PYGZcb{}}
        \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}monitor\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{prop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}checked\PYGZdq{}}\PYG{p}{)}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                \PYG{n+nx}{precio}\PYG{o}{=}\PYG{n+nx}{precio}\PYG{o}{+}\PYG{l+m+mi}{185}
        \PYG{p}{\PYGZcb{}}

        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}total\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{val}\PYG{p}{(}\PYG{n+nx}{precio}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\PYG{k+kd}{function} \PYG{n+nx}{main}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}intel\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(}\PYG{n+nx}{calcular\PYGZus{}precio}\PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}amd\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(}\PYG{n+nx}{calcular\PYGZus{}precio}\PYG{p}{)}

        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}2gb\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(}\PYG{n+nx}{calcular\PYGZus{}precio}\PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}4gb\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(}\PYG{n+nx}{calcular\PYGZus{}precio}\PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}8gb\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(}\PYG{n+nx}{calcular\PYGZus{}precio}\PYG{p}{)}

        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}bluray\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(}\PYG{n+nx}{calcular\PYGZus{}precio}\PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}monitor\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(}\PYG{n+nx}{calcular\PYGZus{}precio}\PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}aceleradora\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(}\PYG{n+nx}{calcular\PYGZus{}precio}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}


\subsection{Ejercicio configurador de PCs ampliado}
\label{tema4:ejercicio-configurador-de-pcs-ampliado}
En el ejercicio anterior ocurre que por un problema hardware no es posible tener procesadores AMD con aceleradora, por lo que cuando se marque un AMD se debe desactivar el checkbox de la aceleradora y si hubiera una marca, también se debe desactivar y por supuesto recalcular el precio.


\section{Configurador de coches}
\label{tema4:configurador-de-coches}
Un fabricante de automóviles desea ofrecer a sus clientes una aplicación que les permita configurar sus vehículos según sus preferencias y ver el precio final del coche. Los precios y las restricciones son los siguientes:
\begin{itemize}
\item {} 
Se pueden tener dos tipos de motor: gasolina (precio base 7000 euros) y diésel (precio base 8200).

\item {} 
Se pueden tener 3 potencias: 1100, 1800 y 2300 centímetros cúbicos. Los precios de cada uno son 800, 1900 y 2500. Sin embargo \textbf{no es posible fabricar motores diésel de 2300}.

\item {} 
Hay dos tipos de pintura: normal y metalizada. Los precios respectivos son 750 y 1580 euros.

\item {} 
Hay seis colores: negro, blanco, rojo, azul polar, verde turquesa y gris marengo. \textbf{No se pueden fabricar colores de pintura normal de ninguno de los tres últimos colores}.

\item {} 
Se dispone de diversos extras: alerón deportivo (190 euros {\color{red}\bfseries{}**}pero solo se puede elegir si se elige pintura metalizada), radio-CD con MP3 (230 euros más), altavoces traseros (320 euros más, {\color{red}\bfseries{}**}pero solo si se elige antes el Radio-CD), y GPS incorporado (520 euros más).

\end{itemize}

Crear la aplicación que respete las restricciones exigidas por el cliente.


\section{Dinamismo con Google Maps}
\label{tema4:dinamismo-con-google-maps}
Google Maps ofrece un servicio de mapas con una limitación de 25.000 peticiones diarias. El código básico sería así:


\subsection{HTML de GMaps}
\label{tema4:html-de-gmaps}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}!DOCTYPE html\PYGZgt{}}

\PYG{p}{\PYGZlt{}}\PYG{n+nt}{html}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}
        \PYG{c}{\PYGZlt{}!\PYGZhy{}\PYGZhy{}}\PYG{c}{En móviles poner la escala inicial a 1}\PYG{c}{\PYGZhy{}\PYGZhy{}\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{meta} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}viewport\PYGZdq{}} \PYG{n+na}{content}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}width=device\PYGZhy{}width, initial\PYGZhy{}scale=1.0\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{c}{\PYGZlt{}!\PYGZhy{}\PYGZhy{}}\PYG{c}{Cargamos los estilos y los efectos de Bootstrap}\PYG{c}{\PYGZhy{}\PYGZhy{}\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{link}
        \PYG{n+na}{rel}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}stylesheet\PYGZdq{}}
        \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}text/css\PYGZdq{}} \PYG{n+na}{href}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}bootstrap/css/bootstrap.css\PYGZdq{}}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{script} \PYG{n+na}{src}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}bootstrap/js/bootstrap.js\PYGZdq{}}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{script}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{script} \PYG{n+na}{src}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}js/jquery.js\PYGZdq{}}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{script}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{script}
        \PYG{n+na}{src}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}http://maps.googleapis.com/maps/api/js?key=AIzaSyDpv9zCj9szIIu\PYGZhy{}\PYGZhy{}LuNmDsry2fZCRrOqfY\PYGZam{}sensor=false\PYGZdq{}}\PYG{p}{\PYGZgt{}}

        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{script}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{style}\PYG{p}{\PYGZgt{}}
                \PYG{n+nn}{\PYGZsh{}mapa}\PYG{p}{\PYGZob{}}
                        \PYG{n+nb}{width}\PYG{o}{:} \PYG{l+m}{500px}\PYG{p}{;}
                        \PYG{n+nb}{height}\PYG{o}{:} \PYG{l+m}{500px}\PYG{p}{;}
                        \PYG{n+nb}{float}\PYG{o}{:} \PYG{n+nb}{right}\PYG{p}{;}
                        \PYG{n+nb}{background\PYGZhy{}color}\PYG{o}{:} \PYG{n+nb}{rgb}\PYG{p}{(}\PYG{l+m}{180}\PYG{o}{,}\PYG{l+m}{190}\PYG{o}{,}\PYG{l+m}{240}\PYG{p}{);}
                \PYG{p}{\PYGZcb{}}
                \PYG{n+nn}{\PYGZsh{}controles}\PYG{p}{\PYGZob{}}
                        \PYG{n+nb}{float}\PYG{o}{:} \PYG{n+nb}{left}\PYG{p}{;}
                \PYG{p}{\PYGZcb{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{style}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{script} \PYG{n+na}{src}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}js/programa.js\PYGZdq{}}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{script}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{title}\PYG{p}{\PYGZgt{}}Plantilla JQuery\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{title}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}

\PYG{p}{\PYGZlt{}}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}container\PYGZdq{}}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{h1}\PYG{p}{\PYGZgt{}}Javascript con mapas\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{h1}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}controles\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                        Introduzca latitud:\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}text\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}latitud\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
                        Introduzca longitud:\PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}text\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}longitud\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}submit\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}mover\PYGZdq{}} \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}¡Viajar!\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{select} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}ciudades\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}CR\PYGZdq{}}\PYG{p}{\PYGZgt{}}Ir a Ciudad Real\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}BA\PYGZdq{}}\PYG{p}{\PYGZgt{}}Ir a Barcelona\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}PO\PYGZdq{}}\PYG{p}{\PYGZgt{}}Ir a Pontevedra\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{select}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
                        Calculador de distancias desde CR a otras ciudades
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{select} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}ciudades\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}CR\PYGZdq{}}\PYG{p}{\PYGZgt{}}Ir a Ciudad Real\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}BA\PYGZdq{}}\PYG{p}{\PYGZgt{}}Ir a Barcelona\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{option} \PYG{n+na}{value}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}PO\PYGZdq{}}\PYG{p}{\PYGZgt{}}Ir a Pontevedra\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{option}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{select}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}mapa\PYGZdq{}}\PYG{p}{\PYGZgt{}}

        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}

\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{html}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsection{Javascript de GMaps}
\label{tema4:javascript-de-gmaps}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{var} \PYG{n+nx}{latitud}\PYG{o}{=}\PYG{l+m+mf}{38.59}
\PYG{k+kd}{var} \PYG{n+nx}{longitud}\PYG{o}{=}\PYG{o}{\PYGZhy{}}\PYG{l+m+mf}{3.55}
\PYG{k+kd}{var} \PYG{n+nx}{mi\PYGZus{}nivel\PYGZus{}de\PYGZus{}zoom}\PYG{o}{=}\PYG{l+m+mi}{8}
\PYG{k+kd}{var} \PYG{n+nx}{obj\PYGZus{}mapa}
\PYG{k+kd}{function} \PYG{n+nx}{inicio}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{k+kd}{var} \PYG{n+nx}{div\PYGZus{}mapa}\PYG{o}{=}\PYG{n+nb}{document}\PYG{p}{.}\PYG{n+nx}{getElementById}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}mapa\PYGZdq{}}\PYG{p}{)}
        \PYG{k+kd}{var} \PYG{n+nx}{obj\PYGZus{}coordenadas}\PYG{o}{=}\PYG{k}{new} \PYG{n+nx}{google}\PYG{p}{.}\PYG{n+nx}{maps}\PYG{p}{.}\PYG{n+nx}{LatLng}\PYG{p}{(}\PYG{n+nx}{latitud}\PYG{p}{,}\PYG{n+nx}{longitud}\PYG{p}{)}
        \PYG{k+kd}{var} \PYG{n+nx}{obj\PYGZus{}opciones}\PYG{o}{=}\PYG{p}{\PYGZob{}}
                \PYG{n+nx}{center}\PYG{o}{:}\PYG{n+nx}{obj\PYGZus{}coordenadas}\PYG{p}{,}
                \PYG{n+nx}{zoom}\PYG{o}{:}\PYG{n+nx}{mi\PYGZus{}nivel\PYGZus{}de\PYGZus{}zoom}
        \PYG{p}{\PYGZcb{}}
        \PYG{n+nx}{obj\PYGZus{}mapa}\PYG{o}{=}\PYG{k}{new} \PYG{n+nx}{google}\PYG{p}{.}\PYG{n+nx}{maps}\PYG{p}{.}\PYG{n+nx}{Map}\PYG{p}{(}\PYG{n+nx}{div\PYGZus{}mapa}\PYG{p}{,} \PYG{n+nx}{obj\PYGZus{}opciones}\PYG{p}{)}

        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}mover\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(}\PYG{n+nx}{mover\PYGZus{}el\PYGZus{}mapa}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}


\PYG{k+kd}{function} \PYG{n+nx}{mover\PYGZus{}el\PYGZus{}mapa}\PYG{p}{(}\PYG{p}{)} \PYG{p}{\PYGZob{}}
        \PYG{k+kd}{var} \PYG{n+nx}{obj\PYGZus{}latitud}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}latitud\PYGZdq{}}\PYG{p}{)}
        \PYG{k+kd}{var} \PYG{n+nx}{valor\PYGZus{}latitud}\PYG{o}{=}\PYG{n+nx}{obj\PYGZus{}latitud}\PYG{p}{.}\PYG{n+nx}{val}\PYG{p}{(}\PYG{p}{)}

        \PYG{k+kd}{var} \PYG{n+nx}{valor\PYGZus{}longitud}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}longitud\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{val}\PYG{p}{(}\PYG{p}{)}
        \PYG{k+kd}{var} \PYG{n+nx}{nuevas\PYGZus{}coordenadas}\PYG{o}{=}\PYG{k}{new} \PYG{n+nx}{google}\PYG{p}{.}\PYG{n+nx}{maps}\PYG{p}{.}\PYG{n+nx}{LatLng}\PYG{p}{(}
                                \PYG{n+nx}{valor\PYGZus{}latitud}\PYG{p}{,} \PYG{n+nx}{valor\PYGZus{}longitud}\PYG{p}{)}
        \PYG{n+nx}{obj\PYGZus{}mapa}\PYG{p}{.}\PYG{n+nx}{panTo}\PYG{p}{(}\PYG{n+nx}{nuevas\PYGZus{}coordenadas}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema4:id11}
Ampliar el programa con una lista de ciudades del mundo. Cuando el usuario elija una de ellas, nuestro programa nos dirá la distancia desde Ciudad Real a dichas ciudades. Considerar las siguientes coordenadas en formato (latitud, longitud):
\begin{itemize}
\item {} 
Ciudad Real: (38.59, -3.55)

\item {} 
Nueva York: (40.73, -73.87)

\item {} 
Sidney: (-33.90, 151.13)

\item {} 
Berlin: (52.31, 13.39)

\item {} 
París: (48.85, 2.35)

\end{itemize}

Para poder conseguir esto, hay que modificar la URL de carga de GoogleMaps para solicitar que se cargue una biblioteca que nos ayudará a resolver este punto. En concreto, ahora pasaremos un parámetro \sphinxcode{libraries} con el valor \sphinxcode{geometry} que nos permitirá utilizar la biblioteca en concreto. Ahora el HTML es así:

\begin{Verbatim}[commandchars=\\\{\}]
    \PYG{p}{\PYGZlt{}}\PYG{n+nt}{script} \PYG{n+na}{src}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}http://maps.googleapis.com/maps/api/js?key=AIzaSyDpv9zCj9szIIu\PYGZhy{}\PYGZhy{}LuNmDsry2fZCRrOqfY\PYGZam{}sensor=false\PYGZam{}libraries=geometry\PYGZdq{}}\PYG{p}{\PYGZgt{}}

\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{script}\PYG{p}{\PYGZgt{}}
\end{Verbatim}

Ahora una función que nos calcula la distancia sería algo como esto:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cm}{/* Nos da la distancia en metros entre CR}
\PYG{c+cm}{ * y el punto (latitud\PYGZus{}destino,longitud\PYGZus{}destino)}
\PYG{c+cm}{ * (abreviados lat\PYGZus{}dest y lng\PYGZus{}dest)*/}
\PYG{k+kd}{function} \PYG{n+nx}{distancia}\PYG{p}{(}\PYG{n+nx}{lat\PYGZus{}dest}\PYG{p}{,} \PYG{n+nx}{lng\PYGZus{}dest}\PYG{p}{)}
\PYG{p}{\PYGZob{}}
        \PYG{k+kd}{var} \PYG{n+nx}{latitud\PYGZus{}cr}\PYG{o}{=}\PYG{l+m+mf}{38.59}
        \PYG{k+kd}{var} \PYG{n+nx}{longitud\PYGZus{}cr}\PYG{o}{=}\PYG{o}{\PYGZhy{}}\PYG{l+m+mf}{3.55}
        \PYG{k+kd}{var} \PYG{n+nx}{coords\PYGZus{}origen}\PYG{o}{=}\PYG{k}{new} \PYG{n+nx}{google}\PYG{p}{.}\PYG{n+nx}{maps}\PYG{p}{.}\PYG{n+nx}{LatLng}\PYG{p}{(}
                \PYG{n+nx}{latitud\PYGZus{}cr}\PYG{p}{,} \PYG{n+nx}{longitud\PYGZus{}cr}\PYG{p}{)}
        \PYG{k+kd}{var} \PYG{n+nx}{coords\PYGZus{}destino}\PYG{o}{=}\PYG{k}{new} \PYG{n+nx}{google}\PYG{p}{.}\PYG{n+nx}{maps}\PYG{p}{.}\PYG{n+nx}{LatLng}\PYG{p}{(}
                \PYG{n+nx}{lat\PYGZus{}dest}\PYG{p}{,} \PYG{n+nx}{lng\PYGZus{}dest}\PYG{p}{)}
        \PYG{k+kd}{var} \PYG{n+nx}{distancia}\PYG{o}{=}\PYG{n+nx}{google}\PYG{p}{.}\PYG{n+nx}{maps}\PYG{p}{.}\PYG{n+nx}{geometry}\PYG{p}{.}\PYG{n+nx}{spherical}\PYG{p}{.}\PYG{n+nx}{computeDistanceBetween}\PYG{p}{(}
                \PYG{n+nx}{coords\PYGZus{}origen}\PYG{p}{,} \PYG{n+nx}{coords\PYGZus{}destino}
        \PYG{p}{)}
        \PYG{k}{return} \PYG{n+nx}{distancia}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema4:id12}
La empresa Automobile Creation for Millenium Enterprise (ACME) planea lanzar una página web en la que se permita al usuario configurar los coches a su medida, ofreciendo las distintas opciones en pantalla para que el usuario las elija. Sin embargo no todas las combinaciones se permiten en fábrica por lo que deberán tenerse en cuentas las siguientes


\subsubsection{Especificaciones}
\label{tema4:especificaciones}\begin{itemize}
\item {} 
Hay dos motores: gasolina (5000) y diésel (6800)

\item {} 
Hay dos carrocerías: monovolumen (4500) y berlina (3700)

\item {} 
Hay tres accesorios: radio-cd con MP3 (180), alerones deportivos (220) y llantas de aleación (200)

\end{itemize}

Por diversos problemas, no es posible combinar las siguientes opciones:
\begin{itemize}
\item {} 
No se pueden tener berlinas de gasolina.

\item {} 
No se puede integrar el alerón en los monovolúmenes.

\item {} 
No se puede poner el radio-cd a los monovolúmenes.

\end{itemize}

Cuando se marque cualquiera de estas opciones, hay que limpiar todo el configurados y avisar de que no se puede hacer eso. No se pueden usar \sphinxcode{alerts}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{var} \PYG{n+nx}{vector\PYGZus{}ids}\PYG{o}{=}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}gasolina\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}diesel\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}monovolumen\PYGZdq{}}\PYG{p}{,}
                \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}berlina\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}radiocd\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}alerones\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}llantas\PYGZdq{}}\PYG{p}{]}
\PYG{k+kd}{var} \PYG{n+nx}{precios}\PYG{o}{=}\PYG{p}{[}\PYG{l+m+mi}{5000}\PYG{p}{,} \PYG{l+m+mi}{6800}\PYG{p}{,} \PYG{l+m+mi}{4500}\PYG{p}{,}
                \PYG{l+m+mi}{3700}\PYG{p}{,} \PYG{l+m+mi}{180}\PYG{p}{,} \PYG{l+m+mi}{220}\PYG{p}{,} \PYG{l+m+mi}{200}\PYG{p}{]}

\PYG{k+kd}{function} \PYG{n+nx}{inicio}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}

        \PYG{k}{for} \PYG{p}{(}\PYG{k+kd}{var} \PYG{n+nx}{pos} \PYG{k}{in} \PYG{n+nx}{vector\PYGZus{}ids}\PYG{p}{)}\PYG{p}{\PYGZob{}}
                \PYG{k+kd}{var} \PYG{n+nx}{el\PYGZus{}id}\PYG{o}{=}\PYG{n+nx}{vector\PYGZus{}ids}\PYG{p}{[}\PYG{n+nx}{pos}\PYG{p}{]}
                \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{n+nx}{el\PYGZus{}id}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(} \PYG{n+nx}{calcularPrecio} \PYG{p}{)}
        \PYG{p}{\PYGZcb{}}
\PYG{p}{\PYGZcb{}}

\PYG{k+kd}{function} \PYG{n+nx}{cocheEsFabricable}\PYG{p}{(}\PYG{p}{)} \PYG{p}{\PYGZob{}}
        \PYG{c+c1}{//Caso 1: nada de berlinas de gasolina}
        \PYG{k+kd}{var} \PYG{n+nx}{marcada\PYGZus{}la\PYGZus{}berlina}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}berlina\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{prop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}checked\PYGZdq{}}\PYG{p}{)}
        \PYG{k+kd}{var} \PYG{n+nx}{marcada\PYGZus{}la\PYGZus{}gasolina}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}gasolina\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{prop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}checked\PYGZdq{}}\PYG{p}{)}
        \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{marcada\PYGZus{}la\PYGZus{}berlina} \PYG{o}{\PYGZam{}\PYGZam{}} \PYG{n+nx}{marcada\PYGZus{}la\PYGZus{}gasolina}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                \PYG{n+nx}{alert} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}No se pueden fabricar berlinas de gasolina\PYGZdq{}}\PYG{p}{)}
                \PYG{k}{return} \PYG{k+kc}{false}
        \PYG{p}{\PYGZcb{}}

        \PYG{k+kd}{var} \PYG{n+nx}{marcado\PYGZus{}aleron}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}alerones\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{prop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}checked\PYGZdq{}}\PYG{p}{)}
        \PYG{k+kd}{var} \PYG{n+nx}{marcado\PYGZus{}monovolumen}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}monovolumen\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{prop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}checked\PYGZdq{}}\PYG{p}{)}
        \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{marcado\PYGZus{}aleron} \PYG{o}{\PYGZam{}\PYGZam{}} \PYG{n+nx}{marcado\PYGZus{}monovolumen} \PYG{p}{)} \PYG{p}{\PYGZob{}}
                \PYG{n+nx}{alert} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}No podemos integrar los alerones en monovolúmenes\PYGZdq{}}\PYG{p}{)}
                \PYG{k}{return} \PYG{k+kc}{false}
        \PYG{p}{\PYGZcb{}}

        \PYG{k+kd}{var} \PYG{n+nx}{marcado\PYGZus{}radiocd}\PYG{o}{=}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}radiocd\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{prop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}checked\PYGZdq{}}\PYG{p}{)}
        \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{marcado\PYGZus{}radiocd} \PYG{o}{\PYGZam{}\PYGZam{}} \PYG{n+nx}{marcado\PYGZus{}monovolumen}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                \PYG{n+nx}{alert} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}No podemos fabricar un monovol. con radio\PYGZhy{}cd\PYGZdq{}}\PYG{p}{)}
                \PYG{k}{return} \PYG{k+kc}{false}
        \PYG{p}{\PYGZcb{}}
        \PYG{k}{return} \PYG{k+kc}{true}
\PYG{p}{\PYGZcb{}}
\PYG{c+cm}{/* Calcula el precio del coche en función de lo que esté marcado}
\PYG{c+cm}{ * y lo que no.*/}
\PYG{k+kd}{function} \PYG{n+nx}{calcularPrecio}\PYG{p}{(}\PYG{p}{)} \PYG{p}{\PYGZob{}}
        \PYG{k+kd}{var} \PYG{n+nx}{todo\PYGZus{}bien}\PYG{o}{=}\PYG{n+nx}{cocheEsFabricable}\PYG{p}{(}\PYG{p}{)}
        \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{todo\PYGZus{}bien}\PYG{o}{!=}\PYG{k+kc}{true}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                \PYG{k}{return}
        \PYG{p}{\PYGZcb{}}
        \PYG{k+kd}{var} \PYG{n+nx}{precioCoche}\PYG{o}{=}\PYG{l+m+mi}{0}
        \PYG{k}{for} \PYG{p}{(}\PYG{k+kd}{var} \PYG{n+nx}{pos} \PYG{k}{in} \PYG{n+nx}{vector\PYGZus{}ids}\PYG{p}{)}\PYG{p}{\PYGZob{}}
                \PYG{k+kd}{var} \PYG{n+nx}{el\PYGZus{}id}\PYG{o}{=}\PYG{n+nx}{vector\PYGZus{}ids}\PYG{p}{[}\PYG{n+nx}{pos}\PYG{p}{]}
                \PYG{k}{if} \PYG{p}{(}\PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{n+nx}{el\PYGZus{}id}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{prop}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}checked\PYGZdq{}}\PYG{p}{)}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                        \PYG{k+kd}{var} \PYG{n+nx}{precio\PYGZus{}accesorio}\PYG{o}{=}\PYG{n+nx}{precios}\PYG{p}{[}\PYG{n+nx}{pos}\PYG{p}{]}
                        \PYG{n+nx}{precioCoche}\PYG{o}{=}\PYG{n+nx}{precioCoche}\PYG{o}{+}\PYG{n+nx}{precio\PYGZus{}accesorio}
                \PYG{p}{\PYGZcb{}}
        \PYG{p}{\PYGZcb{}}
        \PYG{n+nx}{alert} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}El precio es:\PYGZdq{}}\PYG{o}{+}\PYG{n+nx}{precioCoche}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}


\subsection{Ampliación}
\label{tema4:ampliacion}
Se desea que el usuario puede elegir entre los siguientes colores con los siguientes precios:
\begin{itemize}
\item {} 
Blanco: 700 euros

\item {} 
Rojo, Verde y Azul básicos: 950

\item {} 
Gris, Negro y Naranja: 1400 euros por ser colores metalizados

\end{itemize}

Además, se desea ver una muestra de color en algún punto de la página. Para lograrlo se necesitará utilizar un método que proporciona JQuery y que se llama \sphinxcode{addClass}


\subsubsection{Solución HTML}
\label{tema4:solucion-html}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{style}\PYG{p}{\PYGZgt{}}
                \PYG{n+nc}{.muestrarojo}\PYG{p}{\PYGZob{}}
                        \PYG{n+nb}{background\PYGZhy{}color}\PYG{o}{:}\PYG{n+nb}{red}\PYG{p}{;}
                \PYG{p}{\PYGZcb{}}
                \PYG{n+nc}{.muestraverde}\PYG{p}{\PYGZob{}}
                        \PYG{n+nb}{background\PYGZhy{}color}\PYG{o}{:} \PYG{n+nb}{green}\PYG{p}{;}
                \PYG{p}{\PYGZcb{}}
                \PYG{n+nc}{.muestraazul}\PYG{p}{\PYGZob{}}
                        \PYG{n+nb}{background\PYGZhy{}color}\PYG{o}{:} \PYG{n+nb}{blue}\PYG{p}{;}
                \PYG{p}{\PYGZcb{}}
                \PYG{n+nc}{.muestragris}\PYG{p}{\PYGZob{}}
                        \PYG{n+nb}{background\PYGZhy{}color}\PYG{o}{:} \PYG{n}{grey}\PYG{p}{;}
                \PYG{p}{\PYGZcb{}}
                \PYG{n+nc}{.muestrablanco}\PYG{p}{\PYGZob{}}
                        \PYG{n+nb}{background\PYGZhy{}color}\PYG{o}{:} \PYG{n+nb}{white}\PYG{p}{;}
                \PYG{p}{\PYGZcb{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{style}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{head}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}container\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{h1}\PYG{p}{\PYGZgt{}}Motores\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{h1}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}radio\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}gasolina\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}motor\PYGZdq{}}\PYG{p}{\PYGZgt{}}Motor Gasolina
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}radio\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}diesel\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}motor\PYGZdq{}}\PYG{p}{\PYGZgt{}}Motor Diésel
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{h1}\PYG{p}{\PYGZgt{}}Carrocerías\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{h1}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}radio\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}monovolumen\PYGZdq{}}
                \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}carroceria\PYGZdq{}}\PYG{p}{\PYGZgt{}}Monovolumen
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}radio\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}berlina\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}carroceria\PYGZdq{}}\PYG{p}{\PYGZgt{}}Berlina
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{h1}\PYG{p}{\PYGZgt{}}Accesorios\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{h1}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}accesorios[]\PYGZdq{}}
                \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}radiocd\PYGZdq{}}\PYG{p}{\PYGZgt{}}Radio\PYGZhy{}CD
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}accesorios[]\PYGZdq{}}
                \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}alerones\PYGZdq{}}\PYG{p}{\PYGZgt{}}Alerones
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}checkbox\PYGZdq{}} \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}accesorios[]\PYGZdq{}}
                \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}llantas\PYGZdq{}}\PYG{p}{\PYGZgt{}}Llantas
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{h1}\PYG{p}{\PYGZgt{}}Colores\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{h1}\PYG{p}{\PYGZgt{}}
                \PYG{c}{\PYGZlt{}!\PYGZhy{}\PYGZhy{}}\PYG{c}{Los colores irán}
\PYG{c}{                en una columna y la muestra en otra}\PYG{c}{\PYGZhy{}\PYGZhy{}\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}row\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}col\PYGZhy{}md\PYGZhy{}3\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}radio\PYGZdq{}}
                                \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}colores\PYGZdq{}}
                                \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}blanco\PYGZdq{}}\PYG{p}{\PYGZgt{}}Blanco
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}radio\PYGZdq{}}
                                \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}colores\PYGZdq{}}
                                \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}rojo\PYGZdq{}}\PYG{p}{\PYGZgt{}}Rojo
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{input} \PYG{n+na}{type}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}radio\PYGZdq{}}
                                \PYG{n+na}{name}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}colores\PYGZdq{}} \PYG{n+na}{id}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}gris\PYGZdq{}}\PYG{p}{\PYGZgt{}}Gris
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{n+nt}{div} \PYG{n+na}{class}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}col\PYGZhy{}md\PYGZhy{}9 center\PYGZhy{}block\PYGZdq{}}\PYG{p}{\PYGZgt{}}
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{h2}\PYG{p}{\PYGZgt{}}Muestra de color
                                \PYG{p}{\PYGZlt{}}\PYG{n+nt}{small}\PYG{p}{\PYGZgt{}}Observe y compare\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{small}\PYG{p}{\PYGZgt{}}\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{h2}\PYG{p}{\PYGZgt{}}
                        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
                \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}\PYG{c}{\PYGZlt{}!\PYGZhy{}\PYGZhy{}}\PYG{c}{Fin de la fila}\PYG{c}{\PYGZhy{}\PYGZhy{}\PYGZgt{}}
        \PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{div}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{body}\PYG{p}{\PYGZgt{}}
\end{Verbatim}


\subsubsection{Solución JS}
\label{tema4:solucion-js}
Añadiremos este código a nuestro programa anterior.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{var} \PYG{n+nx}{obj\PYGZus{}documento} \PYG{o}{=} \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{n+nb}{document}\PYG{p}{)}
\PYG{n+nx}{obj\PYGZus{}documento}\PYG{p}{.}\PYG{n+nx}{ready}\PYG{p}{(}\PYG{n+nx}{inicio}\PYG{p}{)}

\PYG{k+kd}{var} \PYG{n+nx}{vector\PYGZus{}ids}\PYG{o}{=}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}gasolina\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}diesel\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}monovolumen\PYGZdq{}}\PYG{p}{,}
                \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}berlina\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}radiocd\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}alerones\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}llantas\PYGZdq{}}\PYG{p}{]}
\PYG{k+kd}{var} \PYG{n+nx}{precios}\PYG{o}{=}\PYG{p}{[}\PYG{l+m+mi}{5000}\PYG{p}{,} \PYG{l+m+mi}{6800}\PYG{p}{,} \PYG{l+m+mi}{4500}\PYG{p}{,}
                \PYG{l+m+mi}{3700}\PYG{p}{,} \PYG{l+m+mi}{180}\PYG{p}{,} \PYG{l+m+mi}{220}\PYG{p}{,} \PYG{l+m+mi}{200}\PYG{p}{]}

\PYG{k+kd}{function} \PYG{n+nx}{inicio}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}

        \PYG{k}{for} \PYG{p}{(}\PYG{k+kd}{var} \PYG{n+nx}{pos} \PYG{k}{in} \PYG{n+nx}{vector\PYGZus{}ids}\PYG{p}{)}\PYG{p}{\PYGZob{}}
                \PYG{k+kd}{var} \PYG{n+nx}{el\PYGZus{}id}\PYG{o}{=}\PYG{n+nx}{vector\PYGZus{}ids}\PYG{p}{[}\PYG{n+nx}{pos}\PYG{p}{]}
                \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{n+nx}{el\PYGZus{}id}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(} \PYG{n+nx}{calcularPrecio} \PYG{p}{)}
        \PYG{p}{\PYGZcb{}}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}blanco\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(} \PYG{n+nx}{ponerColorBlanco} \PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}rojo\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(} \PYG{n+nx}{ponerColorRojo} \PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}gris\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{click} \PYG{p}{(}\PYG{n+nx}{ponerGris} \PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\PYG{k+kd}{function} \PYG{n+nx}{limpiarColores}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{k+kd}{var} \PYG{n+nx}{clases}\PYG{o}{=}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}muestrarojo\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}muestrablanco\PYGZdq{}}\PYG{p}{,}
                                \PYG{l+s+s2}{\PYGZdq{}muestragris\PYGZdq{}}\PYG{p}{]}
        \PYG{k}{for} \PYG{p}{(}\PYG{k+kd}{var} \PYG{n+nx}{pos} \PYG{k}{in} \PYG{n+nx}{clases}\PYG{p}{)} \PYG{p}{\PYGZob{}}
                \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}muestra\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{removeClass}\PYG{p}{(} \PYG{n+nx}{clases}\PYG{p}{[}\PYG{n+nx}{pos}\PYG{p}{]} \PYG{p}{)}
        \PYG{p}{\PYGZcb{}}
\PYG{p}{\PYGZcb{}}
\PYG{k+kd}{function} \PYG{n+nx}{ponerGris}\PYG{p}{(}\PYG{p}{)} \PYG{p}{\PYGZob{}}
        \PYG{n+nx}{limpiarColores}\PYG{p}{(}\PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}muestra\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{addClass}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}muestragris\PYGZdq{}}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\PYG{k+kd}{function} \PYG{n+nx}{ponerColorRojo}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{n+nx}{limpiarColores}\PYG{p}{(}\PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}muestra\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{addClass} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}muestrarojo\PYGZdq{}}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\PYG{k+kd}{function} \PYG{n+nx}{ponerColorBlanco}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZob{}}
        \PYG{n+nx}{limpiarColores}\PYG{p}{(}\PYG{p}{)}
        \PYG{n+nx}{\PYGZdl{}}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZsh{}muestra\PYGZdq{}}\PYG{p}{)}\PYG{p}{.}\PYG{n+nx}{addClass} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}muestrablanco\PYGZdq{}}\PYG{p}{)}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}


\chapter{XML}
\label{tema5:xml}\label{tema5::doc}

\section{Introducción}
\label{tema5:introduccion}
Los lenguajes de marcas como HTML tienen una orientación muy clara: describir páginas web.

En un contexto distinto, muy a menudo ocurre que es muy difícil intercambiar datos entre programas.

XML es un conjunto de tecnologías orientadas a crear nuestros propios lenguajes de marcas. A estos lenguajes de marcas ``propios'' se les denomina ``vocabularios''.


\section{Un ejemplo sencillo}
\label{tema5:un-ejemplo-sencillo}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}clientes}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}AcerSA\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}cif}\PYG{n+nt}{\PYGZgt{}}5664332\PYG{n+nt}{\PYGZlt{}/cif\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}Mer SL\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}cif}\PYG{n+nt}{\PYGZgt{}}5111444\PYG{n+nt}{\PYGZlt{}/cif\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/clientes\PYGZgt{}}
\end{Verbatim}

Lo fundamental es que podemos crear nuestros propios ``vocabularios'' XML.


\section{Construcción de XML}
\label{tema5:construccion-de-xml}
Para crear XML es importante recordar una serie de reglas:
\begin{itemize}
\item {} 
XML es ``case-sensitive'', es decir que no es lo mismo mayúsculas que minúsculas y que por tanto no es lo mismo \sphinxcode{\textless{}cliente\textgreater{}}, que \sphinxcode{\textless{}Cliente\textgreater{}} que \sphinxcode{\textless{}CLIENTE\textgreater{}}.

\item {} 
Obligatorio: solo un elemento raíz.

\item {} 
En general, la costumbre es poner todo en minúsculas.

\item {} 
Solo se puede poner una etiqueta que empiece por letra o \_. Es decir, esta etiqueta no funcionará en los programas \sphinxcode{\textless{}12Cliente\textgreater{}}.

\item {} 
Aparte de eso, una etiqueta sí puede contener números, por lo que esta etiqueta sí es válida \sphinxcode{\textless{}Cliente12\textgreater{}}.

\end{itemize}


\section{Validez}
\label{tema5:validez}
Un documento XML puede ``estar bien formado'' o ``ser válido''. Se dice que un documento ``está bien formado'' cuando respeta las reglas XML básicas. Si alguien ha definido las reglas XML para un vocabulario, podremos además decir si el documento es válido o no, lo cual es mejor que simplemente estar bien formado.

Por ejemplo, los siguientes archivos ni siquiera están bien formados.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}clientes}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}AcerSA
                \PYG{n+nt}{\PYGZlt{}CIF}\PYG{n+nt}{\PYGZgt{}}5666333\PYG{n+nt}{\PYGZlt{}/CIF\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/clientes\PYGZgt{}}
\end{Verbatim}

En este caso la etiqueta \sphinxcode{\textless{}nombre\textgreater{}} no está cerrada.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}clientes}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}AcerSA\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}cif}\PYG{n+nt}{\PYGZgt{}}5666333\PYG{n+nt}{\PYGZlt{}/CIF\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/clientes\PYGZgt{}}
\end{Verbatim}

En este caso, se ha puesto \sphinxcode{\textless{}cif\textgreater{}} cerrado con \sphinxcode{\textless{}/CIF\textgreater{}} (mayúsculas).

\begin{Verbatim}[commandchars=\\\{\}]
\PYGZlt{}clientes\PYGZgt{}
        \PYGZlt{}cliente\PYGZgt{}
                \PYGZlt{}nombre!\PYGZgt{}AcerSA\PYGZlt{}/nombre!\PYGZgt{}
                \PYGZlt{}CIF\PYGZgt{}5666333\PYGZlt{}/CIF\PYGZgt{}
        \PYGZlt{}/cliente\PYGZgt{}
\PYGZlt{}/clientes\PYGZgt{}
\end{Verbatim}

Se ha utilizado la admiración, que no es válida.

Atención a este ejemplo:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}AcerSA\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}CIF}\PYG{n+nt}{\PYGZgt{}}5666333\PYG{n+nt}{\PYGZlt{}/CIF\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}ACME\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}CIF}\PYG{n+nt}{\PYGZgt{}}455321\PYG{n+nt}{\PYGZlt{}/CIF\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
\end{Verbatim}

En este caso, el problema es que hay más de un elemento raíz.

En general, podemos asumir que un documento puede estar en uno de estos estados que de peor a mejor podríamos indicar así:
\begin{enumerate}
\item {} 
Mal formado (lo peor)

\item {} 
Bien formado.

\item {} 
Válido: está bien formado y además nos han dado las reglas para determinar si algo está bien o mal y el documento XML cumple dichas reglas. Este es el mejor caso.

\end{enumerate}

Para determinar si un documento es válido o no, se puede usar el validador del W3C situado en \url{http://validator.w3c.org}


\section{Gramáticas}
\label{tema5:gramaticas}
Pensemos en el siguiente problema, un programador crea aplicaciones con documentos que se almacenan así:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}clientes}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}AcerSA\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}cif}\PYG{n+nt}{\PYGZgt{}}455321\PYG{n+nt}{\PYGZlt{}/cif\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}ACME\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}cif}\PYG{n+nt}{\PYGZgt{}}455321\PYG{n+nt}{\PYGZlt{}/cif\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/clientes\PYGZgt{}}
\end{Verbatim}

Sin embargo, otro programador de la misma empresa lo hace así:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}clientes}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}cif}\PYG{n+nt}{\PYGZgt{}}455321\PYG{n+nt}{\PYGZlt{}/cif\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}AcerSA\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}cif}\PYG{n+nt}{\PYGZgt{}}455321\PYG{n+nt}{\PYGZlt{}/cif\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}ACME\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/clientes\PYGZgt{}}
\end{Verbatim}

Está claro, que ninguno de los dos puede leer los archivos del otro, sería crítico ponerse de acuerdo en lo que se puede hacer, lo que puede aparecer y en qué orden debe hacerlo. Esto se hará mediante las DTD.

DTD significa Declaración de Tipo de Documento, y es un mecanismo para expresar las reglas sobre lo que se va a permitir y lo que no en archivos XML.

Por ejemplo, supongamos el mismo ejemplo ejemplo anterior en el que queremos formalizar lo que puede aparecer en un fichero de clientes. Se debe tener en cuenta que en un DTD se pueden indicar reglas para lo siguiente:
\begin{itemize}
\item {} 
Se puede indicar si un elemento aparece o no de forma opcional

\item {} 
Se puede indicar si un elemento debe aparecer de forma obligatoria.

\item {} 
Se puede indicar si algo aparecer una o muchas veces.

\item {} 
Se puede indicar si algo aparece cero o muchas veces.

\end{itemize}

Supongamos que en nuestros ficheros deseamos indicar que el elemento raíz es \sphinxcode{\textless{}listaclientes\textgreater{}}. Dentro de \sphinxcode{\textless{}listaclientes\textgreater{}} deseamos permitir uno o más elementos \sphinxcode{\textless{}cliente\textgreater{}}. Dentro de \sphinxcode{\textless{}cliente\textgreater{}} todos deberán tener \sphinxcode{\textless{}cif\textgreater{}} y \sphinxcode{\textless{}nombre\textgreater{}} y en ese orden. Dentro de \sphinxcode{\textless{}cliente\textgreater{}} puede aparecer o no un elemento \sphinxcode{\textless{}diasentrega\textgreater{}} para indicar que ese cliente exige un máximo de plazos. Como no todo el mundo usa plazos el \sphinxcode{\textless{}diasentrega\textgreater{}} es optativo.

Por ejemplo, este XML sí es válido:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}listaclientes}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}cif}\PYG{n+nt}{\PYGZgt{}}5676443\PYG{n+nt}{\PYGZlt{}/cif\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}Mercasa\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/listaclientes\PYGZgt{}}
\end{Verbatim}

Este también lo es:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}listaclientes}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}cif}\PYG{n+nt}{\PYGZgt{}}5676443\PYG{n+nt}{\PYGZlt{}/cif\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}Mercasa\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}diasentrega}\PYG{n+nt}{\PYGZgt{}}30\PYG{n+nt}{\PYGZlt{}/diasentrega\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/listaclientes\PYGZgt{}}
\end{Verbatim}

Este también:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}listaclientes}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}cif}\PYG{n+nt}{\PYGZgt{}}5676443\PYG{n+nt}{\PYGZlt{}/cif\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}Mercasa\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}diasentrega}\PYG{n+nt}{\PYGZgt{}}30\PYG{n+nt}{\PYGZlt{}/diasentrega\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}cif}\PYG{n+nt}{\PYGZgt{}}5121554\PYG{n+nt}{\PYGZlt{}/cif\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}Acer SL\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/listaclientes\PYGZgt{}}
\end{Verbatim}

Sin embargo, estos no lo son:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}listaclientes}\PYG{n+nt}{\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/listaclientes\PYGZgt{}}
\end{Verbatim}

Este archivo no tenía clientes (y era obligatorio al menos uno)

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}listaclientes}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}cif}\PYG{n+nt}{\PYGZgt{}}5676443\PYG{n+nt}{\PYGZlt{}/cif\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}diasentrega}\PYG{n+nt}{\PYGZgt{}}30\PYG{n+nt}{\PYGZlt{}/diasentrega\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/listaclientes\PYGZgt{}}
\end{Verbatim}

Este archivo no tiene nombre de cliente.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}listaclientes}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}Mercasa\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}cif}\PYG{n+nt}{\PYGZgt{}}5676443\PYG{n+nt}{\PYGZlt{}/cif\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}cif}\PYG{n+nt}{\PYGZgt{}}5121554\PYG{n+nt}{\PYGZlt{}/cif\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}Acer SL\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/listaclientes\PYGZgt{}}
\end{Verbatim}

En este archivo no se respeta el orden cif, nombre.


\subsection{Sintaxis DTD}
\label{tema5:sintaxis-dtd}
Una DTD es como un CSS, puede ir en el mismo archivo XML o puede ir en uno separado. Para poder subirlos al validador, meteremos la DTD junto con el XML.

La primera línea de todo XML debe ser esta:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{}?\PYGZgt{}}
\end{Verbatim}

Al final del XML pondremos los datos propiamente dichos

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}listaclientes}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}Mercasa\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}cif}\PYG{n+nt}{\PYGZgt{}}5676443\PYG{n+nt}{\PYGZlt{}/cif\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}cif}\PYG{n+nt}{\PYGZgt{}}5121554\PYG{n+nt}{\PYGZlt{}/cif\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}Acer SL\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/listaclientes\PYGZgt{}}
\end{Verbatim}

La DTD tiene esta estructura

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k}{\PYGZlt{}!DOCTYPE} \PYG{n+nt}{listaclientes} \PYG{k}{[}
                \PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{listaclientes} \PYG{o}{(}\PYG{n+nt}{cliente}\PYG{o}{+}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
                \PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{cliente} \PYG{o}{(}\PYG{n+nt}{nombre}\PYG{o}{,} \PYG{n+nt}{cif}\PYG{o}{,} \PYG{n+nt}{diasentrega}\PYG{o}{?}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
                \PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{nombre} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
                \PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{cif} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
                \PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{diasentrega} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
                \PYG{k}{]}
        \PYG{k}{\PYGZgt{}}
\end{Verbatim}

Esto significa lo siguiente:
\begin{itemize}
\item {} 
Se establece el tipo de documento \sphinxcode{listaclientes} que consta de una serie de elementos (dentro del corchete)

\item {} 
Un elemento \sphinxcode{listaclientes   {}`{}` consta de uno o más clientes. El signo {}`{}`+} significa ``uno o más''.

\item {} 
Un cliente tiene un nombre y un cif. También puede tener un elemento \sphinxcode{diasentrega} que puede o no aparecer (el signo \sphinxcode{?} significa ``0 o 1 veces'').

\item {} 
Un \sphinxcode{nombre} no tiene más elementos dentro, solo caracteres (\sphinxcode{\#PCDATA})

\item {} 
Un \sphinxcode{CIF} solo consta de caracteres.

\item {} 
Un elemento \sphinxcode{diasentrega} consta solo de caracteres.

\end{itemize}

La solución completa sería así:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{c+cp}{\PYGZlt{}!DOCTYPE listaclientes [}
\PYG{c+cp}{                \PYGZlt{}!ELEMENT listaclientes (cliente+)\PYGZgt{}}
                \PYG{c+cp}{\PYGZlt{}!ELEMENT cliente (nombre, cif, diasentrega?)\PYGZgt{}}
                \PYG{c+cp}{\PYGZlt{}!ELEMENT nombre (\PYGZsh{}PCDATA)\PYGZgt{}}
                \PYG{c+cp}{\PYGZlt{}!ELEMENT cif (\PYGZsh{}PCDATA)\PYGZgt{}}
                \PYG{c+cp}{\PYGZlt{}!ELEMENT diasentrega (\PYGZsh{}PCDATA)\PYGZgt{}}
        ]\PYGZgt{}
\PYG{n+nt}{\PYGZlt{}listaclientes}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}Mercasa\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}cif}\PYG{n+nt}{\PYGZgt{}}5676443\PYG{n+nt}{\PYGZlt{}/cif\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}cliente}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}Acer SL\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}cif}\PYG{n+nt}{\PYGZgt{}}5121554\PYG{n+nt}{\PYGZlt{}/cif\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/cliente\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/listaclientes\PYGZgt{}}
\end{Verbatim}


\section{Ejercicio I (DTD)}
\label{tema5:ejercicio-i-dtd}
Unos programadores necesitan un formato de fichero para que sus distintos programas intercambien información sobre ventas. El acuerdo al que han llegado es que su XML debería tener esta estructura:
\begin{itemize}
\item {} 
El elemento raíz será \sphinxcode{\textless{}listaventas\textgreater{}}

\item {} 
Toda \sphinxcode{\textless{}listaventas\textgreater{}} tiene una o más ventas.

\item {} 
Toda \sphinxcode{\textless{}venta\textgreater{}} tiene los siguientes datos:
\begin{itemize}
\item {} 
Importe.

\item {} 
Comprador.

\item {} 
Vendedor.

\item {} 
Fecha (optativa).

\item {} 
Un codigo de factura.

\end{itemize}

\end{itemize}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}UTF\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{c+cp}{\PYGZlt{}!DOCTYPE listaventas[}
\PYG{c+cp}{  \PYGZlt{}!ELEMENT listaventas (venta+)\PYGZgt{}}
  \PYG{c+cp}{\PYGZlt{}!ELEMENT venta (importe, comprador, vendedor, fecha?, codigofactura)\PYGZgt{}}
  \PYG{c+cp}{\PYGZlt{}!ELEMENT importe (\PYGZsh{}PCDATA)\PYGZgt{}}
  \PYG{c+cp}{\PYGZlt{}!ELEMENT comprador (\PYGZsh{}PCDATA)\PYGZgt{}}
  \PYG{c+cp}{\PYGZlt{}!ELEMENT vendedor (\PYGZsh{}PCDATA)\PYGZgt{}}
  \PYG{c+cp}{\PYGZlt{}!ELEMENT fecha (\PYGZsh{}PCDATA)\PYGZgt{}}
  \PYG{c+cp}{\PYGZlt{}!ELEMENT codigofactura (\PYGZsh{}PCDATA)\PYGZgt{}}

]\PYGZgt{}

\PYG{n+nt}{\PYGZlt{}listaventas}\PYG{n+nt}{\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}venta}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}importe}\PYG{n+nt}{\PYGZgt{}}1500\PYG{n+nt}{\PYGZlt{}/importe\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}comprador}\PYG{n+nt}{\PYGZgt{}}Wile E.Coyote\PYG{n+nt}{\PYGZlt{}/comprador\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}vendedor}\PYG{n+nt}{\PYGZgt{}}ACME\PYG{n+nt}{\PYGZlt{}/vendedor\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}codigofactura}\PYG{n+nt}{\PYGZgt{}}E17\PYG{n+nt}{\PYGZlt{}/codigofactura\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/venta\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}venta}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}importe}\PYG{n+nt}{\PYGZgt{}}750\PYG{n+nt}{\PYGZlt{}/importe\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}comprador}\PYG{n+nt}{\PYGZgt{}}Elmer Fudd\PYG{n+nt}{\PYGZlt{}/comprador\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}vendedor}\PYG{n+nt}{\PYGZgt{}}ACME\PYG{n+nt}{\PYGZlt{}/vendedor\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}fecha}\PYG{n+nt}{\PYGZgt{}}27\PYGZhy{}2\PYGZhy{}2015\PYG{n+nt}{\PYGZlt{}/fecha\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}codigofactura}\PYG{n+nt}{\PYGZgt{}}E18\PYG{n+nt}{\PYGZlt{}/codigofactura\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/venta\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/listaventas\PYGZgt{}}
\end{Verbatim}


\section{Ejercicio II (DTD)}
\label{tema5:ejercicio-ii-dtd}
Crear un XML de ejemplo y la DTD asociada para unos programadores que programan una aplicación de pedidos donde hay una lista de pedidos con 0 o más pedidos. Cada pedido tiene un número de serie, una cantidad y un peso que puede ser opcional.


\subsection{Solución}
\label{tema5:solucion}
Este ejemplo es un documento XML válido.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}

\PYG{c+cp}{\PYGZlt{}!DOCTYPE listapedidos [}
\PYG{c+cp}{        \PYGZlt{}!ELEMENT listapedidos (pedido*)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT pedido (numeroserie, cantidad, peso?)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT numeroserie (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT cantidad (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT peso (\PYGZsh{}PCDATA)\PYGZgt{}}
]\PYGZgt{}

\PYG{n+nt}{\PYGZlt{}listapedidos}\PYG{n+nt}{\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/listapedidos\PYGZgt{}}
\end{Verbatim}

Este documento \textbf{no es válido}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}

\PYG{c+cp}{\PYGZlt{}!DOCTYPE listapedidos [}
\PYG{c+cp}{        \PYGZlt{}!ELEMENT listapedidos (pedido*)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT pedido (numeroserie, cantidad, peso?)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT numeroserie (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT cantidad (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT peso (\PYGZsh{}PCDATA)\PYGZgt{}}
]\PYGZgt{}

\PYG{n+nt}{\PYGZlt{}listapedidos}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}pedido}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}numeroserie}\PYG{n+nt}{\PYGZgt{}}23332244\PYG{n+nt}{\PYGZlt{}/numeroserie\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/pedido\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/listapedidos\PYGZgt{}}
\end{Verbatim}

Este documento \textbf{sí es válido}. Las DTD solo se ocupan de determinar qué elementos hay y en qué orden, pero no se ocupan de lo que hay dentro de los elementos.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}

\PYG{c+cp}{\PYGZlt{}!DOCTYPE listapedidos [}
\PYG{c+cp}{        \PYGZlt{}!ELEMENT listapedidos (pedido*)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT pedido (numeroserie, cantidad, peso?)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT numeroserie (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT cantidad (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT peso (\PYGZsh{}PCDATA)\PYGZgt{}}
]\PYGZgt{}

\PYG{n+nt}{\PYGZlt{}listapedidos}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}pedido}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}numeroserie}\PYG{n+nt}{\PYGZgt{}}23332244\PYG{n+nt}{\PYGZlt{}/numeroserie\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}cantidad}\PYG{n+nt}{\PYGZgt{}}ññlñ\PYG{n+nt}{\PYGZlt{}/cantidad\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/pedido\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/listapedidos\PYGZgt{}}
\end{Verbatim}


\section{Ejercicio (con atributos)}
\label{tema5:ejercicio-con-atributos}
Unos programadores necesitan estructurar la información que intercambiarán los ficheros de sus aplicaciones para lo cual han determinado los requisitos siguientes:
\begin{itemize}
\item {} 
Los ficheros deben tener un elemento \sphinxcode{\textless{}listafacturas\textgreater{}}

\item {} 
Dentro de la lista debe haber una o más facturas.

\item {} 
Las facturas tienen un atributo \sphinxcode{fecha} que es optativo.

\item {} 
Toda factura tiene un \sphinxcode{emisor}, que es un elemento obligatorio y que debe tener un atributo \sphinxcode{cif} que es obligatorio. Dentro de \sphinxcode{emisor} debe haber un elemento \sphinxcode{nombre}, que es obligatorio y puede o no haber un elemento \sphinxcode{volumenventas}.

\item {} 
Toda factura debe tener un elemento \sphinxcode{pagador}, el cual tiene exactamente la misma estructura que \sphinxcode{emisor}.

\item {} 
Toda factura tiene un elemento \sphinxcode{importe}.

\end{itemize}


\subsection{Solución ejercicio con atributos}
\label{tema5:solucion-ejercicio-con-atributos}
La siguiente DTD refleja los requisitos indicados en el enunciado.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{listafacturas} \PYG{o}{(}\PYG{n+nt}{factura}\PYG{o}{+}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{factura} \PYG{o}{(}\PYG{n+nt}{emisor}\PYG{o}{,} \PYG{n+nt}{pagador}\PYG{o}{,} \PYG{n+nt}{importe}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ATTLIST} \PYG{n+nt}{factura} \PYG{n+na}{fecha} \PYG{k+kc}{CDATA} \PYG{k+kc}{\PYGZsh{}IMPLIED}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{emisor} \PYG{o}{(}\PYG{n+nt}{nombre}\PYG{o}{,} \PYG{n+nt}{volumenventas}\PYG{o}{?}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{nombre} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ATTLIST} \PYG{n+nt}{emisor} \PYG{n+na}{cif} \PYG{k+kc}{CDATA} \PYG{k+kc}{\PYGZsh{}REQUIRED}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{volumenventas} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{pagador} \PYG{o}{(}\PYG{n+nt}{nombre}\PYG{o}{,} \PYG{n+nt}{volumenventas}\PYG{o}{?}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ATTLIST} \PYG{n+nt}{pagador} \PYG{n+na}{cif} \PYG{k+kc}{CDATA} \PYG{k+kc}{\PYGZsh{}REQUIRED}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{importe} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\end{Verbatim}

Y el XML siguiente refleja un posible documento. Puede comprobarse que es válido con respecto a la DTD.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}UTF\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{c+cp}{\PYGZlt{}!DOCTYPE listafacturas SYSTEM \PYGZdq{}ListaFacturas.dtd\PYGZdq{}\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}listafacturas}\PYG{n+nt}{\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}factura} \PYG{n+na}{fecha=}\PYG{l+s}{\PYGZdq{}11\PYGZhy{}2\PYGZhy{}2015\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}emisor} \PYG{n+na}{cif=}\PYG{l+s}{\PYGZdq{}123\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}ACME\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/emisor\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}pagador} \PYG{n+na}{cif=}\PYG{l+s}{\PYGZdq{}234\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}ACME Inc\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}volumenventas}\PYG{n+nt}{\PYGZgt{}}2000\PYG{n+nt}{\PYGZlt{}/volumenventas\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/pagador\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}importe}\PYG{n+nt}{\PYGZgt{}}2500\PYG{n+nt}{\PYGZlt{}/importe\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/factura\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/listafacturas\PYGZgt{}}
\end{Verbatim}


\section{Ejercicio}
\label{tema5:ejercicio}
Un instituto necesita registrar los cursos y alumnos que estudian en él y necesita una DTD para comprobar los documentos XML de los programas que utiliza:
\begin{itemize}
\item {} 
Tiene que haber un elemento raíz \sphinxcode{listacursos}. Tiene que haber uno o más cursos.

\item {} 
Un curso tiene uno o más alumnos

\item {} 
Todo alumno tiene un DNI, un nombre y un apellido, puede que tenga segundo apellido o no.

\item {} 
Un alumno escoge una lista de asignaturas donde habrá una o más asignaturas. Toda asignatura tiene un nombre, un atributo código y un profesor.

\item {} 
Un profesor tiene un NRP (Número de Registro Personal), un nombre y un apellido (también puede tener o no un segundo apellido).

\end{itemize}


\subsection{Solución punto 1}
\label{tema5:solucion-punto-1}
La raíz es \sphinxcode{listacursos} y tiene uno o más cursos

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}

\PYG{c+cp}{\PYGZlt{}!DOCTYPE listacursos [}
\PYG{c+cp}{        \PYGZlt{}!ELEMENT listacursos (curso+)\PYGZgt{}}
]\PYGZgt{}
\end{Verbatim}


\subsection{Solución punto 2}
\label{tema5:solucion-punto-2}
Un curso tiene uno o más elementos \sphinxcode{alumno}.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}

\PYG{c+cp}{\PYGZlt{}!DOCTYPE listacursos [}
\PYG{c+cp}{        \PYGZlt{}!ELEMENT listacursos (curso+)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT curso (alumno+)\PYGZgt{}}
]\PYGZgt{}
\end{Verbatim}


\subsection{Solución punto 3}
\label{tema5:solucion-punto-3}
Todo alumno tiene DNI, nombre y apellido 1, pero puede que tenga el segundo o no

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}

\PYG{c+cp}{\PYGZlt{}!DOCTYPE listacursos [}
\PYG{c+cp}{        \PYGZlt{}!ELEMENT listacursos (curso+)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT curso (alumno+)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT alumno (dni, nombre, ap1, ap2?)\PYGZgt{}}
]\PYGZgt{}
\end{Verbatim}


\subsection{Solución al punto 4}
\label{tema5:solucion-al-punto-4}
Todo alumno tiene una lista de asignaturas que consta de una o más asignaturas. Ampliamos el elemento alumno:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}

\PYG{c+cp}{\PYGZlt{}!DOCTYPE listacursos [}
\PYG{c+cp}{        \PYGZlt{}!ELEMENT listacursos (curso+)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT curso (alumno+)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT alumno (dni, nombre, ap1, ap2?, listaasignaturas)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT listaasignaturas (asignatura+)}
\PYG{c+cp}{]\PYGZgt{}}
\end{Verbatim}


\subsection{Solución punto 5}
\label{tema5:solucion-punto-5}
Una posible solución implicaría usar dos elementos \sphinxcode{nombre}. \emph{Está permitido} pero solo si ambos elementos se usan de la misma forma (por ejemplo que usen \sphinxcode{(\#PCDATA)}. Para evitar problemas cambiaremos algunos nombres de elementos.

Este punto pedía contemplar que una asignatura tiene un nombre, un código y un profesor.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}

\PYG{c+cp}{\PYGZlt{}!DOCTYPE listacursos [}
\PYG{c+cp}{        \PYGZlt{}!ELEMENT listacursos (curso+)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT curso (alumno+)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT alumno (dni, nombre\PYGZus{}alumno, ap1, ap2?, listaasignaturas)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT listaasignaturas (asignatura+)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT asignatura (nombre\PYGZus{}asig, profesor)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ATTLIST asignatura codigo CDATA \PYGZsh{}REQUIRED\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT nombre\PYGZus{}asig (\PYGZsh{}PCDATA)\PYGZgt{}}
]\PYGZgt{}
\end{Verbatim}


\subsection{Solución punto 6}
\label{tema5:solucion-punto-6}
Se indica que un profesor tiene una serie de elementos dentro. Aquí hay un claro ejemplo en el que repetir el elemento \sphinxcode{ap1} o el \sphinxcode{ap2} hubiera sido apropiado, ya que los apellidos de alumnos o profesores en realidad no se distinguen en nada.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}

\PYG{c+cp}{\PYGZlt{}!DOCTYPE listacursos [}
\PYG{c+cp}{        \PYGZlt{}!ELEMENT listacursos (curso+)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT curso (alumno+)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT alumno (dni, nombre\PYGZus{}alumno, ap1, ap2?, listaasignaturas)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT listaasignaturas (asignatura+)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT asignatura (nombre\PYGZus{}asig, profesor)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ATTLIST asignatura codigo CDATA \PYGZsh{}REQUIRED\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT nombre\PYGZus{}asig (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT profesor (nrp, nombre\PYGZus{}prof, ap\PYGZus{}prof1, ap\PYGZus{}prof2?)\PYGZgt{}}
]\PYGZgt{}
\end{Verbatim}


\subsection{Solución completa}
\label{tema5:solucion-completa}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}

\PYG{c+cp}{\PYGZlt{}!DOCTYPE listacursos [}
\PYG{c+cp}{        \PYGZlt{}!ELEMENT listacursos (curso+)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT curso (alumno+)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT alumno (dni, nombre\PYGZus{}alumno, ap1, ap2?, listaasignaturas)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT listaasignaturas (asignatura+)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT asignatura (nombre\PYGZus{}asig, profesor)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ATTLIST asignatura codigo CDATA \PYGZsh{}REQUIRED\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT nombre\PYGZus{}asig (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT profesor (nrp, nombre\PYGZus{}prof, ap\PYGZus{}prof1, ap\PYGZus{}prof2?)\PYGZgt{}}

        \PYG{c+cp}{\PYGZlt{}!ELEMENT dni (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT nombre\PYGZus{}alumno (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT ap1 (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT ap2 (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT nrp (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT nombre\PYGZus{}prof (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT ap\PYGZus{}prof1 (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT ap\PYGZus{}prof2 (\PYGZsh{}PCDATA)\PYGZgt{}}
]\PYGZgt{}


\PYG{n+nt}{\PYGZlt{}listacursos}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}curso}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}alumno}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}dni}\PYG{n+nt}{\PYGZgt{}}1234567\PYG{n+nt}{\PYGZlt{}/dni\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}nombre\PYGZus{}alumno}\PYG{n+nt}{\PYGZgt{}}Juan\PYG{n+nt}{\PYGZlt{}/nombre\PYGZus{}alumno\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}ap1}\PYG{n+nt}{\PYGZgt{}}Sanchez\PYG{n+nt}{\PYGZlt{}/ap1\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}listaasignaturas}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}asignatura}\PYG{n+nt}{\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}nombre\PYGZus{}asig}\PYG{n+nt}{\PYGZgt{}}
                                          Lenguajes de marcas
                                        \PYG{n+nt}{\PYGZlt{}/nombre\PYGZus{}asig\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}codigo}\PYG{n+nt}{\PYGZgt{}}
                                          XML\PYGZhy{}DAM1
                                        \PYG{n+nt}{\PYGZlt{}/codigo\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}profesor}\PYG{n+nt}{\PYGZgt{}}
                                                \PYG{n+nt}{\PYGZlt{}nrp}\PYG{n+nt}{\PYGZgt{}}
                                                  03409435898W0303
                                                \PYG{n+nt}{\PYGZlt{}/nrp\PYGZgt{}}
                                                \PYG{n+nt}{\PYGZlt{}nombre\PYGZus{}prof}\PYG{n+nt}{\PYGZgt{}}
                                                  Andres
                                                \PYG{n+nt}{\PYGZlt{}/nombre\PYGZus{}prof\PYGZgt{}}
                                                \PYG{n+nt}{\PYGZlt{}ap\PYGZus{}prof1}\PYG{n+nt}{\PYGZgt{}}
                                                  Ruiz
                                                \PYG{n+nt}{\PYGZlt{}/ap\PYGZus{}prof1\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}/profesor\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/asignatura\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/listaasignaturas\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/alumno\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/curso\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/listacursos\PYGZgt{}}
\end{Verbatim}


\section{Otras características de XML}
\label{tema5:otras-caracteristicas-de-xml}

\subsection{Atributos}
\label{tema5:atributos}
Un atributo XML funciona exactamente igual que un atributo HTML, en concreto un atributo es un trozo de información que acompaña a la etiqueta, en lugar de ir dentro del elemento.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}pedido} \PYG{n+na}{codigo=}\PYG{l+s}{\PYGZdq{}20C\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}contenido}\PYG{n+nt}{\PYGZgt{}}
                ...
\PYG{n+nt}{\PYGZlt{}/pedido\PYGZgt{}}
\end{Verbatim}

En este caso, la etiqueta \sphinxcode{pedido} tiene un atributo \sphinxcode{codigo}.

¿Cuando debemos usar atributos y cuando debemos usar elementos? Resulta que el ejemplo anterior también se podría haber permitido hacerlo así:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}pedido}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}codigo}\PYG{n+nt}{\PYGZgt{}}20C\PYG{n+nt}{\PYGZlt{}/codigo\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}contenido}\PYG{n+nt}{\PYGZgt{}}
                ...
\PYG{n+nt}{\PYGZlt{}/pedido\PYGZgt{}}
\end{Verbatim}

Hay muchas discusiones sobre qué meter dentro de elemento o atributo. Sin embargo, los expertos coinciden en señalar que en caso de duda es mejor el segundo.

La definición de atributos se hace por medio de una directiva llamada \sphinxcode{ATTLIST}. En concreto si quisieramos permitir un atributo \sphinxcode{código} en el elemento \sphinxcode{pedido} se haría algo así.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{c+cp}{\PYGZlt{}!DOCTYPE pedido[}
\PYG{c+cp}{        \PYGZlt{}!ELEMENT pedido (contenido)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT contenido (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ATTLIST pedido codigo CDATA \PYGZsh{}REQUIRED\PYGZgt{}}
]\PYGZgt{}

\PYG{n+nt}{\PYGZlt{}pedido} \PYG{n+na}{codigo=}\PYG{l+s}{\PYGZdq{}20C\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}contenido}\PYG{n+nt}{\PYGZgt{}}Pedido de cosas\PYG{n+nt}{\PYGZlt{}/contenido\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/pedido\PYGZgt{}}
\end{Verbatim}

En concreto este código pone que el elemento \sphinxcode{pedido} tiene un atributo \sphinxcode{código} con datos carácter dentro y que es obligatorio que esté presente (un atributo optativo en vez de \sphinxcode{\#REQUIRED} usará \sphinxcode{\#IMPLIED})

Si probamos esto, también validará porque el atributo es \emph{optativo}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{c+cp}{\PYGZlt{}!DOCTYPE pedido[}
\PYG{c+cp}{        \PYGZlt{}!ELEMENT pedido (contenido)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT contenido (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ATTLIST pedido codigo CDATA \PYGZsh{}IMPLIED\PYGZgt{}}
]\PYGZgt{}

\PYG{n+nt}{\PYGZlt{}pedido}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}contenido}\PYG{n+nt}{\PYGZgt{}}Pedido de cosas\PYG{n+nt}{\PYGZlt{}/contenido\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/pedido\PYGZgt{}}
\end{Verbatim}


\subsection{Elementos vacíos}
\label{tema5:elementos-vacios}
En ocasiones, un elemento en especial puede interesarnos que vaya vacío porque simplemente no contiene mucha información de relevancia. Por ejemplo en HTML podemos encontrarnos esto:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{b}\PYG{p}{\PYGZgt{}}Texto texto...\PYG{p}{\PYGZlt{}}\PYG{p}{/}\PYG{n+nt}{b}\PYG{p}{\PYGZgt{}}
\PYG{p}{\PYGZlt{}}\PYG{n+nt}{br}\PYG{p}{/}\PYG{p}{\PYGZgt{}}
\end{Verbatim}

Los elementos vacíos suelen utilizar para indicar pequeñas informaciones que no deseamos meter en atributos y que de todas formas tampoco son de demasiada relevancia.

Un elemento vacío se indica poniendo \sphinxcode{EMPTY} en lugar de \sphinxcode{\#PCDATA}

Por supuesto, estas dos formas de usar un atributo son válidas:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}pedido}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}pagado}\PYG{n+nt}{\PYGZgt{}}\PYG{n+nt}{\PYGZlt{}/pagado\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}contenido}\PYG{n+nt}{\PYGZgt{}}...\PYG{n+nt}{\PYGZlt{}/contenido\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/pedido\PYGZgt{}}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}pedido}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}pagado}\PYG{n+nt}{/\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}contenido}\PYG{n+nt}{\PYGZgt{}}...\PYG{n+nt}{\PYGZlt{}/contenido\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/pedido\PYGZgt{}}
\end{Verbatim}

La definición completa sería así:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{c+cp}{\PYGZlt{}!DOCTYPE pedido[}
\PYG{c+cp}{        \PYGZlt{}!ELEMENT pedido (pagado?,contenido)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT pagado EMPTY\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT contenido (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ATTLIST pedido codigo CDATA \PYGZsh{}IMPLIED\PYGZgt{}}
]\PYGZgt{}

\PYG{n+nt}{\PYGZlt{}pedido}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}pagado}\PYG{n+nt}{/\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}contenido}\PYG{n+nt}{\PYGZgt{}}Pedido de cosas\PYG{n+nt}{\PYGZlt{}/contenido\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/pedido\PYGZgt{}}
\end{Verbatim}


\subsection{Alternativas}
\label{tema5:alternativas}
Hasta ahora hemos indicado elementos donde un elemento puede aparecer o puede no aparecer, pero ¿qué ocurre si deseamos obligar a que aparezca una posibilidad entre varias?

Por ejemplo, supongamos que en un nuestro ejemplo de pedidos deseamos indicar si el pedido se entregó en almacén o a domicilio. A la fuerza todo pedido se entrega de alguna manera, sin embargo queremos exigir que en los XML aparezca una de esas dos alternativas. Los elementos alternativos se indican con la barra vertical \sphinxcode{almacen\textbar{}domicilio}

Una tentación sería hacer esto (que está \textbf{mal}):

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}!DOCTYPE pedido[}
\PYG{c+cp}{        \PYGZlt{}!ELEMENT pedido (pagado?, contenido, almacen?,domicilio?)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT pagado EMPTY\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT contenido (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT almacen (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT domicilio (\PYGZsh{}PCDATA\PYGZgt{}}
]\PYGZgt{}
\end{Verbatim}

Está mal porque se permite esto:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}pedido}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}pagado}\PYG{n+nt}{/\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}contenido}\PYG{n+nt}{\PYGZgt{}}Ordenadores\PYG{n+nt}{\PYGZlt{}/contenido\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}almacen}\PYG{n+nt}{\PYGZgt{}}Entregado el 20\PYGZhy{}2\PYGZhy{}2011\PYG{n+nt}{\PYGZlt{}/almacen\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}domicilio}\PYG{n+nt}{\PYGZgt{}}Entregado el 20\PYGZhy{}2011\PYG{n+nt}{\PYGZlt{}/domicilio\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/pedido\PYGZgt{}}
\end{Verbatim}

La forma \textbf{correcta} es esta:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}!DOCTYPE pedido[}
\PYG{c+cp}{        \PYGZlt{}!ELEMENT pedido (pagado?, contenido, (almacen\textbar{}domicilio)?\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT pagado EMPTY\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT contenido (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT almacen (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT domicilio (\PYGZsh{}PCDATA\PYGZgt{}}
]\PYGZgt{}
\PYG{n+nt}{\PYGZlt{}pedido}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}contenido}\PYG{n+nt}{\PYGZgt{}}Ordenadores\PYG{n+nt}{\PYGZlt{}/contenido\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/pedido\PYGZgt{}}
\end{Verbatim}


\section{Ejercicio}
\label{tema5:id1}
Un mayorista informático necesita especificar las reglas de los elementos permitidos en las aplicaciones que utiliza en sus empresas, para ello ha indicado los siguientes requisitos:
\begin{itemize}
\item {} 
Una entrega consta de uno o más lotes.

\item {} 
Un lote tiene uno o más palés

\item {} 
Todo palé tiene una serie de elementos: número de cajas, contenido y peso y forma de manipulación.

\item {} 
El contenido consta de una serie de elementos: nombre del componente, procedencia (puede aparecer 0, 1 o más países), número de serie del componente, peso del componente individual y unidad de peso que puede aparecer o no.

\end{itemize}


\subsection{Solución}
\label{tema5:id2}
Observa como en la siguiente DTD se pone \sphinxcode{procedencia?} y dentro de ella \sphinxcode{pais+}. Esto nos permite que si aparece la procedencia se debe especificar uno o más países. Sin embargo si no queremos que aparezca ningun pais, el XML \textbf{no necesita contener un elemento vacío}.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{entrega} \PYG{o}{(}\PYG{n+nt}{lote}\PYG{o}{+}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{lote} \PYG{o}{(}\PYG{n+nt}{pale}\PYG{o}{+}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{pale} \PYG{o}{(}\PYG{n+nt}{numcajas}\PYG{o}{,} \PYG{n+nt}{contenido}\PYG{o}{,} \PYG{n+nt}{peso}\PYG{o}{,} \PYG{n+nt}{formamanipulacion}\PYG{o}{?}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{numcajas} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{peso} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{formamanipulacion} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{contenido} \PYG{o}{(}\PYG{n+nt}{nombrecomponente}\PYG{o}{,} \PYG{n+nt}{procedencia}\PYG{o}{?}\PYG{o}{,}
                        \PYG{n+nt}{numserie}\PYG{o}{,} \PYG{n+nt}{peso}\PYG{o}{,} \PYG{n+nt}{unidades}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{nombrecomponente} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{procedencia} \PYG{o}{(}\PYG{n+nt}{pais}\PYG{o}{+}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{pais} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{numserie} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{unidades} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}UTF\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{c+cp}{\PYGZlt{}!DOCTYPE entrega SYSTEM \PYGZdq{}mayorista.dtd\PYGZdq{}\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}entrega}\PYG{n+nt}{\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}lote}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}pale}\PYG{n+nt}{\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}numcajas}\PYG{n+nt}{\PYGZgt{}}3\PYG{n+nt}{\PYGZlt{}/numcajas\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}contenido}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombrecomponente}\PYG{n+nt}{\PYGZgt{}}Fuentes\PYG{n+nt}{\PYGZlt{}/nombrecomponente\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}numserie}\PYG{n+nt}{\PYGZgt{}}3A\PYG{n+nt}{\PYGZlt{}/numserie\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}peso}\PYG{n+nt}{\PYGZgt{}}2kg\PYG{n+nt}{\PYGZlt{}/peso\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}unidades}\PYG{n+nt}{\PYGZgt{}}50\PYG{n+nt}{\PYGZlt{}/unidades\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}/contenido\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}peso}\PYG{n+nt}{\PYGZgt{}}100kg\PYG{n+nt}{\PYGZlt{}/peso\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}formamanipulacion}\PYG{n+nt}{\PYGZgt{}}Manual\PYG{n+nt}{\PYGZlt{}/formamanipulacion\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/pale\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/lote\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}lote}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}pale}\PYG{n+nt}{\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}numcajas}\PYG{n+nt}{\PYGZgt{}}2\PYG{n+nt}{\PYGZlt{}/numcajas\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}contenido}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombrecomponente}\PYG{n+nt}{\PYGZgt{}}CPUs\PYG{n+nt}{\PYGZlt{}/nombrecomponente\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}procedencia}\PYG{n+nt}{\PYGZgt{}}
                  \PYG{n+nt}{\PYGZlt{}pais}\PYG{n+nt}{\PYGZgt{}}China\PYG{n+nt}{\PYGZlt{}/pais\PYGZgt{}}
                  \PYG{n+nt}{\PYGZlt{}pais}\PYG{n+nt}{\PYGZgt{}}Corea del Sur\PYG{n+nt}{\PYGZlt{}/pais\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/procedencia\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}numserie}\PYG{n+nt}{\PYGZgt{}}5B\PYG{n+nt}{\PYGZlt{}/numserie\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}peso}\PYG{n+nt}{\PYGZgt{}}100g\PYG{n+nt}{\PYGZlt{}/peso\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}unidades}\PYG{n+nt}{\PYGZgt{}}1000\PYG{n+nt}{\PYGZlt{}/unidades\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}/contenido\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}peso}\PYG{n+nt}{\PYGZgt{}}100kg\PYG{n+nt}{\PYGZlt{}/peso\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}formamanipulacion}\PYG{n+nt}{\PYGZgt{}}Manual\PYG{n+nt}{\PYGZlt{}/formamanipulacion\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/pale\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/lote\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/entrega\PYGZgt{}}
\end{Verbatim}


\section{Ejercicio: mayorista de libros}
\label{tema5:ejercicio-mayorista-de-libros}
Se desea crear un formato de intercambio de datos para una empresa mayorista de libros con el fin de que sus distintos programas puedan manejar la información interna. El formato de archivo debe tener la siguiente estructura:
\begin{itemize}
\item {} 
Un archivo tiene una serie de operaciones dentro.

\item {} 
Las operaciones pueden ser ``venta'', ``compra'', o cualquier combinación y secuencia de ellas, pero debe haber al menos una.

\item {} 
Una venta tiene:
\begin{itemize}
\item {} 
Uno o más títulos vendidos.

\item {} 
La cantidad total de libros vendidos.

\item {} 
Puede haber un elemento ``entregado'' que indique si la entrega se ha realizado.

\item {} 
Debe haber un elemento importe con un atributo obligatorio llamado ``moneda''.

\end{itemize}

\item {} 
Una compra tiene:
\begin{itemize}
\item {} 
Uno o más títulos comprados.

\item {} 
Nombre de proveedor.

\item {} 
Una fecha de compra, que debe desglosarse en elementos día, mes y año

\end{itemize}

\end{itemize}


\subsection{Solución al mayorista de libros}
\label{tema5:solucion-al-mayorista-de-libros}

\section{Ejercicio: fabricante de tractores}
\label{tema5:ejercicio-fabricante-de-tractores}
Un fabricante de tractores desea unificar el formato XML de sus proveedores y para ello ha indicado que necesita que los archivos XML cumplan las siguientes restricciones:
\begin{itemize}
\item {} 
Un pedido consta de uno o más tractores.

\item {} 
Un tractor consta de uno o más componentes.

\item {} 
Un componente tiene los siguientes elementos: nombre del fabricante (atributo obligatorio), fecha de entrega  (si es posible, aunque puede que no aparezca, si aparece el dia es optativo, pero el mes y el año son obligatorios). También se necesita saber del componente si es frágil o no. También debe aparecer un elemento peso del componente y dicho elemento peso tiene un atributo unidad del peso (kilos o gramos), un elemento número de serie y puede que aparezca o no un elemento km\_maximos indicando que el componente debe sustituirse tras un cierto número de kilómetros.

\end{itemize}

Una posible solución sería esta (aunque se puede mejorar en algunos aspectos):

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{pedido} \PYG{o}{(}\PYG{n+nt}{tractor}\PYG{o}{+}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{tractor} \PYG{o}{(}\PYG{n+nt}{componente}\PYG{o}{+}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{componente} \PYG{o}{(}\PYG{n+nt}{fecha}\PYG{o}{?}\PYG{o}{,} \PYG{n+nt}{peso}\PYG{o}{,} \PYG{n+nt}{fragil}\PYG{o}{?}\PYG{o}{,} \PYG{n+nt}{km\PYGZus{}maximos}\PYG{o}{?}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{fragil} \PYG{k+kc}{EMPTY}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{peso} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{km\PYGZus{}maximos} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ATTLIST} \PYG{n+nt}{componente} \PYG{n+na}{nombre\PYGZus{}fabricante} \PYG{k+kc}{CDATA} \PYG{k+kc}{\PYGZsh{}REQUIRED}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ATTLIST} \PYG{n+nt}{peso} \PYG{n+na}{unidades} \PYG{k+kc}{CDATA} \PYG{k+kc}{\PYGZsh{}IMPLIED}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{fecha} \PYG{o}{(}\PYG{n+nt}{dia}\PYG{o}{?}\PYG{o}{,} \PYG{n+nt}{mes}\PYG{o}{,} \PYG{n+nt}{anio}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{dia} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{mes} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{anio} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\end{Verbatim}

Un ejemplo de XML sería este:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}UTF\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{c+cp}{\PYGZlt{}!DOCTYPE pedido SYSTEM \PYGZdq{}tractores.dtd\PYGZdq{}\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}pedido}\PYG{n+nt}{\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}tractor}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}componente} \PYG{n+na}{nombre\PYGZus{}fabricante=}\PYG{l+s}{\PYGZdq{}John Deere\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}peso} \PYG{n+na}{unidades=}\PYG{l+s}{\PYGZdq{}kilos\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}2.5\PYG{n+nt}{\PYGZlt{}/peso\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}fragil}\PYG{n+nt}{/\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/componente\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}componente} \PYG{n+na}{nombre\PYGZus{}fabricante=}\PYG{l+s}{\PYGZdq{}Agrotrans\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}peso} \PYG{n+na}{unidades=}\PYG{l+s}{\PYGZdq{}gramos\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}50\PYG{n+nt}{\PYGZlt{}/peso\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/componente\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/tractor\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}tractor}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}componente} \PYG{n+na}{nombre\PYGZus{}fabricante=}\PYG{l+s}{\PYGZdq{}John Deere\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}fecha}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}mes}\PYG{n+nt}{\PYGZgt{}}Enero\PYG{n+nt}{\PYGZlt{}/mes\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}anio}\PYG{n+nt}{\PYGZgt{}}2015\PYG{n+nt}{\PYGZlt{}/anio\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}/fecha\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}peso}\PYG{n+nt}{\PYGZgt{}}150\PYG{n+nt}{\PYGZlt{}/peso\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}fragil}\PYG{n+nt}{/\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/componente\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}componente} \PYG{n+na}{nombre\PYGZus{}fabricante=}\PYG{l+s}{\PYGZdq{}Agrotrans\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
          \PYG{n+nt}{\PYGZlt{}peso} \PYG{n+na}{unidades=}\PYG{l+s}{\PYGZdq{}gramos\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}50\PYG{n+nt}{\PYGZlt{}/peso\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/componente\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/tractor\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/pedido\PYGZgt{}}
\end{Verbatim}


\section{Ejercicio: repeticiones de opciones}
\label{tema5:ejercicio-repeticiones-de-opciones}
Se necesita un formato de archivo para intercambiar productos entre almacenes de productos de librería y se desea una DTD que incluya estas restricciones:
\begin{itemize}
\item {} 
Debe haber un elemento raíz pedido que puede constar de libros, cuadernos y/o lápices. Los tres elementos pueden aparecer repetidos y en cualquier orden. Tambien pueden aparecer por ejemplo 4 libros, 2 lapices y luego 4 lapices de nuevo.

\item {} 
Todo libro tiene un atributo obligatorio titulo.

\item {} 
Los elementos cuaderno tiene un atributo optativo num\_hojas.

\item {} 
Todo elemento lápiz debe tener dentro un  elemento obligatorio número.

\end{itemize}

La solución a la DTD:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{pedido} \PYG{o}{(}\PYG{n+nt}{libro}\PYG{o}{\textbar{}}\PYG{n+nt}{cuaderno}\PYG{o}{\textbar{}}\PYG{n+nt}{lapiz}\PYG{o}{)}\PYG{o}{+}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{libro} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ATTLIST} \PYG{n+nt}{libro} \PYG{n+na}{titulo} \PYG{k+kc}{CDATA} \PYG{k+kc}{\PYGZsh{}REQUIRED}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{cuaderno} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ATTLIST} \PYG{n+nt}{cuaderno} \PYG{n+na}{num\PYGZus{}hojas} \PYG{k+kc}{CDATA} \PYG{k+kc}{\PYGZsh{}IMPLIED}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{lapiz} \PYG{o}{(}\PYG{n+nt}{numero}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\PYG{k}{\PYGZlt{}!ELEMENT} \PYG{n+nt}{numero} \PYG{o}{(}\PYG{k+kc}{\PYGZsh{}PCDATA}\PYG{o}{)}\PYG{k}{\PYGZgt{}}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}UTF\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{c+cp}{\PYGZlt{}!DOCTYPE pedido SYSTEM \PYGZdq{}libreria.dtd\PYGZdq{}\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}pedido}\PYG{n+nt}{\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}libro} \PYG{n+na}{titulo=}\PYG{l+s}{\PYGZdq{}Java 8\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}\PYG{n+nt}{\PYGZlt{}/libro\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}cuaderno}\PYG{n+nt}{\PYGZgt{}}\PYG{n+nt}{\PYGZlt{}/cuaderno\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}libro} \PYG{n+na}{titulo=}\PYG{l+s}{\PYGZdq{}HTML y CSS\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}libro} \PYG{n+na}{titulo=}\PYG{l+s}{\PYGZdq{}SQL para Dummies\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}cuaderno} \PYG{n+na}{num\PYGZus{}hojas=}\PYG{l+s}{\PYGZdq{}150\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}lapiz}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}numero}\PYG{n+nt}{\PYGZgt{}}2H\PYG{n+nt}{\PYGZlt{}/numero\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/lapiz\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}cuaderno} \PYG{n+na}{num\PYGZus{}hojas=}\PYG{l+s}{\PYGZdq{}250\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}cuaderno} \PYG{n+na}{num\PYGZus{}hojas=}\PYG{l+s}{\PYGZdq{}100\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}lapiz}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}numero}\PYG{n+nt}{\PYGZgt{}}2B\PYG{n+nt}{\PYGZlt{}/numero\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/lapiz\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}lapiz}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}numero}\PYG{n+nt}{\PYGZgt{}}1HB\PYG{n+nt}{\PYGZlt{}/numero\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/lapiz\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/pedido\PYGZgt{}}
\end{Verbatim}


\section{Ejercicio}
\label{tema5:id3}
Una multinacional que opera en bolsa necesita un formato de intercambio de datos para que sus programas intercambien información sobre los mercados de acciones.

En general todo archivo constará de un listado de cosas como se detalla a continuación
\begin{itemize}
\item {} 
En el listado aparecen siempre uno o varios futuros, despues una o varias divisas, despues uno o varios bonos y una o varias letras.

\item {} 
Todos ellos tienen un atributo precio que es \textbf{obligatorio}

\item {} 
Todos ellos tienen un elemento vacío que indica  de donde es el producto anterior: ``Madrid'', ``Nueva York'', ``Frankfurt'' o ``Tokio''.

\item {} 
Las divisas y los bonos tienen un atributo optativo que se usa para indicar si el producto ha sido estable en el pasado o no.

\item {} 
Un futuro es un valor esperado que tendrá un cierto producto en el futuro. Se debe incluir este producto en forma de elemento. También puede aparecer un elemento mercado que indique el país de procedencia del producto.

\item {} 
Todo bono tiene un elemento país\_de\_procedencia para saber a qué estado pertenece. Debe tener tres elementos extra llamados ``valor\_deseado'', ``valor\_mínimo'' y ``valor\_máximo'' para saber los posibles precios.

\item {} 
Las divisas tienen siempre un nombre pueden incluir uno o más tipos de cambio para otras monedas.

\item {} 
Las letras tienen siempre un tipo de interés pagadero por un país emisor. El país emisor también debe existir y debe ser siempre de uno de los países cuyas capitales aparecen arriba (es decir ``España'', ``EEUU'', ``Alemania'' y ``Japón''

\end{itemize}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{c+cp}{\PYGZlt{}!DOCTYPE listado [}
\PYG{c+cp}{        \PYGZlt{}!ELEMENT listado (futuro+, divisa+, bono+, letra+)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ATTLIST futuro precio CDATA \PYGZsh{}REQUIRED\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ATTLIST divisa precio CDATA \PYGZsh{}REQUIRED\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ATTLIST bono precio CDATA \PYGZsh{}REQUIRED\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ATTLIST letra precio CDATA \PYGZsh{}REQUIRED\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT ciudad\PYGZus{}procedencia (madrid\textbar{}nyork\textbar{}frankfurt\textbar{}tokio)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT madrid EMPTY\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT nyork EMPTY\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT frankfurt EMPTY\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT tokio EMPTY\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ATTLIST divisa estable CDATA \PYGZsh{}IMPLIED\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ATTLIST bono estable CDATA \PYGZsh{}IMPLIED\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT futuro (producto, mercado?, ciudad\PYGZus{}procedencia)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT producto (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT mercado (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT bono (pais\PYGZus{}de\PYGZus{}procedencia,valor\PYGZus{}deseado,}
\PYG{c+cp}{                        valor\PYGZus{}minimo, valor\PYGZus{}maximo, ciudad\PYGZus{}procedencia)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT valor\PYGZus{}deseado (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT valor\PYGZus{}minimo (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT valor\PYGZus{}maximo (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT pais\PYGZus{}de\PYGZus{}procedencia (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT divisa (nombre\PYGZus{}divisa,}
\PYG{c+cp}{                        tipo\PYGZus{}de\PYGZus{}cambio+, ciudad\PYGZus{}procedencia)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT nombre\PYGZus{}divisa (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT tipo\PYGZus{}de\PYGZus{}cambio (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT letra (tipo\PYGZus{}de\PYGZus{}interes, pais\PYGZus{}emisor,ciudad\PYGZus{}procedencia)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT tipo\PYGZus{}de\PYGZus{}interes (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT pais\PYGZus{}emisor (espania\textbar{}eeuu\textbar{}alemania\textbar{}japon)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT espania     EMPTY\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT eeuu        EMPTY\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT alemania    EMPTY\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT japon       EMPTY\PYGZgt{}}
]\PYGZgt{}


\PYG{n+nt}{\PYGZlt{}listado}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}futuro} \PYG{n+na}{precio=}\PYG{l+s}{\PYGZdq{}11.28\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}producto}\PYG{n+nt}{\PYGZgt{}}Cafe\PYG{n+nt}{\PYGZlt{}/producto\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}mercado}\PYG{n+nt}{\PYGZgt{}}América Latina\PYG{n+nt}{\PYGZlt{}/mercado\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}ciudad\PYGZus{}procedencia}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}frankfurt}\PYG{n+nt}{/\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/ciudad\PYGZus{}procedencia\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/futuro\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}divisa} \PYG{n+na}{precio=}\PYG{l+s}{\PYGZdq{}183\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre\PYGZus{}divisa}\PYG{n+nt}{\PYGZgt{}}Libra esterlina\PYG{n+nt}{\PYGZlt{}/nombre\PYGZus{}divisa\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}tipo\PYGZus{}de\PYGZus{}cambio}\PYG{n+nt}{\PYGZgt{}}2.7:1 euros\PYG{n+nt}{\PYGZlt{}/tipo\PYGZus{}de\PYGZus{}cambio\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}tipo\PYGZus{}de\PYGZus{}cambio}\PYG{n+nt}{\PYGZgt{}}1:0.87 dólares\PYG{n+nt}{\PYGZlt{}/tipo\PYGZus{}de\PYGZus{}cambio\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}ciudad\PYGZus{}procedencia}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}madrid}\PYG{n+nt}{/\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/ciudad\PYGZus{}procedencia\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/divisa\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}bono} \PYG{n+na}{precio=}\PYG{l+s}{\PYGZdq{}10000\PYGZdq{}} \PYG{n+na}{estable=}\PYG{l+s}{\PYGZdq{}si\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}pais\PYGZus{}de\PYGZus{}procedencia}\PYG{n+nt}{\PYGZgt{}}
                        Islandia
                \PYG{n+nt}{\PYGZlt{}/pais\PYGZus{}de\PYGZus{}procedencia\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}valor\PYGZus{}deseado}\PYG{n+nt}{\PYGZgt{}}9980\PYG{n+nt}{\PYGZlt{}/valor\PYGZus{}deseado\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}valor\PYGZus{}minimo}\PYG{n+nt}{\PYGZgt{}}9950\PYG{n+nt}{\PYGZlt{}/valor\PYGZus{}minimo\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}valor\PYGZus{}maximo}\PYG{n+nt}{\PYGZgt{}}10020\PYG{n+nt}{\PYGZlt{}/valor\PYGZus{}maximo\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}ciudad\PYGZus{}procedencia}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}tokio}\PYG{n+nt}{/\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/ciudad\PYGZus{}procedencia\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/bono\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}letra} \PYG{n+na}{precio=}\PYG{l+s}{\PYGZdq{}45020\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}tipo\PYGZus{}de\PYGZus{}interes}\PYG{n+nt}{\PYGZgt{}}4.54\PYGZpc{}\PYG{n+nt}{\PYGZlt{}/tipo\PYGZus{}de\PYGZus{}interes\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}pais\PYGZus{}emisor}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}espania}\PYG{n+nt}{/\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/pais\PYGZus{}emisor\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}ciudad\PYGZus{}procedencia}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}madrid}\PYG{n+nt}{/\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/ciudad\PYGZus{}procedencia\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/letra\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/listado\PYGZgt{}}
\end{Verbatim}


\section{Ejercicio}
\label{tema5:id4}
La Seguridad Social necesita un formato de intercambio unificado para distribuir la información personal de los afiliados.
\begin{itemize}
\item {} 
Todo archivo XML contiene un listado de uno o mas afiliados

\item {} 
Todo afiliado tiene los siguientes elementos:
\begin{itemize}
\item {} 
DNI o NIE

\item {} 
Nombre

\item {} 
Apellidos

\item {} 
Situación laboral: que tiene que ser una y solo una de entre estas posibilidades: ``en\_paro'', ``en\_activo'', ``jubilado'', ``edad\_no\_laboral''

\item {} 
Fecha de nacimiento: que se desglosa en los elementos obligatorios día, mes y anio.

\item {} 
Listado de bajas: que indica las situaciones de baja laboral del empleado. Dicho listado consta de una repetición de 0 o más bajas:
\begin{itemize}
\item {} 
Una baja consta de tres elementos: causa (obligatoria), fecha de inicio (obligatorio) y fecha de final (optativa),

\end{itemize}

\item {} 
Listado de prestaciones cobradas: consta de 0 o más elementos prestación, donde se indicará la cantidad percibida (obligatorio), la fecha de inicio (obligatorio) y la fecha de final (obligatorio)

\end{itemize}

\end{itemize}


\section{Examen}
\label{tema5:examen}
El examen de este tema tendrá lugar el viernes 7 de marzo de 2014.


\chapter{Recuperación de información}
\label{tema6::doc}\label{tema6:recuperacion-de-informacion}

\section{Introducción}
\label{tema6:introduccion}
En líneas generales hay dos grandes formas de usar un lenguaje de programación para leer o escribir archivos XML
\begin{itemize}
\item {} 
DOM: significa Document Object Model (o Modelo del objeto documento). DOM en general almacena los archivos en memoria lo que es mucho más rápido y eficiente.

\item {} 
SAX: en algunos casos, los archivos muy grandes, pueden no caber en memoria. SAX proporciona otras clases y métodos distintos para ir procesando un archivo por partes. SAX significa Simple Access for XML, pero en general es un poco más complicado. En este módulo, no lo veremos.

\end{itemize}

DOM es un estándar y sus clases y métodos existen en muchos otros lenguajes.


\section{Fundamentos de DOM con Java}
\label{tema6:fundamentos-de-dom-con-java}
En primer lugar va a ser necesario importar las clases correctas para poder usar DOM. La línea correcta es

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{javax.xml.parsers.*}\PYG{o}{;}
\PYG{k+kn}{import} \PYG{n+nn}{org.w3c.dom.*}\PYG{o}{;}
\end{Verbatim}

Un parser es un programa que analiza la sintaxis de un fichero, en nuestro caso un fichero XML. En castellano se debería decir analizador o analizador gramatical.


\section{Ejemplo de base}
\label{tema6:ejemplo-de-base}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kn}{package} \PYG{n+nn}{com.ies}\PYG{o}{;}
\PYG{k+kn}{import} \PYG{n+nn}{javax.xml.parsers.*}\PYG{o}{;}
\PYG{k+kn}{import} \PYG{n+nn}{java.io.File}\PYG{o}{;}
\PYG{k+kn}{import} \PYG{n+nn}{org.w3c.dom.*}\PYG{o}{;}

\PYG{k+kd}{public} \PYG{k+kd}{class} \PYG{n+nc}{ProcesadorXML} \PYG{o}{\PYGZob{}}
        \PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{procesarArchivo}\PYG{o}{(}\PYG{n}{String} \PYG{n}{nombreArchivo}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{DocumentBuilderFactory} \PYG{n}{fabrica}\PYG{o}{;}
                \PYG{n}{DocumentBuilder} \PYG{n}{constructor}\PYG{o}{;}
                \PYG{n}{Document} \PYG{n}{documentoXML}\PYG{o}{;}
                \PYG{n}{File} \PYG{n}{fichero}\PYG{o}{=}\PYG{k}{new} \PYG{n}{File}\PYG{o}{(}\PYG{n}{nombreArchivo}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{fabrica}\PYG{o}{=}
                        \PYG{n}{DocumentBuilderFactory}\PYG{o}{.}\PYG{n+na}{newInstance}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Procesando \PYGZdq{}}\PYG{o}{+}\PYG{n}{nombreArchivo}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{try} \PYG{o}{\PYGZob{}}
                        \PYG{n}{constructor}\PYG{o}{=}
                          \PYG{n}{fabrica}\PYG{o}{.}\PYG{n+na}{newDocumentBuilder}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{documentoXML}\PYG{o}{=}\PYG{n}{constructor}\PYG{o}{.}\PYG{n+na}{parse}\PYG{o}{(}\PYG{n}{fichero}\PYG{o}{)}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}} \PYG{k}{catch} \PYG{o}{(}\PYG{n}{Exception} \PYG{n}{e}\PYG{o}{)} \PYG{o}{\PYGZob{}}
                        \PYG{c+c1}{// TODO Auto\PYGZhy{}generated catch block}
                        \PYG{n}{e}\PYG{o}{.}\PYG{n+na}{printStackTrace}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}}



        \PYG{o}{\PYGZcb{}}
        \PYG{k+kd}{public} \PYG{k+kd}{static} \PYG{k+kt}{void} \PYG{n+nf}{main} \PYG{o}{(}\PYG{n}{String}\PYG{o}{[}\PYG{o}{]} \PYG{n}{argumentos}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Probando...\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{ProcesadorXML} \PYG{n}{proc}\PYG{o}{=}\PYG{k}{new} \PYG{n}{ProcesadorXML}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{proc}\PYG{o}{.}\PYG{n+na}{procesarArchivo}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}bolsas.xml\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
\PYG{o}{\PYGZcb{}}
\end{Verbatim}


\section{La clase Document}
\label{tema6:la-clase-document}
La clase Document es una representación Java que almacena en memoria un archivo XML.Mediante esta clase y otras clases compañeras podremos recorrer cualquier punto del archivo XML.

Este recorrido se basa siempre en la visita de nodos hijo o nodos hermano. No todos los nodos son iguales y se debe tener presente que en un nodo podríamos encontrar que los saltos de línea pueden ser un problema a la hora de recorrer el árbol DOM.

Por ejemplo, dado un documento, se debe empezar obteniendo la raíz. Este elemento se llama también el “elemento documento” y podemos obtenerlo así:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n}{documento}\PYG{o}{=}\PYG{n}{constructor}\PYG{o}{.}\PYG{n+na}{parse}\PYG{o}{(}\PYG{n}{archivoXML}\PYG{o}{)}\PYG{o}{;}
\PYG{n}{Element} \PYG{n}{raiz}\PYG{o}{=}\PYG{n}{documento}\PYG{o}{.}\PYG{n+na}{getDocumentElement}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
\PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{n}{raiz}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{)}\PYG{o}{;}
\end{Verbatim}

La clase principal que nos interesa es la clase \sphinxcode{Node}, siendo \sphinxcode{Document} su clase Hija. Algunos métodos de interés son estos:
\begin{itemize}
\item {} 
\sphinxcode{getDocumentElement()} obtiene el elemento raíz, a partir del cual podremos empezar a ``navegar'' a través de los elementos.

\item {} 
\sphinxcode{getFirstChild()} obtiene el primer elemento hijo del nodo que estemos visitando.

\item {} 
\sphinxcode{getParentNode()} nos permite obtener el nodo padre de un cierto nodo.

\item {} 
\sphinxcode{getChildNodes()} obtiene todos los nodos hijo.

\item {} 
\sphinxcode{getNextSibling()} obtiene el siguiente nodo hermano.

\item {} 
\sphinxcode{getChildNodes()} devuelve un \sphinxcode{NodeList} con todos los hijos de un elemento. Esta \sphinxcode{NodeList} se puede recorrer con un \sphinxcode{for}, obteniendo el tamaño de la lista con \sphinxcode{getLength()} y extrayendo los elementos con el método \sphinxcode{item(posicion)}

\item {} 
\sphinxcode{getNodeType()} es un método que nos indica el tipo de nodo (devuelve un \sphinxcode{short}). Podemos comparar con \sphinxcode{Node.ELEMENT\_NODE} para ver si el nodo es realmente un elemento.

\item {} 
Otro método de utilidad es \sphinxcode{getElementsByTagName} que extrae todos los subelementos que tengan un cierto nombre de etiqueta.

\end{itemize}

\begin{notice}{hint}{Consejo:}
En general, hay muchas clases que proporcionan más métodos de utilidad, como por ejemplo la clase \sphinxcode{Element}. En muchas ocasiones, podremos hacer un \sphinxcode{cast} y aprovecharnos de ellos.
\end{notice}

Cuando se procesan archivos, se debe tener especial importancia a los espacios en blanco que pueda haber. Estos dos archivos no son iguales:

\begin{Verbatim}[commandchars=\\\{\}]
El primer hijo de listado es \PYG{n+nt}{\PYGZlt{}futuro}\PYG{n+nt}{\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}listado}\PYG{n+nt}{\PYGZgt{}}\PYG{n+nt}{\PYGZlt{}futuro}\PYG{n+nt}{\PYGZgt{}}...\PYG{n+nt}{\PYGZlt{}/futuro\PYGZgt{}}\PYG{n+nt}{\PYGZlt{}/listado\PYGZgt{}}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
Aquí el primer hijo de listado es \PYGZbs{}n
\PYG{n+nt}{\PYGZlt{}listado}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}futuro}\PYG{n+nt}{\PYGZgt{}}...\PYG{n+nt}{\PYGZlt{}/futuro\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/listado\PYGZgt{}}
\end{Verbatim}


\section{Ejercicios}
\label{tema6:ejercicios}

\subsection{Ejercicio}
\label{tema6:ejercicio}
Dado el siguiente archivo XML crear un programa que muestre todos los nombres:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}listaempleados}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}empleado} \PYG{n+na}{edad=}\PYG{l+s}{\PYGZdq{}27\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}Pepe Perez\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}categoria}\PYG{n+nt}{\PYGZgt{}}Empleado\PYG{n+nt}{\PYGZlt{}/categoria\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/empleado\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}empleado} \PYG{n+na}{edad=}\PYG{l+s}{\PYGZdq{}34\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre}\PYG{n+nt}{\PYGZgt{}}Juan Sanchez\PYG{n+nt}{\PYGZlt{}/nombre\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}categoria}\PYG{n+nt}{\PYGZgt{}}Gerente\PYG{n+nt}{\PYGZlt{}/categoria\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/empleado\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/listaempleados\PYGZgt{}}
\end{Verbatim}

La solución podría ser algo así:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{k+kd}{class} \PYG{n+nc}{ProcesadorXML} \PYG{o}{\PYGZob{}}
        \PYG{n}{String} \PYG{n}{ruta}\PYG{o}{;}
        \PYG{k+kd}{public} \PYG{n+nf}{ProcesadorXML}\PYG{o}{(}\PYG{n}{String} \PYG{n}{ruta}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{k}{this}\PYG{o}{.}\PYG{n+na}{ruta}\PYG{o}{=}\PYG{n}{ruta}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
        \PYG{k+kd}{public} \PYG{n}{Element} \PYG{n+nf}{getRaiz}\PYG{o}{(}\PYG{o}{)}
                        \PYG{k+kd}{throws} \PYG{n}{ParserConfigurationException}\PYG{o}{,} \PYG{n}{SAXException}\PYG{o}{,} \PYG{n}{IOException}\PYG{o}{\PYGZob{}}
                \PYG{n}{DocumentBuilderFactory} \PYG{n}{fabrica}\PYG{o}{;}
                \PYG{n}{fabrica}\PYG{o}{=}
                \PYG{n}{DocumentBuilderFactory}\PYG{o}{.}\PYG{n+na}{newInstance}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{c+cm}{/* A partir de un fichero XML}
\PYG{c+cm}{                 * crea el objeto documento en memoria*/}
                \PYG{n}{DocumentBuilder} \PYG{n}{creadorObjDocumento}\PYG{o}{;}
                \PYG{n}{creadorObjDocumento}\PYG{o}{=}
                        \PYG{n}{fabrica}\PYG{o}{.}\PYG{n+na}{newDocumentBuilder}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{FileInputStream} \PYG{n}{fich}\PYG{o}{;}
                \PYG{n}{fich}\PYG{o}{=}\PYG{k}{new} \PYG{n}{FileInputStream}\PYG{o}{(}\PYG{k}{this}\PYG{o}{.}\PYG{n+na}{ruta}\PYG{o}{)}\PYG{o}{;}

                \PYG{c+cm}{/* Analiza el XML y}
\PYG{c+cm}{                 * lo carga en memoria */}
                \PYG{n}{Document} \PYG{n}{documento}\PYG{o}{;}
                \PYG{n}{documento}\PYG{o}{=}
                        \PYG{n}{creadorObjDocumento}\PYG{o}{.}\PYG{n+na}{parse}\PYG{o}{(}\PYG{n}{fich}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Element} \PYG{n}{raiz}\PYG{o}{;}
                \PYG{n}{raiz}\PYG{o}{=}\PYG{n}{documento}\PYG{o}{.}\PYG{n+na}{getDocumentElement}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{return} \PYG{n}{raiz}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
        \PYG{c+cm}{/* Este método imprime todos los nombres*/}
        \PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{todosNombres}\PYG{o}{(}\PYG{o}{)}
                        \PYG{k+kd}{throws} \PYG{n}{ParserConfigurationException}\PYG{o}{,}
                                \PYG{n}{SAXException}\PYG{o}{,} \PYG{n}{IOException}
        \PYG{o}{\PYGZob{}}
                \PYG{n}{Element} \PYG{n}{raiz}\PYG{o}{=}\PYG{n}{getRaiz}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Node} \PYG{n}{hijo}\PYG{o}{=}\PYG{n}{raiz}\PYG{o}{.}\PYG{n+na}{getFirstChild}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{while} \PYG{o}{(}\PYG{n}{hijo}\PYG{o}{!}\PYG{o}{=}\PYG{k+kc}{null}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{String} \PYG{n}{nombreElemento}\PYG{o}{;}
                        \PYG{n}{nombreElemento}\PYG{o}{=}\PYG{n}{hijo}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{nombreElemento}\PYG{o}{.}\PYG{n+na}{equals}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}empleado\PYGZdq{}}\PYG{o}{)}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{n}{Node} \PYG{n}{hijoFinLinea}\PYG{o}{=}\PYG{n}{hijo}\PYG{o}{.}\PYG{n+na}{getFirstChild}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                                \PYG{n}{Element} \PYG{n}{hijoNombre}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{hijoFinLinea}\PYG{o}{.}\PYG{n+na}{getNextSibling}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                                \PYG{n}{String} \PYG{n}{contenido}\PYG{o}{=}\PYG{n}{hijoNombre}\PYG{o}{.}\PYG{n+na}{getTextContent}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Empleado \PYGZdq{}}\PYG{o}{+}\PYG{n}{contenido}\PYG{o}{)}\PYG{o}{;}
                        \PYG{o}{\PYGZcb{}}
                        \PYG{n}{hijo}\PYG{o}{=}\PYG{n}{hijo}\PYG{o}{.}\PYG{n+na}{getNextSibling}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
        \PYG{o}{\PYGZcb{}}
        \PYG{k+kd}{public} \PYG{k+kd}{static} \PYG{k+kt}{void} \PYG{n+nf}{main}\PYG{o}{(}\PYG{n}{String}\PYG{o}{[}\PYG{o}{]} \PYG{n}{args}\PYG{o}{)} \PYG{k+kd}{throws} \PYG{n}{ParserConfigurationException}\PYG{o}{,} \PYG{n}{SAXException}\PYG{o}{,} \PYG{n}{IOException} \PYG{o}{\PYGZob{}}
                \PYG{n}{ProcesadorXML} \PYG{n}{procesador}\PYG{o}{;}
                \PYG{n}{procesador}\PYG{o}{=}\PYG{k}{new} \PYG{n}{ProcesadorXML}\PYG{o}{(}
                        \PYG{l+s}{\PYGZdq{}D:/oscar/empleados.xml\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{procesador}\PYG{o}{.}\PYG{n+na}{todosNombres}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
\PYG{o}{\PYGZcb{}}
\end{Verbatim}

Ampliaciones:
\begin{itemize}
\item {} 
Añadir uno que devuelva todas las edades.

\item {} 
Añadir uno que devuelva los nombres de los empleados mayores de 30 (mostrando los nombres pero no las edades).

\item {} 
Añadir un método que diga cuantos empleados hay. El método debe ser capaz de tolerar que haya muchas líneas en blanco seguidas.

\end{itemize}

El siguiente código resuelve el problema de mostrar los mayores de cierta edad:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{mostrarMayoresDe}\PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{edadMinima}\PYG{o}{)}
                \PYG{k+kd}{throws} \PYG{n}{ParserConfigurationException}\PYG{o}{,}
                \PYG{n}{SAXException}\PYG{o}{,} \PYG{n}{IOException}
\PYG{o}{\PYGZob{}}
        \PYG{n}{Element} \PYG{n}{raiz}\PYG{o}{=}\PYG{n}{getRaiz}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{n}{Node} \PYG{n}{finLinea}\PYG{o}{=}\PYG{n}{raiz}\PYG{o}{.}\PYG{n+na}{getFirstChild}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{n}{Element} \PYG{n}{empleado}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{finLinea}\PYG{o}{.}\PYG{n+na}{getNextSibling}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{while} \PYG{o}{(}\PYG{n}{empleado}\PYG{o}{!}\PYG{o}{=}\PYG{k+kc}{null}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{String} \PYG{n}{edad}\PYG{o}{=}\PYG{n}{empleado}\PYG{o}{.}\PYG{n+na}{getAttribute}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}edad\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{k+kt}{int} \PYG{n}{iEdad}\PYG{o}{=}\PYG{n}{Integer}\PYG{o}{.}\PYG{n+na}{parseInt}\PYG{o}{(}\PYG{n}{edad}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{iEdad}\PYG{o}{\PYGZgt{}}\PYG{n}{edadMinima}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{finLinea}\PYG{o}{=}\PYG{n}{empleado}\PYG{o}{.}\PYG{n+na}{getFirstChild}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{Element} \PYG{n}{elemNombre}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)}
                                        \PYG{n}{finLinea}\PYG{o}{.}\PYG{n+na}{getNextSibling}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{String} \PYG{n}{nombreEmpleado}\PYG{o}{=}
                                        \PYG{n}{elemNombre}\PYG{o}{.}\PYG{n+na}{getTextContent}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{n}{nombreEmpleado} \PYG{o}{+}
                                        \PYG{l+s}{\PYGZdq{} es mayor de \PYGZdq{}}\PYG{o}{+}\PYG{n}{iEdad}\PYG{o}{)}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if}
                \PYG{n}{finLinea}\PYG{o}{=}\PYG{n}{empleado}\PYG{o}{.}\PYG{n+na}{getNextSibling}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{empleado}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{finLinea}\PYG{o}{.}\PYG{n+na}{getNextSibling}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}       \PYG{c+c1}{//Fin del while}
\PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del método}
\end{Verbatim}

El método \sphinxcode{getElementsByTagName} puede facilitar mucho el resolver ciertas tareas. Por ejemplo, supongamos que queremos resolver el problema de contar cuantos empleados hay:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{k+kt}{int} \PYG{n+nf}{contarEmpleados}\PYG{o}{(}\PYG{o}{)}
                \PYG{k+kd}{throws} \PYG{n}{ParserConfigurationException}\PYG{o}{,} \PYG{n}{SAXException}\PYG{o}{,} \PYG{n}{IOException}\PYG{o}{\PYGZob{}}
        \PYG{k+kt}{int} \PYG{n}{numEmpleados}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;}
        \PYG{n}{Element} \PYG{n}{raiz}\PYG{o}{=}\PYG{n}{getRaiz}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{n}{NodeList} \PYG{n}{lista}\PYG{o}{=}\PYG{n}{raiz}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}empleado\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
        \PYG{n}{numEmpleados}\PYG{o}{=}\PYG{n}{lista}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{return} \PYG{n}{numEmpleados}\PYG{o}{;}
\PYG{o}{\PYGZcb{}}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema6:id1}
Extraer la raíz de un archivo XML

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{n}{Node} \PYG{n+nf}{extraerRaiz}\PYG{o}{(}\PYG{n}{String} \PYG{n}{nombreArchivo}\PYG{o}{)}\PYG{o}{\PYGZob{}}
        \PYG{n}{DocumentBuilderFactory} \PYG{n}{fabrica}\PYG{o}{;}
        \PYG{n}{DocumentBuilder} \PYG{n}{constructor}\PYG{o}{;}
        \PYG{n}{Document} \PYG{n}{documentoXML}\PYG{o}{=}\PYG{k+kc}{null}\PYG{o}{;}
        \PYG{n}{File} \PYG{n}{fichero}\PYG{o}{=}\PYG{k}{new} \PYG{n}{File}\PYG{o}{(}\PYG{n}{nombreArchivo}\PYG{o}{)}\PYG{o}{;}
        \PYG{n}{fabrica}\PYG{o}{=}
                \PYG{n}{DocumentBuilderFactory}\PYG{o}{.}\PYG{n+na}{newInstance}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Procesando \PYGZdq{}}\PYG{o}{+}\PYG{n}{nombreArchivo}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{try} \PYG{o}{\PYGZob{}}
                \PYG{n}{constructor}\PYG{o}{=}
                  \PYG{n}{fabrica}\PYG{o}{.}\PYG{n+na}{newDocumentBuilder}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{documentoXML}\PYG{o}{=}\PYG{n}{constructor}\PYG{o}{.}\PYG{n+na}{parse}\PYG{o}{(}\PYG{n}{fichero}\PYG{o}{)}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}} \PYG{k}{catch} \PYG{o}{(}\PYG{n}{Exception} \PYG{n}{e}\PYG{o}{)} \PYG{o}{\PYGZob{}}
                \PYG{c+c1}{// TODO Auto\PYGZhy{}generated catch block}
                \PYG{n}{e}\PYG{o}{.}\PYG{n+na}{printStackTrace}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
        \PYG{k}{return} \PYG{n}{documentoXML}\PYG{o}{.}\PYG{n+na}{getDocumentElement}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}

\PYG{o}{\PYGZcb{}}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema6:id2}
Imprimir todos los elementos hijo del archivo XML.

Una posibilidad es la siguiente:
\begin{itemize}
\item {} 
Usar \sphinxcode{getNextSibling} para ir recorriendo hermano a hermano hasta que se encuentre un \sphinxcode{null}

\item {} 
Para evitar los nodos texto, solo imprimiremos cosas cuando el \sphinxcode{getNodeType()} nos devuelva un tipo \sphinxcode{Node.ELEMENT\_NODE}

\end{itemize}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{imprimirHijos}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{nodoRaiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{nodoRaiz}\PYG{o}{=}\PYG{o}{=}\PYG{k+kc}{null}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Imposible procesar raiz null\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{return} \PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
                \PYG{n}{Node} \PYG{n}{nodo}\PYG{o}{=}\PYG{n}{nodoRaiz}\PYG{o}{.}\PYG{n+na}{getFirstChild}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{while} \PYG{o}{(}\PYG{n}{nodo}\PYG{o}{!}\PYG{o}{=}\PYG{k+kc}{null}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{k+kt}{short} \PYG{n}{tipo}\PYG{o}{=}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{getNodeType}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{tipo}\PYG{o}{=}\PYG{o}{=}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{ELEMENT\PYGZus{}NODE}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Nodo hijo:\PYGZdq{}}\PYG{o}{+}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{)}\PYG{o}{;}
                        \PYG{o}{\PYGZcb{}}
                        \PYG{n}{nodo}\PYG{o}{=}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{getNextSibling}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
        \PYG{o}{\PYGZcb{}}
\end{Verbatim}

Otra posibilidad sería usar el \sphinxcode{getChildNodes} que nos devuelve un vector con todos los hijos. Sin embargo ocurrirá lo mismo, deberemos evitar el visitar nodos texto, solo nos interesan los nodos Elemento.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{imprimirHijos2}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{nodoRaiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}
        \PYG{k}{if} \PYG{o}{(}\PYG{n}{nodoRaiz}\PYG{o}{=}\PYG{o}{=}\PYG{k+kc}{null}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Imposible procesar raíz nula\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{return}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if null}
        \PYG{n}{NodeList} \PYG{n}{lista}\PYG{o}{=}\PYG{n}{nodoRaiz}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{lista}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}\PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{Node} \PYG{n}{nodo}\PYG{o}{=}\PYG{n}{lista}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                \PYG{k+kt}{short} \PYG{n}{tipo}\PYG{o}{=}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{getNodeType}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{tipo}\PYG{o}{=}\PYG{o}{=}\PYG{n}{Node}\PYG{o}{.}\PYG{n+na}{ELEMENT\PYGZus{}NODE}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Hijo:\PYGZdq{}}\PYG{o}{+}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{)}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if}
        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del for}
\PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del método}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema6:id3}
Ampliar el programa para que nos diga cuantos elementos ``divisa'' hay en el archivo.

Para practicar esto y de paso practicar programación genérica, fabricaremos un método al que le pasaremos el nombre del elemento a buscar y el método nos dirá cuantos elementos con ese nombre hay.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{k+kt}{int} \PYG{n+nf}{contadorElementos}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{,}\PYG{n}{String} \PYG{n}{nombreElemento}\PYG{o}{)}\PYG{o}{\PYGZob{}}
        \PYG{k+kt}{int} \PYG{n}{contador}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;}
        \PYG{n}{NodeList} \PYG{n}{nodosHijo}\PYG{o}{=}\PYG{n}{raiz}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{nodosHijo}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}\PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{Node} \PYG{n}{nodo}\PYG{o}{=}\PYG{n}{nodosHijo}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                \PYG{k+kt}{short} \PYG{n}{tipo}\PYG{o}{=}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{getNodeType}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{tipo}\PYG{o}{=}\PYG{o}{=}\PYG{n}{Node}\PYG{o}{.}\PYG{n+na}{ELEMENT\PYGZus{}NODE}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{String} \PYG{n}{nombre}\PYG{o}{=}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{nombre}\PYG{o}{=}\PYG{o}{=}\PYG{n}{nombreElemento}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{n}{contador}\PYG{o}{+}\PYG{o}{+}\PYG{o}{;}
                        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if interno}
                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if externo}
        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del for}
        \PYG{k}{return} \PYG{n}{contador}\PYG{o}{;}
\PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del método}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema6:id4}
Nos interesa conocer el precio de todos los bonos. Crear un programa que ejecute esta tarea.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{private} \PYG{k+kt}{void} \PYG{n+nf}{comprobarSiEsBono}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{n}\PYG{o}{)}\PYG{o}{\PYGZob{}}
        \PYG{n}{String} \PYG{n}{nombre}\PYG{o}{=}\PYG{n}{n}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{if} \PYG{o}{(}\PYG{n}{nombre}\PYG{o}{=}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}bono\PYGZdq{}}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Encontrado un bono\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
\PYG{o}{\PYGZcb{}}
\PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{imprimirPrecioBonos}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}
        \PYG{k}{if} \PYG{o}{(}\PYG{n}{raiz}\PYG{o}{=}\PYG{o}{=}\PYG{k+kc}{null}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Imposible procesar null\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{return}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
        \PYG{n}{NodeList} \PYG{n}{nodos}\PYG{o}{=}\PYG{n}{raiz}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{nodos}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{Node} \PYG{n}{nodo}\PYG{o}{=}\PYG{n}{nodos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                \PYG{k+kt}{short} \PYG{n}{tipo}\PYG{o}{=}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{getNodeType}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{tipo}\PYG{o}{=}\PYG{o}{=}\PYG{n}{Node}\PYG{o}{.}\PYG{n+na}{ELEMENT\PYGZus{}NODE}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{k}{this}\PYG{o}{.}\PYG{n+na}{comprobarSiEsBono}\PYG{o}{(}\PYG{n}{nodo}\PYG{o}{)}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
        \PYG{o}{\PYGZcb{}}
\PYG{o}{\PYGZcb{}}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema6:id5}
Crear un programa que nos diga cuantos productos financieros del listado no son estables. Es decir, que tengan el atributo estable y lo tengan a \sphinxcode{false}.

En su momento, en la DTD se permitió que el atributo \sphinxcode{estable} fuera \sphinxcode{\#IMPLIED}, es decir \textbf{optativo}. Al ser la DTD como un contrato, esto nos obliga a preparar nuestro código para manejar la posibilidad de que el atributo no esté presente.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{k+kt}{int} \PYG{n+nf}{cuantosInestables} \PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}
        \PYG{k+kt}{int} \PYG{n}{cuantos}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;}
        \PYG{n}{NodeList} \PYG{n}{lista}\PYG{o}{=}\PYG{n}{raiz}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{lista}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{Node} \PYG{n}{n}\PYG{o}{=}\PYG{n}{lista}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{n}\PYG{o}{.}\PYG{n+na}{getNodeType}\PYG{o}{(}\PYG{o}{)}\PYG{o}{!}\PYG{o}{=}\PYG{n}{Node}\PYG{o}{.}\PYG{n+na}{ELEMENT\PYGZus{}NODE}\PYG{o}{)} \PYG{k}{continue}\PYG{o}{;}
                \PYG{n}{Element} \PYG{n}{e}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{lista}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{e}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{=}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}divisa\PYGZdq{}} \PYG{o}{\textbar{}}\PYG{o}{\textbar{}}
                                \PYG{n}{e}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{=}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}bono\PYGZdq{}}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{String} \PYG{n}{atEstable}\PYG{o}{=}\PYG{n}{e}\PYG{o}{.}\PYG{n+na}{getAttribute}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}estable\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{atEstable}\PYG{o}{!}\PYG{o}{=}\PYG{k+kc}{null}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Atributo:\PYGZdq{}}\PYG{o}{+}\PYG{n}{atEstable}\PYG{o}{)}\PYG{o}{;}
                                \PYG{k}{if} \PYG{o}{(}\PYG{n}{atEstable}\PYG{o}{.}\PYG{n+na}{equals}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}no\PYGZdq{}}\PYG{o}{)}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                        \PYG{n}{cuantos}\PYG{o}{+}\PYG{o}{=}\PYG{l+m+mi}{1}\PYG{o}{;}
                                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if interno}
                        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if atEstable}
                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin de if nodo es divisa o bono}
        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del for que recorre los nodos}
        \PYG{k}{return} \PYG{n}{cuantos}\PYG{o}{;}
\PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del método cuantosInestables}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema6:id6}
Sumar los precios de todos los productos financieros.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{k+kt}{float} \PYG{n+nf}{sumarAtributosPrecio}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}
        \PYG{k+kt}{float} \PYG{n}{precioTotal}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;}
        \PYG{n}{NodeList} \PYG{n}{hijos}\PYG{o}{=}\PYG{n}{raiz}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{hijos}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{Node} \PYG{n}{hijo}\PYG{o}{=}\PYG{n}{hijos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{hijo}\PYG{o}{.}\PYG{n+na}{getNodeType}\PYG{o}{(}\PYG{o}{)}\PYG{o}{!}\PYG{o}{=}\PYG{n}{Node}\PYG{o}{.}\PYG{n+na}{ELEMENT\PYGZus{}NODE}\PYG{o}{)} \PYG{k}{continue}\PYG{o}{;}
                \PYG{n}{Element} \PYG{n}{e}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{hijo}\PYG{o}{;}
                \PYG{n}{String} \PYG{n}{precio}\PYG{o}{=}\PYG{n}{e}\PYG{o}{.}\PYG{n+na}{getAttribute}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}precio\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Float} \PYG{n}{f}\PYG{o}{=}\PYG{n}{Float}\PYG{o}{.}\PYG{n+na}{parseFloat}\PYG{o}{(}\PYG{n}{precio}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{precioTotal}\PYG{o}{+}\PYG{o}{=}\PYG{n}{f}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
        \PYG{k}{return} \PYG{n}{precioTotal}\PYG{o}{;}
\PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del método sumarAtributosPrecio}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema6:id7}
Contar cuantos productos financieros tienen algo que ver con el país ``Islandia''

Se deben tener presentes varias cosas:
\begin{itemize}
\item {} 
Si no se tiene claro lo que nos piden, preguntar.

\item {} 
En cualquier caso, si se tiene DTD, hay una buena pista.
\begin{itemize}
\item {} 
Aparece un elemento llamado \sphinxcode{\textless{}pais\_de\_procedencia\textgreater{}}, que puede contener cualquier cosa (incluido Islandia)

\item {} 
La ciudad de procedencia no incluye la capital o ninguna ciudad de dicho país, así que podemos ignorar eso.

\item {} 
También aparece un elemento llamado \sphinxcode{\textless{}pais\_emisor\textgreater{}}, pero tampoco incluye Islandia, en principio también podemos saltarlo.

\end{itemize}

\end{itemize}


\subsubsection{Análisis del problema}
\label{tema6:analisis-del-problema}
Despues de haber examinado la DTD se llega a la conclusión de que el único elemento que puede transportar alguna clase de información relacionada con ``Islandia'' es el nodo \sphinxcode{país\_de\_procedencia}, que es un elemento hijo del elemento \sphinxcode{bono}.


\subsubsection{Solución}
\label{tema6:solucion}\begin{itemize}
\item {} 
La clase \sphinxcode{Element} tiene un método llamado \sphinxcode{getElementsByTagName} que nos permite recuperar de una sola vez todos los elementos con el nombre \sphinxcode{bono}.

\item {} 
Se debe tener en cuenta que para llegar al elemento que nos interesa podemos seguir usando los métodos \sphinxcode{getFirstChild} o \sphinxcode{getNextSibling} para ir al primer hijo o para ir al siguiente hermano.

\item {} 
El contenido textual de un nodo se puede extraer con \sphinxcode{getTextContent}

\item {} 
Al procesar un contenido textual, podríamos encontrar muchos espacios en blanco, tabuladores u otros elementos que alteren las comparaciones entre cadenas, por lo que deberemos usar métodos como \sphinxcode{trim()} que limpian los espacios en blanco.

\end{itemize}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{k+kt}{int} \PYG{n+nf}{algoQueVerCon}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{,} \PYG{n}{String} \PYG{n}{nombrePais}\PYG{o}{)}\PYG{o}{\PYGZob{}}
        \PYG{k+kt}{int} \PYG{n}{cuantos}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;}
        \PYG{n}{Element} \PYG{n}{elementoRaiz}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{raiz}\PYG{o}{;}
        \PYG{n}{NodeList} \PYG{n}{lista}\PYG{o}{=}\PYG{n}{elementoRaiz}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}bono\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{lista}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{Node} \PYG{n}{nodoBono}\PYG{o}{=}\PYG{n}{lista}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Node} \PYG{n}{primerHijoTexto}\PYG{o}{=}\PYG{n}{nodoBono}\PYG{o}{.}\PYG{n+na}{getFirstChild}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Node} \PYG{n}{segHijoPais}\PYG{o}{=}\PYG{n}{primerHijoTexto}\PYG{o}{.}\PYG{n+na}{getNextSibling}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{String} \PYG{n}{paisExtraido}\PYG{o}{=}\PYG{n}{segHijoPais}\PYG{o}{.}\PYG{n+na}{getTextContent}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{c+c1}{//Limpiamos espacios}
                \PYG{n}{paisExtraido}\PYG{o}{=}\PYG{n}{paisExtraido}\PYG{o}{.}\PYG{n+na}{trim}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Pais extraido:\PYGZdq{}}\PYG{o}{+}\PYG{n}{paisExtraido}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{paisExtraido}\PYG{o}{.}\PYG{n+na}{equals}\PYG{o}{(}\PYG{n}{nombrePais}\PYG{o}{)}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{cuantos}\PYG{o}{+}\PYG{o}{+}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
        \PYG{o}{\PYGZcb{}}
        \PYG{k}{return} \PYG{n}{cuantos}\PYG{o}{;}
\PYG{o}{\PYGZcb{}}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema6:id8}
Se desea crear un método que indique cuantos elementos tienen relación de alguna forma con ``España''.


\subsubsection{Análisis}
\label{tema6:analisis}\begin{itemize}
\item {} 
Se dispone del método anterior \sphinxcode{algoQueVerCon} que nos permite contabilizar cuantos bonos tienen el país ``España''.

\item {} 
Al analizar la DTD, se ha encontrado que la ciudad de procedencia de un elemento \sphinxcode{futuro} puede ser Madrid.

\item {} 
Al analizar la DTD también se ha encontrado que elemento \sphinxcode{pais\_emisor} de un elemento \sphinxcode{letra} puede ser \sphinxcode{espania}

\item {} 
Al analizar las divisas se debe comprobar si el elemento \sphinxcode{ciudad\_procedencia} es el elemento \sphinxcode{madrid}

\end{itemize}


\subsubsection{Diseño}
\label{tema6:diseno}
Crearemos dos métodos extra, uno para calcular la solución para el segundo punto (ver cuantos elementos \sphinxcode{futuro} tienen como \sphinxcode{ciudad\_procedencia} el valor Madrid y otro método para el tercer punto.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{k+kt}{int} \PYG{n+nf}{cuantosFuturosTienenCiudadProcedencia}\PYG{o}{(}
                \PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{,} \PYG{n}{String} \PYG{n}{ciudad}\PYG{o}{)}
\PYG{o}{\PYGZob{}}
        \PYG{k+kt}{int} \PYG{n}{cuantos}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;}
        \PYG{n}{Element} \PYG{n}{nodoRaiz}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{raiz}\PYG{o}{;}
        \PYG{n}{NodeList} \PYG{n}{lista}\PYG{o}{=}\PYG{n}{nodoRaiz}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}futuro\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{lista}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{Element} \PYG{n}{e}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)}\PYG{n}{lista}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{NodeList} \PYG{n}{listaHijos}\PYG{o}{=}\PYG{n}{e}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{c+c1}{//El elemento ciudad procedencia es el quinto hijo}
                \PYG{n}{Node} \PYG{n}{nodoCiudad}\PYG{o}{=}\PYG{n}{listaHijos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{l+m+mi}{5}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{NodeList} \PYG{n}{hijosCiudad}\PYG{o}{=}\PYG{n}{nodoCiudad}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Node} \PYG{n}{nodoElemCiudad}\PYG{o}{=}\PYG{n}{hijosCiudad}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{l+m+mi}{1}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{String} \PYG{n}{nombreCiudad}\PYG{o}{=}\PYG{n}{nodoElemCiudad}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{nombreCiudad}\PYG{o}{.}\PYG{n+na}{equals}\PYG{o}{(}\PYG{n}{ciudad}\PYG{o}{)}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{cuantos}\PYG{o}{+}\PYG{o}{+}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if}
        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del for}
        \PYG{k}{return} \PYG{n}{cuantos}\PYG{o}{;}
\PYG{o}{\PYGZcb{}}
\end{Verbatim}

Para resolver el último punto nos bastaría un método como este:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{k+kt}{int} \PYG{n+nf}{letrasConPaisEmisor}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{,} \PYG{n}{String} \PYG{n}{nombrePais}\PYG{o}{)}\PYG{o}{\PYGZob{}}
        \PYG{k+kt}{int} \PYG{n}{cuantos}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;}
        \PYG{n}{Element} \PYG{n}{eRaiz}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{raiz}\PYG{o}{;}
        \PYG{n}{NodeList} \PYG{n}{listaLetras}\PYG{o}{=}\PYG{n}{eRaiz}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}letra\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{listaLetras}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}\PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{Node} \PYG{n}{nodo}\PYG{o}{=}\PYG{n}{listaLetras}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Element} \PYG{n}{eNodo}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{nodo}\PYG{o}{;} \PYG{c+c1}{//Devuelve elemento letra}
                \PYG{n}{NodeList} \PYG{n}{hijosLetra}\PYG{o}{=}\PYG{n}{eNodo}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Node} \PYG{n}{nodoPaisEmisor}\PYG{o}{=}\PYG{n}{hijosLetra}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{l+m+mi}{3}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{NodeList} \PYG{n}{hijosPais}\PYG{o}{=}\PYG{n}{nodoPaisEmisor}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Node} \PYG{n}{nodoPais}\PYG{o}{=}\PYG{n}{hijosPais}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{l+m+mi}{1}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{String} \PYG{n}{nombreNodoPais}\PYG{o}{=}\PYG{n}{nodoPais}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{nombreNodoPais}\PYG{o}{.}\PYG{n+na}{equals}\PYG{o}{(}\PYG{n}{nombrePais}\PYG{o}{)}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{cuantos}\PYG{o}{+}\PYG{o}{+}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del for}
        \PYG{k}{return} \PYG{n}{cuantos}\PYG{o}{;}
\PYG{o}{\PYGZcb{}}
\end{Verbatim}

Ahora el método que resuelve este ejercicio es tan simple como esto:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{k+kt}{int} \PYG{n+nf}{algoQueVerConEspania}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}
        \PYG{k+kt}{int} \PYG{n}{cuantasLetras}\PYG{o}{=}\PYG{k}{this}\PYG{o}{.}\PYG{n+na}{letrasConPaisEmisor}\PYG{o}{(}\PYG{n}{raiz}\PYG{o}{,} \PYG{l+s}{\PYGZdq{}espania\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
        \PYG{k+kt}{int} \PYG{n}{cuantosFuturos}\PYG{o}{=}\PYG{k}{this}\PYG{o}{.}\PYG{n+na}{cuantosFuturosTienenCiudadProcedencia}\PYG{o}{(}\PYG{n}{raiz}\PYG{o}{,}
                        \PYG{l+s}{\PYGZdq{}madrid\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
        \PYG{k+kt}{int} \PYG{n}{cuantosBonos}\PYG{o}{=}\PYG{k}{this}\PYG{o}{.}\PYG{n+na}{algoQueVerCon}\PYG{o}{(}\PYG{n}{raiz}\PYG{o}{,} \PYG{l+s}{\PYGZdq{}España\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{return} \PYG{n}{cuantasLetras}\PYG{o}{+}\PYG{n}{cuantosFuturos}\PYG{o}{+}\PYG{n}{cuantosBonos}\PYG{o}{;}
\PYG{o}{\PYGZcb{}}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema6:id9}
Crear un programa que indique el país de procedencia de todos aquellos bonos en los que el precio deseado tenga un valor comprendido entre el precio mínimo y el máximo.

Una posible solución sería esta:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{imprimirBonos}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}

        \PYG{n}{Element} \PYG{n}{eRaiz}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{raiz}\PYG{o}{;}
        \PYG{n}{NodeList} \PYG{n}{listaBonos}\PYG{o}{=}\PYG{n}{eRaiz}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}bono\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{listaBonos}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{Node} \PYG{n}{bono}\PYG{o}{=}\PYG{n}{listaBonos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Element} \PYG{n}{eBono}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{bono}\PYG{o}{;}
                \PYG{c+c1}{// Element eBono=(Element) listaBonos.item(i);}
                \PYG{n}{NodeList} \PYG{n}{listaParaValorDeseado}\PYG{o}{=}
                                \PYG{n}{eBono}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}valor\PYGZus{}deseado\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{NodeList} \PYG{n}{listaParaValorMinimo}\PYG{o}{=}
                                \PYG{n}{eBono}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}valor\PYGZus{}minimo\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{NodeList} \PYG{n}{listaParaValorMaximo}\PYG{o}{=}
                                \PYG{n}{eBono}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}valor\PYGZus{}maximo\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Node} \PYG{n}{nodoValorDeseado}\PYG{o}{=}\PYG{n}{listaParaValorDeseado}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{l+m+mi}{0}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Node} \PYG{n}{nodoValorMinimo}\PYG{o}{=}\PYG{n}{listaParaValorMinimo}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{l+m+mi}{0}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Node} \PYG{n}{nodoValorMaximo}\PYG{o}{=}\PYG{n}{listaParaValorMaximo}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{l+m+mi}{0}\PYG{o}{)}\PYG{o}{;}

                \PYG{n}{Element} \PYG{n}{eValorDeseado}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{nodoValorDeseado}\PYG{o}{;}
                \PYG{n}{Element} \PYG{n}{eValorMinimo}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{nodoValorMinimo}\PYG{o}{;}
                \PYG{n}{Element} \PYG{n}{eValorMaximo}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{nodoValorMaximo}\PYG{o}{;}

                \PYG{n}{String} \PYG{n}{cadValorDeseado}\PYG{o}{=}\PYG{n}{eValorDeseado}\PYG{o}{.}\PYG{n+na}{getTextContent}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{String} \PYG{n}{cadValorMinimo}\PYG{o}{=}\PYG{n}{eValorMinimo}\PYG{o}{.}\PYG{n+na}{getTextContent}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{String} \PYG{n}{cadValorMaximo}\PYG{o}{=}\PYG{n}{eValorMaximo}\PYG{o}{.}\PYG{n+na}{getTextContent}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}

                \PYG{k+kt}{int} \PYG{n}{valorDeseado}\PYG{o}{=}\PYG{n}{Integer}\PYG{o}{.}\PYG{n+na}{parseInt}\PYG{o}{(}\PYG{n}{cadValorDeseado}\PYG{o}{)}\PYG{o}{;}
                \PYG{k+kt}{int} \PYG{n}{valorMinimo}\PYG{o}{=}\PYG{n}{Integer}\PYG{o}{.}\PYG{n+na}{parseInt}\PYG{o}{(}\PYG{n}{cadValorMinimo}\PYG{o}{)}\PYG{o}{;}
                \PYG{k+kt}{int} \PYG{n}{valorMaximo}\PYG{o}{=}\PYG{n}{Integer}\PYG{o}{.}\PYG{n+na}{parseInt}\PYG{o}{(}\PYG{n}{cadValorMaximo}\PYG{o}{)}\PYG{o}{;}

                \PYG{k}{if} \PYG{o}{(}\PYG{o}{(}\PYG{n}{valorDeseado}\PYG{o}{\PYGZgt{}}\PYG{n}{valorMinimo}\PYG{o}{)} \PYG{o}{\PYGZam{}}\PYG{o}{\PYGZam{}}
                        \PYG{o}{(}\PYG{n}{valorDeseado}\PYG{o}{\PYGZlt{}}\PYG{n}{valorMaximo}\PYG{o}{)} \PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Encontrado un bono!\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
                \PYG{c+c1}{//Element eValorDeseado=(Element)}
                \PYG{c+c1}{//              listaParaValorDeseado.item(0);}

        \PYG{o}{\PYGZcb{}}

\PYG{o}{\PYGZcb{}}
\end{Verbatim}

Una solución mejor sería esta:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{k+kt}{int} \PYG{n+nf}{extraerHijoNumero} \PYG{o}{(}\PYG{n}{Element} \PYG{n}{padre}\PYG{o}{,}
                \PYG{n}{String} \PYG{n}{nombreHijo}\PYG{o}{)}\PYG{o}{\PYGZob{}}
        \PYG{k+kt}{int} \PYG{n}{valor}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;}
        \PYG{c+c1}{//Esta lista tiene solo un elemento}
        \PYG{n}{NodeList} \PYG{n}{listaHijos}\PYG{o}{=}
                        \PYG{n}{padre}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}\PYG{n}{nombreHijo}\PYG{o}{)}\PYG{o}{;}
        \PYG{n}{Element} \PYG{n}{hijoNumerico}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{listaHijos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{l+m+mi}{0}\PYG{o}{)}\PYG{o}{;}
        \PYG{n}{String} \PYG{n}{contenidoTextual}\PYG{o}{=}\PYG{n}{hijoNumerico}\PYG{o}{.}\PYG{n+na}{getTextContent}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{n}{valor}\PYG{o}{=}\PYG{n}{Integer}\PYG{o}{.}\PYG{n+na}{parseInt}\PYG{o}{(}\PYG{n}{contenidoTextual}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{return} \PYG{n}{valor}\PYG{o}{;}
\PYG{o}{\PYGZcb{}}
\PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{imprimirBonos}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}

        \PYG{n}{Element} \PYG{n}{eRaiz}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{raiz}\PYG{o}{;}
        \PYG{n}{NodeList} \PYG{n}{listaBonos}\PYG{o}{=}\PYG{n}{eRaiz}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}bono\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{listaBonos}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{Node} \PYG{n}{bono}\PYG{o}{=}\PYG{n}{listaBonos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Element} \PYG{n}{eBono}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{listaBonos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}

                \PYG{k+kt}{int} \PYG{n}{valorDeseado}\PYG{o}{=}\PYG{k}{this}\PYG{o}{.}\PYG{n+na}{extraerHijoNumero}\PYG{o}{(}
                                \PYG{n}{eBono}\PYG{o}{,} \PYG{l+s}{\PYGZdq{}valor\PYGZus{}deseado\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{k+kt}{int} \PYG{n}{valorMinimo}\PYG{o}{=}\PYG{k}{this}\PYG{o}{.}\PYG{n+na}{extraerHijoNumero}\PYG{o}{(}
                                \PYG{n}{eBono}\PYG{o}{,} \PYG{l+s}{\PYGZdq{}valor\PYGZus{}minimo\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{k+kt}{int} \PYG{n}{valorMaximo}\PYG{o}{=}\PYG{k}{this}\PYG{o}{.}\PYG{n+na}{extraerHijoNumero}\PYG{o}{(}
                                \PYG{n}{eBono}\PYG{o}{,} \PYG{l+s}{\PYGZdq{}valor\PYGZus{}maximo\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}

                \PYG{k}{if} \PYG{o}{(}\PYG{o}{(}\PYG{n}{valorDeseado}\PYG{o}{\PYGZgt{}}\PYG{n}{valorMinimo}\PYG{o}{)} \PYG{o}{\PYGZam{}}\PYG{o}{\PYGZam{}}
                        \PYG{o}{(}\PYG{n}{valorDeseado}\PYG{o}{\PYGZlt{}}\PYG{n}{valorMaximo}\PYG{o}{)} \PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Encontrado un bono!\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
                \PYG{c+c1}{//Element eValorDeseado=(Element)}
                \PYG{c+c1}{//              listaParaValorDeseado.item(0);}

        \PYG{o}{\PYGZcb{}}

\PYG{o}{\PYGZcb{}}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema6:id10}
Imprimir, los productos financieros con la misma ciudad de procedencia.


\subsubsection{Análisis}
\label{tema6:id11}
En general, todos los problemas donde nos piden algo como \emph{comprobar todos los elementos que tengan las mismas características} implican hacer una comprobación de \emph{todos con todos}.


\subsubsection{Diseño}
\label{tema6:id12}
Todos los elementos tienen un elemento \sphinxcode{ciudad\_de\_procedencia}, por lo cual, probablemente sea útil crear algún pequeño método de utilidad que dado un elemento nos devuelva un string con la ciudad de procedencia.

Por otro lado, comparar \emph{todos con todos} suele implicar un doble bucle, donde el primer irá extrayendo elementos y el otro irá extrayendo todos los demás.


\subsubsection{Implementación}
\label{tema6:implementacion}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{n}{String} \PYG{n+nf}{getCiudadProcedencia}\PYG{o}{(}\PYG{n}{Element} \PYG{n}{e}\PYG{o}{)}\PYG{o}{\PYGZob{}}
        \PYG{n}{NodeList} \PYG{n}{listaHijos}\PYG{o}{=}
                        \PYG{n}{e}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}ciudad\PYGZus{}procedencia\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
        \PYG{n}{Element} \PYG{n}{eCiudad}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{listaHijos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{l+m+mi}{0}\PYG{o}{)}\PYG{o}{;}
        \PYG{n}{NodeList} \PYG{n}{listaHijosCiudad}\PYG{o}{=}\PYG{n}{eCiudad}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{n}{Element} \PYG{n}{eCiudadConcreto}\PYG{o}{=}
                        \PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{listaHijosCiudad}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{l+m+mi}{1}\PYG{o}{)}\PYG{o}{;}
        \PYG{n}{String} \PYG{n}{nombre}\PYG{o}{=}\PYG{n}{eCiudadConcreto}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{return} \PYG{n}{nombre}\PYG{o}{;}
\PYG{o}{\PYGZcb{}}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{imprimirMismaCiudad}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}
        \PYG{n}{NodeList} \PYG{n}{hijos}\PYG{o}{=}\PYG{n}{raiz}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{hijos}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{Node} \PYG{n}{hijo}\PYG{o}{=}\PYG{n}{hijos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{hijo}\PYG{o}{.}\PYG{n+na}{getNodeType}\PYG{o}{(}\PYG{o}{)}\PYG{o}{!}\PYG{o}{=}\PYG{n}{Node}\PYG{o}{.}\PYG{n+na}{ELEMENT\PYGZus{}NODE}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{k}{continue}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
                \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{j}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{j}\PYG{o}{\PYGZlt{}}\PYG{n}{hijos}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{j}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{Node} \PYG{n}{otroHijo}\PYG{o}{=}\PYG{n}{hijos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{j}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{otroHijo}\PYG{o}{.}\PYG{n+na}{getNodeType}\PYG{o}{(}\PYG{o}{)}\PYG{o}{!}\PYG{o}{=}\PYG{n}{Node}\PYG{o}{.}\PYG{n+na}{ELEMENT\PYGZus{}NODE}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{k}{continue}\PYG{o}{;}
                        \PYG{o}{\PYGZcb{}}
                        \PYG{n}{String} \PYG{n}{ciudadHijo}\PYG{o}{=}
                                        \PYG{k}{this}\PYG{o}{.}\PYG{n+na}{getCiudadProcedencia}\PYG{o}{(}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)}\PYG{n}{hijo}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{String} \PYG{n}{ciudadOtro}\PYG{o}{=}
                                        \PYG{k}{this}\PYG{o}{.}\PYG{n+na}{getCiudadProcedencia}\PYG{o}{(}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)}\PYG{n}{otroHijo}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{ciudadHijo}\PYG{o}{.}\PYG{n+na}{equals}\PYG{o}{(}\PYG{n}{ciudadOtro}\PYG{o}{)}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}
                                                \PYG{l+s}{\PYGZdq{}Encontré dos elementos con la ciudad \PYGZdq{}}\PYG{o}{+}\PYG{n}{ciudadHijo}\PYG{o}{)}\PYG{o}{;}

                        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if ciudadHijo}
                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del for interno}
        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del for externo}
\PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del método}

\PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{imprimirMismaCiudad}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}
        \PYG{n}{NodeList} \PYG{n}{hijos}\PYG{o}{=}\PYG{n}{raiz}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{hijos}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{Node} \PYG{n}{hijo}\PYG{o}{=}\PYG{n}{hijos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{hijo}\PYG{o}{.}\PYG{n+na}{getNodeType}\PYG{o}{(}\PYG{o}{)}\PYG{o}{!}\PYG{o}{=}\PYG{n}{Node}\PYG{o}{.}\PYG{n+na}{ELEMENT\PYGZus{}NODE}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{k}{continue}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
                \PYG{n}{String} \PYG{n}{ciudadHijo}\PYG{o}{=}
                                \PYG{k}{this}\PYG{o}{.}\PYG{n+na}{getCiudadProcedencia}\PYG{o}{(}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)}\PYG{n}{hijo}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{j}\PYG{o}{=}\PYG{n}{i}\PYG{o}{+}\PYG{l+m+mi}{1}\PYG{o}{;} \PYG{n}{j}\PYG{o}{\PYGZlt{}}\PYG{n}{hijos}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{j}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{Node} \PYG{n}{otroHijo}\PYG{o}{=}\PYG{n}{hijos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{j}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{otroHijo}\PYG{o}{.}\PYG{n+na}{getNodeType}\PYG{o}{(}\PYG{o}{)}\PYG{o}{!}\PYG{o}{=}\PYG{n}{Node}\PYG{o}{.}\PYG{n+na}{ELEMENT\PYGZus{}NODE}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{k}{continue}\PYG{o}{;}
                        \PYG{o}{\PYGZcb{}}

                        \PYG{n}{String} \PYG{n}{ciudadOtro}\PYG{o}{=}
                                        \PYG{k}{this}\PYG{o}{.}\PYG{n+na}{getCiudadProcedencia}\PYG{o}{(}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)}\PYG{n}{otroHijo}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{ciudadHijo}\PYG{o}{.}\PYG{n+na}{equals}\PYG{o}{(}\PYG{n}{ciudadOtro}\PYG{o}{)}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}
                                                \PYG{l+s}{\PYGZdq{}Encontré dos elementos con la ciudad \PYGZdq{}}\PYG{o}{+}\PYG{n}{ciudadHijo}\PYG{o}{)}\PYG{o}{;}

                        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if ciudadHijo}
                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del for interno}
        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del for externo}
\PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del método}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema6:id13}
Contar cuantos productos que no sean estables tienen como ciudad de procedencia Tokio. Si hay más de 2, devolver los precios en un vector y si no devolver un vector vacío.


\subsubsection{Análisis}
\label{tema6:id14}
El atributo \sphinxcode{estable}, solo lo tienen los productos \sphinxcode{bono}. Ese atributo es optativo, puede que esté o puede que no. Si existe, debemos comprobar si tiene un ``no''.

Por otro lado, no sabemos a priori si habrá más de 2 o no.
\begin{itemize}
\item {} 
Podríamos hacer la cuenta, y si da más de 2 repetir operaciones y meter los bonos correctos en un vector.

\item {} 
Podríamos ir haciendo las operaciones y a la vez las inserciones en un vector y ahorrarnos operaciones.

\end{itemize}

Optaremos por la segunda.


\subsubsection{Diseño}
\label{tema6:id15}\begin{itemize}
\item {} 
Aprovecharemos los métodos que nos permiten extraer el elemento raíz de un fichero.

\item {} 
Necesitaremos crear vectores que tengan un cierto tamaño. Crearemos vectores muy grandes y los dejaremos con la inicialización que hace Java por defecto llenándolo con valores \sphinxcode{null}.

\item {} 
Podemos aprovechar métodos ofrecidos por Java como \sphinxcode{getElementsByTagName}.

\item {} 
Después recorreremos los elementos, comprobaremos si sus atributos cumplen las condiciones y si las cumplen almacenaremos en el vector a devolver la ciudad de ese bono.

\item {} 
Nuestro método devolverá siempre algo como String{[}{]}, ese vector puede que vaya lleno o no.

\end{itemize}


\subsubsection{Solución 1}
\label{tema6:solucion-1}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{k+kd}{class} \PYG{n+nc}{ProcesadorXML} \PYG{o}{\PYGZob{}}
        \PYG{k+kd}{public} \PYG{n}{Element} \PYG{n+nf}{getRaiz}\PYG{o}{(}\PYG{n}{String} \PYG{n}{nombreFichero}\PYG{o}{)}
                        \PYG{k+kd}{throws} \PYG{n}{ParserConfigurationException}\PYG{o}{,} \PYG{n}{SAXException}\PYG{o}{,} \PYG{n}{IOException}\PYG{o}{\PYGZob{}}
                \PYG{n}{DocumentBuilderFactory}
                        \PYG{n}{fabrica} \PYG{o}{=} \PYG{n}{DocumentBuilderFactory}\PYG{o}{.}\PYG{n+na}{newInstance}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{DocumentBuilder} \PYG{n}{constructor}\PYG{o}{=}
                                \PYG{n}{fabrica}\PYG{o}{.}\PYG{n+na}{newDocumentBuilder}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{FileInputStream} \PYG{n}{fichero}\PYG{o}{=}
                                \PYG{k}{new} \PYG{n}{FileInputStream}\PYG{o}{(}\PYG{n}{nombreFichero}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Document} \PYG{n}{documento}\PYG{o}{=}
                                \PYG{n}{constructor}\PYG{o}{.}\PYG{n+na}{parse}\PYG{o}{(}\PYG{n}{fichero}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Element} \PYG{n}{raiz}\PYG{o}{=}\PYG{n}{documento}\PYG{o}{.}\PYG{n+na}{getDocumentElement}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{return} \PYG{n}{raiz}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
        \PYG{k+kd}{public} \PYG{k+kt}{int}\PYG{o}{[}\PYG{o}{]} \PYG{n+nf}{getPreciosInestables}\PYG{o}{(}\PYG{o}{)}
                        \PYG{k+kd}{throws} \PYG{n}{ParserConfigurationException}\PYG{o}{,} \PYG{n}{SAXException}\PYG{o}{,} \PYG{n}{IOException}\PYG{o}{\PYGZob{}}
                \PYG{k+kt}{int}\PYG{o}{[}\PYG{o}{]} \PYG{n}{vPrecios}\PYG{o}{=}\PYG{k+kc}{null}\PYG{o}{;}
                \PYG{k+kt}{int} \PYG{n}{contador}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;}
                \PYG{n}{Element} \PYG{n}{raiz}\PYG{o}{=}
                                \PYG{n}{getRaiz}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}d:/oscar/productos.xml\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Element} \PYG{n}{hijo}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)}
                                \PYG{n}{raiz}\PYG{o}{.}\PYG{n+na}{getFirstChild}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{c+cm}{/* Mientras le queden hijos a la raíz...*/}
                \PYG{k}{while} \PYG{o}{(}\PYG{n}{hijo}\PYG{o}{!}\PYG{o}{=}\PYG{k+kc}{null}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{String} \PYG{n}{atrEstable}\PYG{o}{=}
                                        \PYG{n}{hijo}\PYG{o}{.}\PYG{n+na}{getAttribute}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}estable\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{atrEstable}\PYG{o}{.}\PYG{n+na}{equals}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}no\PYGZdq{}}\PYG{o}{)}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{n}{NodeList} \PYG{n}{vector}\PYG{o}{=}
                                                \PYG{n}{hijo}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}
                                                        \PYG{l+s}{\PYGZdq{}tokio\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                                \PYG{k}{if} \PYG{o}{(}\PYG{n}{vector}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{\PYGZgt{}}\PYG{l+m+mi}{0}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                        \PYG{c+c1}{//El producto sí es de Tokio}
                                        \PYG{n}{String} \PYG{n}{precio}\PYG{o}{=}
                                                        \PYG{n}{hijo}\PYG{o}{.}\PYG{n+na}{getAttribute}\PYG{o}{(}
                                                                        \PYG{l+s}{\PYGZdq{}precio\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                                        \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Precio:\PYGZdq{}}\PYG{o}{+}\PYG{n}{precio}\PYG{o}{)}\PYG{o}{;}
                                \PYG{o}{\PYGZcb{}}
                        \PYG{o}{\PYGZcb{}}
                        \PYG{n}{Node} \PYG{n}{finLinea}\PYG{o}{=}\PYG{n}{hijo}\PYG{o}{.}\PYG{n+na}{getNextSibling}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{hijo}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)}
                                        \PYG{n}{finLinea}\PYG{o}{.}\PYG{n+na}{getNextSibling}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
                \PYG{k}{return} \PYG{n}{vPrecios}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}

        \PYG{k+kd}{public} \PYG{k+kd}{static} \PYG{k+kt}{void} \PYG{n+nf}{main}\PYG{o}{(}\PYG{n}{String}\PYG{o}{[}\PYG{o}{]} \PYG{n}{args}\PYG{o}{)}
                        \PYG{k+kd}{throws} \PYG{n}{ParserConfigurationException}\PYG{o}{,} \PYG{n}{SAXException}\PYG{o}{,} \PYG{n}{IOException} \PYG{o}{\PYGZob{}}
                \PYG{n}{ProcesadorXML} \PYG{n}{procesador}\PYG{o}{=}
                                \PYG{k}{new} \PYG{n}{ProcesadorXML}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k+kt}{int}\PYG{o}{[}\PYG{o}{]} \PYG{n}{precios}\PYG{o}{=}
                                \PYG{n}{procesador}\PYG{o}{.}\PYG{n+na}{getPreciosInestables}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
\PYG{o}{\PYGZcb{}}
\end{Verbatim}


\subsubsection{Solución 2}
\label{tema6:solucion-2}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{n}{String}\PYG{o}{[}\PYG{o}{]} \PYG{n+nf}{obtenerListaBonos}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}
        \PYG{k+kt}{int} \PYG{n}{tamanioMaximo}\PYG{o}{=}\PYG{l+m+mi}{1000}\PYG{o}{;}
        \PYG{n}{String}\PYG{o}{[}\PYG{o}{]} \PYG{n}{ciudades}\PYG{o}{=}\PYG{k}{new} \PYG{n}{String}\PYG{o}{[}\PYG{n}{tamanioMaximo}\PYG{o}{]}\PYG{o}{;}
        \PYG{n}{String}\PYG{o}{[}\PYG{o}{]} \PYG{n}{aux}\PYG{o}{=}\PYG{k}{new} \PYG{n}{String}\PYG{o}{[}\PYG{n}{tamanioMaximo}\PYG{o}{]}\PYG{o}{;}
        \PYG{k+kt}{int} \PYG{n}{posPrecio}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;}
        \PYG{n}{Element} \PYG{n}{eRaiz}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{raiz}\PYG{o}{;}
        \PYG{n}{NodeList} \PYG{n}{listaBonos}\PYG{o}{=}\PYG{n}{eRaiz}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}bono\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
        \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{listaBonos}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{Element} \PYG{n}{bono}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{listaBonos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{String} \PYG{n}{atEstable}\PYG{o}{=}\PYG{n}{bono}\PYG{o}{.}\PYG{n+na}{getAttribute}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}estable\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{atEstable}\PYG{o}{!}\PYG{o}{=}\PYG{k+kc}{null}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{atEstable}\PYG{o}{.}\PYG{n+na}{equals}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}no\PYGZdq{}}\PYG{o}{)}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{c+c1}{//Examinamos la ciudad aprovechando}
                                \PYG{c+c1}{//un método ya construido.}
                                \PYG{n}{String} \PYG{n}{ciudad}\PYG{o}{=}\PYG{k}{this}\PYG{o}{.}\PYG{n+na}{getCiudadProcedencia}\PYG{o}{(}\PYG{n}{bono}\PYG{o}{)}\PYG{o}{;}
                                \PYG{k}{if} \PYG{o}{(}\PYG{n}{ciudad}\PYG{o}{.}\PYG{n+na}{equals}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}tokio\PYGZdq{}}\PYG{o}{)}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                        \PYG{c+c1}{//Si es de tokio, copiamos el precio}
                                        \PYG{n}{String} \PYG{n}{precio}\PYG{o}{=}\PYG{n}{bono}\PYG{o}{.}\PYG{n+na}{getAttribute}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}precio\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                                        \PYG{n}{aux}\PYG{o}{[}\PYG{n}{posPrecio}\PYG{o}{]}\PYG{o}{=}\PYG{n}{precio}\PYG{o}{;}
                                        \PYG{n}{posPrecio}\PYG{o}{+}\PYG{o}{+}\PYG{o}{;}
                                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if para tokio}
                        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if para el \PYGZdq{}no\PYGZdq{}}
                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if para atEstable}
        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del for que recorre los bonos}
        \PYG{k}{if} \PYG{o}{(}\PYG{n}{posPrecio}\PYG{o}{\PYGZgt{}}\PYG{l+m+mi}{2}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{k}{return} \PYG{n}{aux}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
        \PYG{k}{return} \PYG{n}{ciudades}\PYG{o}{;}
\PYG{o}{\PYGZcb{}}
\end{Verbatim}


\section{Anexo}
\label{tema6:anexo}

\subsection{Código Java}
\label{tema6:codigo-java}
A continuación se muestra el código Java completo:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kn}{package} \PYG{n+nn}{com.ies}\PYG{o}{;}
\PYG{k+kn}{import} \PYG{n+nn}{javax.xml.parsers.*}\PYG{o}{;}
\PYG{k+kn}{import} \PYG{n+nn}{javax.xml.transform.Transformer}\PYG{o}{;}
\PYG{k+kn}{import} \PYG{n+nn}{javax.xml.transform.TransformerFactory}\PYG{o}{;}
\PYG{k+kn}{import} \PYG{n+nn}{javax.xml.transform.dom.DOMSource}\PYG{o}{;}
\PYG{k+kn}{import} \PYG{n+nn}{javax.xml.transform.stream.StreamResult}\PYG{o}{;}

\PYG{k+kn}{import} \PYG{n+nn}{java.io.File}\PYG{o}{;}

\PYG{k+kn}{import} \PYG{n+nn}{org.w3c.dom.*}\PYG{o}{;}



\PYG{k+kd}{public} \PYG{k+kd}{class} \PYG{n+nc}{ProcesadorXML} \PYG{o}{\PYGZob{}}
        \PYG{k+kd}{public} \PYG{n}{Node} \PYG{n+nf}{extraerRaiz}\PYG{o}{(}\PYG{n}{String} \PYG{n}{nombreArchivo}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{DocumentBuilderFactory} \PYG{n}{fabrica}\PYG{o}{;}
                \PYG{n}{DocumentBuilder} \PYG{n}{constructor}\PYG{o}{;}
                \PYG{n}{Document} \PYG{n}{documentoXML}\PYG{o}{=}\PYG{k+kc}{null}\PYG{o}{;}
                \PYG{n}{File} \PYG{n}{fichero}\PYG{o}{=}\PYG{k}{new} \PYG{n}{File}\PYG{o}{(}\PYG{n}{nombreArchivo}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{fabrica}\PYG{o}{=}
                        \PYG{n}{DocumentBuilderFactory}\PYG{o}{.}\PYG{n+na}{newInstance}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Procesando \PYGZdq{}}\PYG{o}{+}\PYG{n}{nombreArchivo}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{try} \PYG{o}{\PYGZob{}}
                        \PYG{n}{constructor}\PYG{o}{=}
                          \PYG{n}{fabrica}\PYG{o}{.}\PYG{n+na}{newDocumentBuilder}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{documentoXML}\PYG{o}{=}\PYG{n}{constructor}\PYG{o}{.}\PYG{n+na}{parse}\PYG{o}{(}\PYG{n}{fichero}\PYG{o}{)}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}} \PYG{k}{catch} \PYG{o}{(}\PYG{n}{Exception} \PYG{n}{e}\PYG{o}{)} \PYG{o}{\PYGZob{}}
                        \PYG{c+c1}{// TODO Auto\PYGZhy{}generated catch block}
                        \PYG{n}{e}\PYG{o}{.}\PYG{n+na}{printStackTrace}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
                \PYG{k}{return} \PYG{n}{documentoXML}\PYG{o}{.}\PYG{n+na}{getDocumentElement}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}

        \PYG{o}{\PYGZcb{}}
        \PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{imprimirNombreDeLaRaiz}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{nodo}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{nodo}\PYG{o}{!}\PYG{o}{=}\PYG{k+kc}{null}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{String} \PYG{n}{nombre}\PYG{o}{=}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}La raíz se llama:\PYGZdq{}}\PYG{o}{+}\PYG{n}{nombre}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{Node} \PYG{n}{primerHijo}\PYG{o}{=}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{getFirstChild}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{String} \PYG{n}{nombreHijo}\PYG{o}{=}\PYG{n}{primerHijo}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}El primer hijo se llama \PYGZlt{}\PYGZdq{}}\PYG{o}{+}\PYG{n}{nombreHijo}\PYG{o}{+}\PYG{l+s}{\PYGZdq{}\PYGZgt{}\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}} \PYG{k}{else} \PYG{o}{\PYGZob{}}
                        \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}No se pudo leer la raíz por ser nula\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
        \PYG{o}{\PYGZcb{}}
        \PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{imprimirHijos}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{nodoRaiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{nodoRaiz}\PYG{o}{=}\PYG{o}{=}\PYG{k+kc}{null}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Imposible procesar raiz null\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{return} \PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
                \PYG{n}{Node} \PYG{n}{nodo}\PYG{o}{=}\PYG{n}{nodoRaiz}\PYG{o}{.}\PYG{n+na}{getFirstChild}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{while} \PYG{o}{(}\PYG{n}{nodo}\PYG{o}{!}\PYG{o}{=}\PYG{k+kc}{null}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{k+kt}{short} \PYG{n}{tipo}\PYG{o}{=}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{getNodeType}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{tipo}\PYG{o}{=}\PYG{o}{=}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{ELEMENT\PYGZus{}NODE}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Nodo hijo:\PYGZdq{}}\PYG{o}{+}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{)}\PYG{o}{;}
                        \PYG{o}{\PYGZcb{}}
                        \PYG{n}{nodo}\PYG{o}{=}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{getNextSibling}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
        \PYG{o}{\PYGZcb{}}

        \PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{imprimirHijos2}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{nodoRaiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{nodoRaiz}\PYG{o}{=}\PYG{o}{=}\PYG{k+kc}{null}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Imposible procesar raíz nula\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{return}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if null}
                \PYG{n}{NodeList} \PYG{n}{lista}\PYG{o}{=}\PYG{n}{nodoRaiz}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{lista}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}\PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{Node} \PYG{n}{nodo}\PYG{o}{=}\PYG{n}{lista}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k+kt}{short} \PYG{n}{tipo}\PYG{o}{=}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{getNodeType}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{tipo}\PYG{o}{=}\PYG{o}{=}\PYG{n}{Node}\PYG{o}{.}\PYG{n+na}{ELEMENT\PYGZus{}NODE}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Hijo:\PYGZdq{}}\PYG{o}{+}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{)}\PYG{o}{;}
                        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if}
                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del for}
        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del método}

        \PYG{k+kd}{public} \PYG{k+kt}{int} \PYG{n+nf}{contadorElementos}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{,}\PYG{n}{String} \PYG{n}{nombreElemento}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{k+kt}{int} \PYG{n}{contador}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;}
                \PYG{n}{NodeList} \PYG{n}{nodosHijo}\PYG{o}{=}\PYG{n}{raiz}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{nodosHijo}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}\PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{Node} \PYG{n}{nodo}\PYG{o}{=}\PYG{n}{nodosHijo}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k+kt}{short} \PYG{n}{tipo}\PYG{o}{=}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{getNodeType}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{tipo}\PYG{o}{=}\PYG{o}{=}\PYG{n}{Node}\PYG{o}{.}\PYG{n+na}{ELEMENT\PYGZus{}NODE}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{n}{String} \PYG{n}{nombre}\PYG{o}{=}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                                \PYG{k}{if} \PYG{o}{(}\PYG{n}{nombre}\PYG{o}{=}\PYG{o}{=}\PYG{n}{nombreElemento}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                        \PYG{n}{contador}\PYG{o}{+}\PYG{o}{+}\PYG{o}{;}
                                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if interno}
                        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if externo}
                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del for}
                \PYG{k}{return} \PYG{n}{contador}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del método}
        \PYG{k+kd}{private} \PYG{k+kt}{void} \PYG{n+nf}{comprobarSiEsBono}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{n}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{String} \PYG{n}{nombre}\PYG{o}{=}\PYG{n}{n}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{nombre}\PYG{o}{=}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}bono\PYGZdq{}}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{Element} \PYG{n}{e}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{n}\PYG{o}{;}
                        \PYG{n}{String} \PYG{n}{precio}\PYG{o}{=}\PYG{n}{e}\PYG{o}{.}\PYG{n+na}{getAttribute}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}precio\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Precio:\PYGZdq{}}\PYG{o}{+}\PYG{n}{precio}\PYG{o}{)}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
        \PYG{o}{\PYGZcb{}}

        \PYG{k+kd}{public} \PYG{k+kt}{int} \PYG{n+nf}{cuantosInestables} \PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{k+kt}{int} \PYG{n}{cuantos}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;}
                \PYG{n}{NodeList} \PYG{n}{lista}\PYG{o}{=}\PYG{n}{raiz}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{lista}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{Node} \PYG{n}{n}\PYG{o}{=}\PYG{n}{lista}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{n}\PYG{o}{.}\PYG{n+na}{getNodeType}\PYG{o}{(}\PYG{o}{)}\PYG{o}{!}\PYG{o}{=}\PYG{n}{Node}\PYG{o}{.}\PYG{n+na}{ELEMENT\PYGZus{}NODE}\PYG{o}{)} \PYG{k}{continue}\PYG{o}{;}
                        \PYG{n}{Element} \PYG{n}{e}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{lista}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{e}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{=}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}divisa\PYGZdq{}} \PYG{o}{\textbar{}}\PYG{o}{\textbar{}}
                                        \PYG{n}{e}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{=}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}bono\PYGZdq{}}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{n}{String} \PYG{n}{atEstable}\PYG{o}{=}\PYG{n}{e}\PYG{o}{.}\PYG{n+na}{getAttribute}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}estable\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                                \PYG{k}{if} \PYG{o}{(}\PYG{n}{atEstable}\PYG{o}{!}\PYG{o}{=}\PYG{k+kc}{null}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                        \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Atributo:\PYGZdq{}}\PYG{o}{+}\PYG{n}{atEstable}\PYG{o}{)}\PYG{o}{;}
                                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{atEstable}\PYG{o}{.}\PYG{n+na}{equals}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}no\PYGZdq{}}\PYG{o}{)}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                                \PYG{n}{cuantos}\PYG{o}{+}\PYG{o}{=}\PYG{l+m+mi}{1}\PYG{o}{;}
                                        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if interno}
                                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if atEstable}
                        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin de if nodo es divisa o bono}
                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del for que recorre los nodos}
                \PYG{k}{return} \PYG{n}{cuantos}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del método cuantosInestables}

        \PYG{k+kd}{public} \PYG{k+kt}{float} \PYG{n+nf}{sumarAtributosPrecio}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{k+kt}{float} \PYG{n}{precioTotal}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;}
                \PYG{n}{NodeList} \PYG{n}{hijos}\PYG{o}{=}\PYG{n}{raiz}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{hijos}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{Node} \PYG{n}{hijo}\PYG{o}{=}\PYG{n}{hijos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{hijo}\PYG{o}{.}\PYG{n+na}{getNodeType}\PYG{o}{(}\PYG{o}{)}\PYG{o}{!}\PYG{o}{=}\PYG{n}{Node}\PYG{o}{.}\PYG{n+na}{ELEMENT\PYGZus{}NODE}\PYG{o}{)} \PYG{k}{continue}\PYG{o}{;}
                        \PYG{n}{Element} \PYG{n}{e}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{hijo}\PYG{o}{;}
                        \PYG{n}{String} \PYG{n}{precio}\PYG{o}{=}\PYG{n}{e}\PYG{o}{.}\PYG{n+na}{getAttribute}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}precio\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{Float} \PYG{n}{f}\PYG{o}{=}\PYG{n}{Float}\PYG{o}{.}\PYG{n+na}{parseFloat}\PYG{o}{(}\PYG{n}{precio}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{precioTotal}\PYG{o}{+}\PYG{o}{=}\PYG{n}{f}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
                \PYG{k}{return} \PYG{n}{precioTotal}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del método sumarAtributosPrecio}
        \PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{imprimirPrecioBonos}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{raiz}\PYG{o}{=}\PYG{o}{=}\PYG{k+kc}{null}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Imposible procesar null\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{return}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
                \PYG{n}{NodeList} \PYG{n}{nodos}\PYG{o}{=}\PYG{n}{raiz}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{nodos}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{Node} \PYG{n}{nodo}\PYG{o}{=}\PYG{n}{nodos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k+kt}{short} \PYG{n}{tipo}\PYG{o}{=}\PYG{n}{nodo}\PYG{o}{.}\PYG{n+na}{getNodeType}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{tipo}\PYG{o}{=}\PYG{o}{=}\PYG{n}{Node}\PYG{o}{.}\PYG{n+na}{ELEMENT\PYGZus{}NODE}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{k}{this}\PYG{o}{.}\PYG{n+na}{comprobarSiEsBono}\PYG{o}{(}\PYG{n}{nodo}\PYG{o}{)}\PYG{o}{;}
                        \PYG{o}{\PYGZcb{}}
                \PYG{o}{\PYGZcb{}}
        \PYG{o}{\PYGZcb{}}
        \PYG{c+cm}{/**}
\PYG{c+cm}{         *}
\PYG{c+cm}{         * @param raiz}
\PYG{c+cm}{         * @param nombrePais}
\PYG{c+cm}{         * @return Numero de elementos dentro del nodo en}
\PYG{c+cm}{         * los cuales aparece de alguna forma el país}
\PYG{c+cm}{         */}
        \PYG{k+kd}{public} \PYG{k+kt}{int} \PYG{n+nf}{algoQueVerCon}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{,} \PYG{n}{String} \PYG{n}{nombrePais}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{k+kt}{int} \PYG{n}{cuantos}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;}
                \PYG{n}{Element} \PYG{n}{elementoRaiz}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{raiz}\PYG{o}{;}
                \PYG{n}{NodeList} \PYG{n}{lista}\PYG{o}{=}\PYG{n}{elementoRaiz}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}bono\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{lista}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{Node} \PYG{n}{nodoBono}\PYG{o}{=}\PYG{n}{lista}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{Node} \PYG{n}{primerHijoTexto}\PYG{o}{=}\PYG{n}{nodoBono}\PYG{o}{.}\PYG{n+na}{getFirstChild}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{Node} \PYG{n}{segHijoPais}\PYG{o}{=}\PYG{n}{primerHijoTexto}\PYG{o}{.}\PYG{n+na}{getNextSibling}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{String} \PYG{n}{paisExtraido}\PYG{o}{=}\PYG{n}{segHijoPais}\PYG{o}{.}\PYG{n+na}{getTextContent}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{c+c1}{//Limpiamos espacios}
                        \PYG{n}{paisExtraido}\PYG{o}{=}\PYG{n}{paisExtraido}\PYG{o}{.}\PYG{n+na}{trim}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Pais extraido:\PYGZdq{}}\PYG{o}{+}\PYG{n}{paisExtraido}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{paisExtraido}\PYG{o}{.}\PYG{n+na}{equals}\PYG{o}{(}\PYG{n}{nombrePais}\PYG{o}{)}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{n}{cuantos}\PYG{o}{+}\PYG{o}{+}\PYG{o}{;}
                        \PYG{o}{\PYGZcb{}}
                \PYG{o}{\PYGZcb{}}
                \PYG{k}{return} \PYG{n}{cuantos}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}

        \PYG{c+cm}{/**}
\PYG{c+cm}{         * Este método averigua cuantos elementos futuro}
\PYG{c+cm}{         * tienen una cierta ciudad procedencia}
\PYG{c+cm}{         * @param argumentos}
\PYG{c+cm}{         */}
        \PYG{k+kd}{public} \PYG{k+kt}{int} \PYG{n+nf}{cuantosFuturosTienenCiudadProcedencia}\PYG{o}{(}
                        \PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{,} \PYG{n}{String} \PYG{n}{ciudad}
                        \PYG{o}{)}
        \PYG{o}{\PYGZob{}}
                \PYG{k+kt}{int} \PYG{n}{cuantos}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;}
                \PYG{n}{Element} \PYG{n}{nodoRaiz}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{raiz}\PYG{o}{;}
                \PYG{n}{NodeList} \PYG{n}{lista}\PYG{o}{=}\PYG{n}{nodoRaiz}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}futuro\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{lista}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{Element} \PYG{n}{e}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)}\PYG{n}{lista}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{NodeList} \PYG{n}{listaHijos}\PYG{o}{=}\PYG{n}{e}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{c+c1}{//El elemento ciudad procedencia es el quinto hijo}
                        \PYG{n}{Node} \PYG{n}{nodoCiudad}\PYG{o}{=}\PYG{n}{listaHijos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{l+m+mi}{5}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{NodeList} \PYG{n}{hijosCiudad}\PYG{o}{=}\PYG{n}{nodoCiudad}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{Node} \PYG{n}{nodoElemCiudad}\PYG{o}{=}\PYG{n}{hijosCiudad}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{l+m+mi}{1}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{String} \PYG{n}{nombreCiudad}\PYG{o}{=}\PYG{n}{nodoElemCiudad}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{nombreCiudad}\PYG{o}{.}\PYG{n+na}{equals}\PYG{o}{(}\PYG{n}{ciudad}\PYG{o}{)}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{n}{cuantos}\PYG{o}{+}\PYG{o}{+}\PYG{o}{;}
                        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if}
                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del for}
                \PYG{k}{return} \PYG{n}{cuantos}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
        \PYG{c+cm}{/**}
\PYG{c+cm}{         *}
\PYG{c+cm}{         * @param raiz Raíz del documento}
\PYG{c+cm}{         * @param nombrePais (Debe ser \PYGZdq{}espania\PYGZdq{} para España)}
\PYG{c+cm}{         * @return}
\PYG{c+cm}{         */}
        \PYG{k+kd}{public} \PYG{k+kt}{int} \PYG{n+nf}{letrasConPaisEmisor}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{,} \PYG{n}{String} \PYG{n}{nombrePais}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{k+kt}{int} \PYG{n}{cuantos}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;}
                \PYG{n}{Element} \PYG{n}{eRaiz}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{raiz}\PYG{o}{;}
                \PYG{n}{NodeList} \PYG{n}{listaLetras}\PYG{o}{=}\PYG{n}{eRaiz}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}letra\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{listaLetras}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}\PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{Node} \PYG{n}{nodo}\PYG{o}{=}\PYG{n}{listaLetras}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{Element} \PYG{n}{eNodo}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{nodo}\PYG{o}{;} \PYG{c+c1}{//Devuelve elemento letra}
                        \PYG{n}{NodeList} \PYG{n}{hijosLetra}\PYG{o}{=}\PYG{n}{eNodo}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{Node} \PYG{n}{nodoPaisEmisor}\PYG{o}{=}\PYG{n}{hijosLetra}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{l+m+mi}{3}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{NodeList} \PYG{n}{hijosPais}\PYG{o}{=}\PYG{n}{nodoPaisEmisor}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{Node} \PYG{n}{nodoPais}\PYG{o}{=}\PYG{n}{hijosPais}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{l+m+mi}{1}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{String} \PYG{n}{nombreNodoPais}\PYG{o}{=}\PYG{n}{nodoPais}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{nombreNodoPais}\PYG{o}{.}\PYG{n+na}{equals}\PYG{o}{(}\PYG{n}{nombrePais}\PYG{o}{)}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{n}{cuantos}\PYG{o}{+}\PYG{o}{+}\PYG{o}{;}
                        \PYG{o}{\PYGZcb{}}
                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del for}
                \PYG{k}{return} \PYG{n}{cuantos}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}

        \PYG{k+kd}{public} \PYG{k+kt}{int} \PYG{n+nf}{algoQueVerConEspania}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{k+kt}{int} \PYG{n}{cuantasLetras}\PYG{o}{=}\PYG{k}{this}\PYG{o}{.}\PYG{n+na}{letrasConPaisEmisor}\PYG{o}{(}\PYG{n}{raiz}\PYG{o}{,} \PYG{l+s}{\PYGZdq{}espania\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{k+kt}{int} \PYG{n}{cuantosFuturos}\PYG{o}{=}\PYG{k}{this}\PYG{o}{.}\PYG{n+na}{cuantosFuturosTienenCiudadProcedencia}\PYG{o}{(}\PYG{n}{raiz}\PYG{o}{,}
                                \PYG{l+s}{\PYGZdq{}madrid\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{k+kt}{int} \PYG{n}{cuantosBonos}\PYG{o}{=}\PYG{k}{this}\PYG{o}{.}\PYG{n+na}{algoQueVerCon}\PYG{o}{(}\PYG{n}{raiz}\PYG{o}{,} \PYG{l+s}{\PYGZdq{}España\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{return} \PYG{n}{cuantasLetras}\PYG{o}{+}\PYG{n}{cuantosFuturos}\PYG{o}{+}\PYG{n}{cuantosBonos}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
        \PYG{k+kd}{public} \PYG{k+kt}{int} \PYG{n+nf}{extraerHijoNumero} \PYG{o}{(}\PYG{n}{Element} \PYG{n}{padre}\PYG{o}{,}
                        \PYG{n}{String} \PYG{n}{nombreHijo}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{k+kt}{int} \PYG{n}{valor}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;}
                \PYG{c+c1}{//Esta lista tiene solo un elemento}
                \PYG{n}{NodeList} \PYG{n}{listaHijos}\PYG{o}{=}
                                \PYG{n}{padre}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}\PYG{n}{nombreHijo}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Element} \PYG{n}{hijoNumerico}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{listaHijos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{l+m+mi}{0}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{String} \PYG{n}{contenidoTextual}\PYG{o}{=}\PYG{n}{hijoNumerico}\PYG{o}{.}\PYG{n+na}{getTextContent}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{valor}\PYG{o}{=}\PYG{n}{Integer}\PYG{o}{.}\PYG{n+na}{parseInt}\PYG{o}{(}\PYG{n}{contenidoTextual}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{return} \PYG{n}{valor}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
        \PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{imprimirBonos}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}

                \PYG{n}{Element} \PYG{n}{eRaiz}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{raiz}\PYG{o}{;}
                \PYG{n}{NodeList} \PYG{n}{listaBonos}\PYG{o}{=}\PYG{n}{eRaiz}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}bono\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{listaBonos}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{Node} \PYG{n}{bono}\PYG{o}{=}\PYG{n}{listaBonos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{Element} \PYG{n}{eBono}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{listaBonos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}

                        \PYG{k+kt}{int} \PYG{n}{valorDeseado}\PYG{o}{=}\PYG{k}{this}\PYG{o}{.}\PYG{n+na}{extraerHijoNumero}\PYG{o}{(}
                                        \PYG{n}{eBono}\PYG{o}{,} \PYG{l+s}{\PYGZdq{}valor\PYGZus{}deseado\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k+kt}{int} \PYG{n}{valorMinimo}\PYG{o}{=}\PYG{k}{this}\PYG{o}{.}\PYG{n+na}{extraerHijoNumero}\PYG{o}{(}
                                        \PYG{n}{eBono}\PYG{o}{,} \PYG{l+s}{\PYGZdq{}valor\PYGZus{}minimo\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k+kt}{int} \PYG{n}{valorMaximo}\PYG{o}{=}\PYG{k}{this}\PYG{o}{.}\PYG{n+na}{extraerHijoNumero}\PYG{o}{(}
                                        \PYG{n}{eBono}\PYG{o}{,} \PYG{l+s}{\PYGZdq{}valor\PYGZus{}maximo\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}

                        \PYG{k}{if} \PYG{o}{(}\PYG{o}{(}\PYG{n}{valorDeseado}\PYG{o}{\PYGZgt{}}\PYG{n}{valorMinimo}\PYG{o}{)} \PYG{o}{\PYGZam{}}\PYG{o}{\PYGZam{}}
                                \PYG{o}{(}\PYG{n}{valorDeseado}\PYG{o}{\PYGZlt{}}\PYG{n}{valorMaximo}\PYG{o}{)} \PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Encontrado un bono!\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                                \PYG{n}{String} \PYG{n}{ciudad}\PYG{o}{=}\PYG{k}{this}\PYG{o}{.}\PYG{n+na}{getCiudadProcedencia}\PYG{o}{(}\PYG{n}{eBono}\PYG{o}{)}\PYG{o}{;}
                                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Su ciudad era:\PYGZdq{}}\PYG{o}{+}\PYG{n}{ciudad}\PYG{o}{)}\PYG{o}{;}
                        \PYG{o}{\PYGZcb{}}
                        \PYG{c+c1}{//Element eValorDeseado=(Element)}
                        \PYG{c+c1}{//              listaParaValorDeseado.item(0);}

                \PYG{o}{\PYGZcb{}}

        \PYG{o}{\PYGZcb{}}
        \PYG{k+kd}{public} \PYG{n}{String} \PYG{n+nf}{getCiudadProcedencia}\PYG{o}{(}\PYG{n}{Element} \PYG{n}{e}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{NodeList} \PYG{n}{listaHijos}\PYG{o}{=}
                                \PYG{n}{e}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}ciudad\PYGZus{}procedencia\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Element} \PYG{n}{eCiudad}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{listaHijos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{l+m+mi}{0}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{NodeList} \PYG{n}{listaHijosCiudad}\PYG{o}{=}\PYG{n}{eCiudad}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Element} \PYG{n}{eCiudadConcreto}\PYG{o}{=}
                                \PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{listaHijosCiudad}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{l+m+mi}{1}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{String} \PYG{n}{nombre}\PYG{o}{=}\PYG{n}{eCiudadConcreto}\PYG{o}{.}\PYG{n+na}{getNodeName}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{return} \PYG{n}{nombre}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}

        \PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{imprimirMismaCiudad}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{NodeList} \PYG{n}{hijos}\PYG{o}{=}\PYG{n}{raiz}\PYG{o}{.}\PYG{n+na}{getChildNodes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{hijos}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{Node} \PYG{n}{hijo}\PYG{o}{=}\PYG{n}{hijos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{hijo}\PYG{o}{.}\PYG{n+na}{getNodeType}\PYG{o}{(}\PYG{o}{)}\PYG{o}{!}\PYG{o}{=}\PYG{n}{Node}\PYG{o}{.}\PYG{n+na}{ELEMENT\PYGZus{}NODE}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{k}{continue}\PYG{o}{;}
                        \PYG{o}{\PYGZcb{}}
                        \PYG{n}{String} \PYG{n}{ciudadHijo}\PYG{o}{=}
                                        \PYG{k}{this}\PYG{o}{.}\PYG{n+na}{getCiudadProcedencia}\PYG{o}{(}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)}\PYG{n}{hijo}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{j}\PYG{o}{=}\PYG{n}{i}\PYG{o}{+}\PYG{l+m+mi}{1}\PYG{o}{;} \PYG{n}{j}\PYG{o}{\PYGZlt{}}\PYG{n}{hijos}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{j}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{n}{Node} \PYG{n}{otroHijo}\PYG{o}{=}\PYG{n}{hijos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{j}\PYG{o}{)}\PYG{o}{;}
                                \PYG{k}{if} \PYG{o}{(}\PYG{n}{otroHijo}\PYG{o}{.}\PYG{n+na}{getNodeType}\PYG{o}{(}\PYG{o}{)}\PYG{o}{!}\PYG{o}{=}\PYG{n}{Node}\PYG{o}{.}\PYG{n+na}{ELEMENT\PYGZus{}NODE}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                        \PYG{k}{continue}\PYG{o}{;}
                                \PYG{o}{\PYGZcb{}}

                                \PYG{n}{String} \PYG{n}{ciudadOtro}\PYG{o}{=}
                                                \PYG{k}{this}\PYG{o}{.}\PYG{n+na}{getCiudadProcedencia}\PYG{o}{(}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)}\PYG{n}{otroHijo}\PYG{o}{)}\PYG{o}{;}
                                \PYG{k}{if} \PYG{o}{(}\PYG{n}{ciudadHijo}\PYG{o}{.}\PYG{n+na}{equals}\PYG{o}{(}\PYG{n}{ciudadOtro}\PYG{o}{)}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                        \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}
                                                        \PYG{l+s}{\PYGZdq{}Encontré dos elementos con la ciudad \PYGZdq{}}\PYG{o}{+}\PYG{n}{ciudadHijo}\PYG{o}{)}\PYG{o}{;}

                                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if ciudadHijo}
                        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del for interno}
                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del for externo}
        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del método}

        \PYG{k+kd}{public} \PYG{n}{String}\PYG{o}{[}\PYG{o}{]} \PYG{n+nf}{obtenerListaBonos}\PYG{o}{(}\PYG{n}{Node} \PYG{n}{raiz}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{k+kt}{int} \PYG{n}{tamanioMaximo}\PYG{o}{=}\PYG{l+m+mi}{1000}\PYG{o}{;}
                \PYG{n}{String}\PYG{o}{[}\PYG{o}{]} \PYG{n}{ciudades}\PYG{o}{=}\PYG{k}{new} \PYG{n}{String}\PYG{o}{[}\PYG{n}{tamanioMaximo}\PYG{o}{]}\PYG{o}{;}
                \PYG{n}{String}\PYG{o}{[}\PYG{o}{]} \PYG{n}{aux}\PYG{o}{=}\PYG{k}{new} \PYG{n}{String}\PYG{o}{[}\PYG{n}{tamanioMaximo}\PYG{o}{]}\PYG{o}{;}
                \PYG{k+kt}{int} \PYG{n}{posPrecio}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;}
                \PYG{n}{Element} \PYG{n}{eRaiz}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{raiz}\PYG{o}{;}
                \PYG{n}{NodeList} \PYG{n}{listaBonos}\PYG{o}{=}\PYG{n}{eRaiz}\PYG{o}{.}\PYG{n+na}{getElementsByTagName}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}bono\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{for} \PYG{o}{(}\PYG{k+kt}{int} \PYG{n}{i}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{o}{;} \PYG{n}{i}\PYG{o}{\PYGZlt{}}\PYG{n}{listaBonos}\PYG{o}{.}\PYG{n+na}{getLength}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;} \PYG{n}{i}\PYG{o}{+}\PYG{o}{+}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{Element} \PYG{n}{bono}\PYG{o}{=}\PYG{o}{(}\PYG{n}{Element}\PYG{o}{)} \PYG{n}{listaBonos}\PYG{o}{.}\PYG{n+na}{item}\PYG{o}{(}\PYG{n}{i}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{String} \PYG{n}{atEstable}\PYG{o}{=}\PYG{n}{bono}\PYG{o}{.}\PYG{n+na}{getAttribute}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}estable\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{atEstable}\PYG{o}{!}\PYG{o}{=}\PYG{k+kc}{null}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                \PYG{k}{if} \PYG{o}{(}\PYG{n}{atEstable}\PYG{o}{.}\PYG{n+na}{equals}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}no\PYGZdq{}}\PYG{o}{)}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                        \PYG{c+c1}{//Examinamos la ciudad aprovechando}
                                        \PYG{c+c1}{//un método ya construido.}
                                        \PYG{n}{String} \PYG{n}{ciudad}\PYG{o}{=}\PYG{k}{this}\PYG{o}{.}\PYG{n+na}{getCiudadProcedencia}\PYG{o}{(}\PYG{n}{bono}\PYG{o}{)}\PYG{o}{;}
                                        \PYG{k}{if} \PYG{o}{(}\PYG{n}{ciudad}\PYG{o}{.}\PYG{n+na}{equals}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}tokio\PYGZdq{}}\PYG{o}{)}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                                                \PYG{c+c1}{//Si es de tokio, copiamos el precio}
                                                \PYG{n}{String} \PYG{n}{precio}\PYG{o}{=}\PYG{n}{bono}\PYG{o}{.}\PYG{n+na}{getAttribute}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}precio\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                                                \PYG{n}{aux}\PYG{o}{[}\PYG{n}{posPrecio}\PYG{o}{]}\PYG{o}{=}\PYG{n}{precio}\PYG{o}{;}
                                                \PYG{n}{posPrecio}\PYG{o}{+}\PYG{o}{+}\PYG{o}{;}
                                        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if para tokio}
                                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if para el \PYGZdq{}no\PYGZdq{}}
                        \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del if para atEstable}
                \PYG{o}{\PYGZcb{}} \PYG{c+c1}{//Fin del for que recorre los bonos}
                \PYG{k}{if} \PYG{o}{(}\PYG{n}{posPrecio}\PYG{o}{\PYGZgt{}}\PYG{l+m+mi}{2}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{k}{return} \PYG{n}{aux}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
                \PYG{k}{return} \PYG{n}{ciudades}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}

        \PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{crearElemento}\PYG{o}{(}\PYG{n}{Document} \PYG{n}{d}\PYG{o}{,}
                        \PYG{n}{String} \PYG{n}{nombre}\PYG{o}{,}\PYG{n}{String} \PYG{n}{contenido}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{Element} \PYG{n}{e}\PYG{o}{=}\PYG{n}{d}\PYG{o}{.}\PYG{n+na}{createElement}\PYG{o}{(}\PYG{n}{nombre}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{e}\PYG{o}{.}\PYG{n+na}{setTextContent}\PYG{o}{(}\PYG{n}{contenido}\PYG{o}{)}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}

        \PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{crearRSS}\PYG{o}{(}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{DocumentBuilderFactory} \PYG{n}{fabrica}\PYG{o}{;}
                \PYG{n}{DocumentBuilder} \PYG{n}{constructor}\PYG{o}{;}
                \PYG{n}{Document} \PYG{n}{documentoXML}\PYG{o}{;}
                \PYG{k}{try}\PYG{o}{\PYGZob{}}
                        \PYG{n}{fabrica}\PYG{o}{=}
                                        \PYG{n}{DocumentBuilderFactory}\PYG{o}{.}\PYG{n+na}{newInstance}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{constructor}\PYG{o}{=}\PYG{n}{fabrica}\PYG{o}{.}\PYG{n+na}{newDocumentBuilder}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{documentoXML}\PYG{o}{=}\PYG{n}{constructor}\PYG{o}{.}\PYG{n+na}{newDocument}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{TransformerFactory} \PYG{n}{fabricaConv} \PYG{o}{=}
                                        \PYG{n}{TransformerFactory}\PYG{o}{.}\PYG{n+na}{newInstance}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{Transformer} \PYG{n}{transformador} \PYG{o}{=}
                                        \PYG{n}{fabricaConv}\PYG{o}{.}\PYG{n+na}{newTransformer}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{DOMSource} \PYG{n}{origenDOM} \PYG{o}{=}
                                        \PYG{k}{new} \PYG{n}{DOMSource}\PYG{o}{(}\PYG{n}{documentoXML}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{Element} \PYG{n}{e}\PYG{o}{=}\PYG{n}{documentoXML}\PYG{o}{.}\PYG{n+na}{createElement}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}rss\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{documentoXML}\PYG{o}{.}\PYG{n+na}{appendChild}\PYG{o}{(}\PYG{n}{e}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{StreamResult} \PYG{n}{resultado}\PYG{o}{=}
                                        \PYG{k}{new} \PYG{n}{StreamResult}\PYG{o}{(}
                                                        \PYG{k}{new} \PYG{n}{File}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}D:\PYGZbs{}\PYGZbs{}oscar\PYGZbs{}\PYGZbs{}archivo.rss\PYGZdq{}}\PYG{o}{)}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{transformador}\PYG{o}{.}\PYG{n+na}{transform}\PYG{o}{(}\PYG{n}{origenDOM}\PYG{o}{,} \PYG{n}{resultado}\PYG{o}{)}\PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
                \PYG{k}{catch} \PYG{o}{(}\PYG{n}{Exception} \PYG{n}{e}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                        \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{print}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}No se han podido crear los\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{} objetos necesarios.\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                        \PYG{n}{e}\PYG{o}{.}\PYG{n+na}{printStackTrace}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                        \PYG{k}{return} \PYG{o}{;}
                \PYG{o}{\PYGZcb{}}
        \PYG{o}{\PYGZcb{}}

        \PYG{k+kd}{public} \PYG{k+kd}{static} \PYG{k+kt}{void} \PYG{n+nf}{main} \PYG{o}{(}\PYG{n}{String}\PYG{o}{[}\PYG{o}{]} \PYG{n}{argumentos}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}Probando...\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{ProcesadorXML} \PYG{n}{proc}\PYG{o}{=}\PYG{k}{new} \PYG{n}{ProcesadorXML}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Node} \PYG{n}{nodoRaiz}\PYG{o}{=}\PYG{n}{proc}\PYG{o}{.}\PYG{n+na}{extraerRaiz}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}bolsas.xml\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
\PYG{c+c1}{//              proc.imprimirNombreDeLaRaiz(nodoRaiz);}
\PYG{c+c1}{//              proc.imprimirHijos(nodoRaiz);}
\PYG{c+c1}{//              proc.imprimirHijos2(nodoRaiz);}
\PYG{c+c1}{//              int cuantosFuturos=proc.contadorElementos(nodoRaiz, \PYGZdq{}futuro\PYGZdq{});}
\PYG{c+c1}{//              System.out.println(\PYGZdq{}Hay \PYGZdq{}+cuantosFuturos);}
\PYG{c+c1}{//              proc.imprimirPrecioBonos(nodoRaiz);}
\PYG{c+c1}{//              int inestables=proc.cuantosInestables(nodoRaiz);}
\PYG{c+c1}{//              System.out.println(\PYGZdq{}Inestables hay:\PYGZdq{}+inestables);}
\PYG{c+c1}{//              float preciosTotales=proc.sumarAtributosPrecio(nodoRaiz);}
\PYG{c+c1}{//              System.out.println(\PYGZdq{}La suma total es:\PYGZdq{}+preciosTotales);}
                \PYG{k+kt}{int} \PYG{n}{cuantos}\PYG{o}{=}\PYG{n}{proc}\PYG{o}{.}\PYG{n+na}{algoQueVerCon}\PYG{o}{(}\PYG{n}{nodoRaiz}\PYG{o}{,} \PYG{l+s}{\PYGZdq{}Islandia\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
\PYG{c+c1}{//              System.out.println(\PYGZdq{}Num paises Islandia:\PYGZdq{}+cuantos);}
\PYG{c+c1}{//              cuantos=proc.cuantosFuturosTienenCiudadProcedencia(}
\PYG{c+c1}{//                              nodoRaiz, \PYGZdq{}madrid\PYGZdq{});}
\PYG{c+c1}{//              System.out.println(\PYGZdq{}Futuros de Madrid:\PYGZdq{}+cuantos);}
\PYG{c+c1}{//              cuantos=proc.letrasConPaisEmisor(nodoRaiz, \PYGZdq{}espania\PYGZdq{});}
\PYG{c+c1}{//              System.out.println(\PYGZdq{}Letras con espania:\PYGZdq{}+cuantos);}
                \PYG{n}{cuantos}\PYG{o}{=}\PYG{n}{proc}\PYG{o}{.}\PYG{n+na}{algoQueVerConEspania}\PYG{o}{(}\PYG{n}{nodoRaiz}\PYG{o}{)}\PYG{o}{;}
                \PYG{c+c1}{//System.out.println(\PYGZdq{}Productos rel. con España:\PYGZdq{}+cuantos);}
                \PYG{c+c1}{//proc.imprimirBonos(nodoRaiz);}
                \PYG{n}{proc}\PYG{o}{.}\PYG{n+na}{imprimirMismaCiudad}\PYG{o}{(}\PYG{n}{nodoRaiz}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{String}\PYG{o}{[}\PYG{o}{]} \PYG{n}{resultados}\PYG{o}{=}\PYG{n}{proc}\PYG{o}{.}\PYG{n+na}{obtenerListaBonos}\PYG{o}{(}\PYG{n}{nodoRaiz}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}La ciudad 0 es:\PYGZdq{}}\PYG{o}{+}\PYG{n}{resultados}\PYG{o}{[}\PYG{l+m+mi}{0}\PYG{o}{]}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{proc}\PYG{o}{.}\PYG{n+na}{crearRSS}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
\PYG{o}{\PYGZcb{}}
\end{Verbatim}


\subsection{Archivo XML}
\label{tema6:archivo-xml}
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{c+cp}{\PYGZlt{}!DOCTYPE listado [}
\PYG{c+cp}{        \PYGZlt{}!ELEMENT listado (futuro+, divisa+, bono+, letra+)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ATTLIST futuro precio CDATA \PYGZsh{}REQUIRED\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ATTLIST divisa precio CDATA \PYGZsh{}REQUIRED\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ATTLIST bono precio CDATA \PYGZsh{}REQUIRED\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ATTLIST letra precio CDATA \PYGZsh{}REQUIRED\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT ciudad\PYGZus{}procedencia (madrid\textbar{}nyork\textbar{}frankfurt\textbar{}tokio)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT madrid EMPTY\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT nyork EMPTY\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT frankfurt EMPTY\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT tokio EMPTY\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ATTLIST divisa estable CDATA \PYGZsh{}IMPLIED\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ATTLIST bono estable CDATA \PYGZsh{}IMPLIED\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT futuro (producto, mercado?, ciudad\PYGZus{}procedencia)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT producto (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT mercado (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT bono (pais\PYGZus{}de\PYGZus{}procedencia,valor\PYGZus{}deseado,}
\PYG{c+cp}{                        valor\PYGZus{}minimo, valor\PYGZus{}maximo, ciudad\PYGZus{}procedencia)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT valor\PYGZus{}deseado (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT valor\PYGZus{}minimo (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT valor\PYGZus{}maximo (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT pais\PYGZus{}de\PYGZus{}procedencia (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT divisa (nombre\PYGZus{}divisa,}
\PYG{c+cp}{                        tipo\PYGZus{}de\PYGZus{}cambio+, ciudad\PYGZus{}procedencia)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT nombre\PYGZus{}divisa (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT tipo\PYGZus{}de\PYGZus{}cambio (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT letra (tipo\PYGZus{}de\PYGZus{}interes, pais\PYGZus{}emisor,ciudad\PYGZus{}procedencia)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT tipo\PYGZus{}de\PYGZus{}interes (\PYGZsh{}PCDATA)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT pais\PYGZus{}emisor (espania\textbar{}eeuu\textbar{}alemania\textbar{}japon)\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT espania     EMPTY\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT eeuu        EMPTY\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT alemania    EMPTY\PYGZgt{}}
        \PYG{c+cp}{\PYGZlt{}!ELEMENT japon       EMPTY\PYGZgt{}}
]\PYGZgt{}


\PYG{n+nt}{\PYGZlt{}listado}\PYG{n+nt}{\PYGZgt{}}\PYG{n+nt}{\PYGZlt{}futuro} \PYG{n+na}{precio=}\PYG{l+s}{\PYGZdq{}11.28\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}producto}\PYG{n+nt}{\PYGZgt{}}Cafe\PYG{n+nt}{\PYGZlt{}/producto\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}mercado}\PYG{n+nt}{\PYGZgt{}}América Latina\PYG{n+nt}{\PYGZlt{}/mercado\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}ciudad\PYGZus{}procedencia}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}madrid}\PYG{n+nt}{/\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/ciudad\PYGZus{}procedencia\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/futuro\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}divisa} \PYG{n+na}{precio=}\PYG{l+s}{\PYGZdq{}183\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}nombre\PYGZus{}divisa}\PYG{n+nt}{\PYGZgt{}}Libra esterlina\PYG{n+nt}{\PYGZlt{}/nombre\PYGZus{}divisa\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}tipo\PYGZus{}de\PYGZus{}cambio}\PYG{n+nt}{\PYGZgt{}}2.7:1 euros\PYG{n+nt}{\PYGZlt{}/tipo\PYGZus{}de\PYGZus{}cambio\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}tipo\PYGZus{}de\PYGZus{}cambio}\PYG{n+nt}{\PYGZgt{}}1:0.87 dólares\PYG{n+nt}{\PYGZlt{}/tipo\PYGZus{}de\PYGZus{}cambio\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}ciudad\PYGZus{}procedencia}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}madrid}\PYG{n+nt}{/\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/ciudad\PYGZus{}procedencia\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/divisa\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}bono} \PYG{n+na}{precio=}\PYG{l+s}{\PYGZdq{}100\PYGZdq{}} \PYG{n+na}{estable=}\PYG{l+s}{\PYGZdq{}si\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}pais\PYGZus{}de\PYGZus{}procedencia}\PYG{n+nt}{\PYGZgt{}}
                        España
                \PYG{n+nt}{\PYGZlt{}/pais\PYGZus{}de\PYGZus{}procedencia\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}valor\PYGZus{}deseado}\PYG{n+nt}{\PYGZgt{}}9980\PYG{n+nt}{\PYGZlt{}/valor\PYGZus{}deseado\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}valor\PYGZus{}minimo}\PYG{n+nt}{\PYGZgt{}}9950\PYG{n+nt}{\PYGZlt{}/valor\PYGZus{}minimo\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}valor\PYGZus{}maximo}\PYG{n+nt}{\PYGZgt{}}10020\PYG{n+nt}{\PYGZlt{}/valor\PYGZus{}maximo\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}ciudad\PYGZus{}procedencia}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}tokio}\PYG{n+nt}{/\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/ciudad\PYGZus{}procedencia\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/bono\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}bono} \PYG{n+na}{precio=}\PYG{l+s}{\PYGZdq{}10000\PYGZdq{}} \PYG{n+na}{estable=}\PYG{l+s}{\PYGZdq{}si\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}pais\PYGZus{}de\PYGZus{}procedencia}\PYG{n+nt}{\PYGZgt{}}
                        España
                \PYG{n+nt}{\PYGZlt{}/pais\PYGZus{}de\PYGZus{}procedencia\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}valor\PYGZus{}deseado}\PYG{n+nt}{\PYGZgt{}}9980\PYG{n+nt}{\PYGZlt{}/valor\PYGZus{}deseado\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}valor\PYGZus{}minimo}\PYG{n+nt}{\PYGZgt{}}9950\PYG{n+nt}{\PYGZlt{}/valor\PYGZus{}minimo\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}valor\PYGZus{}maximo}\PYG{n+nt}{\PYGZgt{}}10020\PYG{n+nt}{\PYGZlt{}/valor\PYGZus{}maximo\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}ciudad\PYGZus{}procedencia}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}tokio}\PYG{n+nt}{/\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/ciudad\PYGZus{}procedencia\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/bono\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}bono} \PYG{n+na}{precio=}\PYG{l+s}{\PYGZdq{}10000\PYGZdq{}} \PYG{n+na}{estable=}\PYG{l+s}{\PYGZdq{}no\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}pais\PYGZus{}de\PYGZus{}procedencia}\PYG{n+nt}{\PYGZgt{}}
                        España
                \PYG{n+nt}{\PYGZlt{}/pais\PYGZus{}de\PYGZus{}procedencia\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}valor\PYGZus{}deseado}\PYG{n+nt}{\PYGZgt{}}9980\PYG{n+nt}{\PYGZlt{}/valor\PYGZus{}deseado\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}valor\PYGZus{}minimo}\PYG{n+nt}{\PYGZgt{}}9950\PYG{n+nt}{\PYGZlt{}/valor\PYGZus{}minimo\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}valor\PYGZus{}maximo}\PYG{n+nt}{\PYGZgt{}}10020\PYG{n+nt}{\PYGZlt{}/valor\PYGZus{}maximo\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}ciudad\PYGZus{}procedencia}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}tokio}\PYG{n+nt}{/\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/ciudad\PYGZus{}procedencia\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/bono\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}bono} \PYG{n+na}{precio=}\PYG{l+s}{\PYGZdq{}10000\PYGZdq{}} \PYG{n+na}{estable=}\PYG{l+s}{\PYGZdq{}no\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}pais\PYGZus{}de\PYGZus{}procedencia}\PYG{n+nt}{\PYGZgt{}}
                        España
                \PYG{n+nt}{\PYGZlt{}/pais\PYGZus{}de\PYGZus{}procedencia\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}valor\PYGZus{}deseado}\PYG{n+nt}{\PYGZgt{}}9980\PYG{n+nt}{\PYGZlt{}/valor\PYGZus{}deseado\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}valor\PYGZus{}minimo}\PYG{n+nt}{\PYGZgt{}}9950\PYG{n+nt}{\PYGZlt{}/valor\PYGZus{}minimo\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}valor\PYGZus{}maximo}\PYG{n+nt}{\PYGZgt{}}10020\PYG{n+nt}{\PYGZlt{}/valor\PYGZus{}maximo\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}ciudad\PYGZus{}procedencia}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}tokio}\PYG{n+nt}{/\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/ciudad\PYGZus{}procedencia\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/bono\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}letra} \PYG{n+na}{precio=}\PYG{l+s}{\PYGZdq{}45020\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}tipo\PYGZus{}de\PYGZus{}interes}\PYG{n+nt}{\PYGZgt{}}4.54\PYGZpc{}\PYG{n+nt}{\PYGZlt{}/tipo\PYGZus{}de\PYGZus{}interes\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}pais\PYGZus{}emisor}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}espania}\PYG{n+nt}{/\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/pais\PYGZus{}emisor\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}ciudad\PYGZus{}procedencia}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}madrid}\PYG{n+nt}{/\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/ciudad\PYGZus{}procedencia\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/letra\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/listado\PYGZgt{}}
\end{Verbatim}


\section{Ejercicios para preparar examen}
\label{tema6:ejercicios-para-preparar-examen}\begin{enumerate}
\item {} 
Indicar cuantas letras tienen un tipo de interés inferior al 3\% e indicar para cada una de ellas el país emisor.

\item {} 
Comprobar si hay alguna divisa con nombre ``Euro'' cuyo precio sea mayor de 195.

\item {} 
Indicar todos los productos que tengan la misma ciudad de procedencia.

\end{enumerate}


\chapter{Sindicación y transformación de contenidos}
\label{tema7:sindicacion-y-transformacion-de-contenidos}\label{tema7::doc}

\section{Introducción}
\label{tema7:introduccion}
Muchas páginas web disponen de ``feeds''. Un ``feed'' es un mecanismo de suscripción que facilita la recepción de información.

En general, los feed utilizan un vocabulario XML llamado RSS o uno llamado Atom.


\section{RSS}
\label{tema7:rss}
RSS es un estándar para la ``sindicación'' o ``agregación'' de recursos (recursos web normalmente).

Su objetivo principal era permitir a un sitio web publicar las novedades con facilidad y que el usuario puede ir derectamente al lugar que le interese.


\subsection{Formato de archivo RSS}
\label{tema7:formato-de-archivo-rss}
Todo archivo RSS es, por supuesto, un XML

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}rss} \PYG{n+na}{version=}\PYG{l+s}{\PYGZdq{}2.0\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}channel}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}
                        Canal de noticias de SSOO de DAM
                \PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}link}\PYG{n+nt}{\PYGZgt{}}
                        http://ssoo.iesmaestredecalatrava.es
                \PYG{n+nt}{\PYGZlt{}/link\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}description}\PYG{n+nt}{\PYGZgt{}}
                        En este canal...
                \PYG{n+nt}{\PYGZlt{}/description\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}item}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}Nueva versión de Ubuntu\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}link}\PYG{n+nt}{\PYGZgt{}}http://ubuntu.org\PYG{n+nt}{\PYGZlt{}/link\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}description}\PYG{n+nt}{\PYGZgt{}}
                                Nueva versión...
                        \PYG{n+nt}{\PYGZlt{}/description\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/item\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/channel\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}channel}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}
                        Canal de Lenguajes de marcas
                \PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}link}\PYG{n+nt}{\PYGZgt{}}
                        http://xml.iesmaestredecalatrava.es
                \PYG{n+nt}{\PYGZlt{}/link\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}description}\PYG{n+nt}{\PYGZgt{}}
                        En este canal...
                \PYG{n+nt}{\PYGZlt{}/description\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}item}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}Publicado nuevo validador del W3C\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}link}\PYG{n+nt}{\PYGZgt{}}http://validator.w3c.org\PYG{n+nt}{\PYGZlt{}/link\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}description}\PYG{n+nt}{\PYGZgt{}}
                                Hay nuevo validador...
                        \PYG{n+nt}{\PYGZlt{}/description\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/item\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/channel\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/rss\PYGZgt{}}
\end{Verbatim}

Las reglas serían las siguientes:
\begin{itemize}
\item {} 
Todo archivo de descripción de recursos en RSS utiliza el preámbulo típico de los documentos xml

\end{itemize}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}UTF\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\end{Verbatim}
\begin{itemize}
\item {} 
Todo RSS tiene un solo elemento raíz en el cual se puede indicar la versión RSS a la que nos ceñimos

\end{itemize}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}rss} \PYG{n+na}{version=}\PYG{l+s}{\PYGZdq{}2.0\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
\end{Verbatim}
\begin{itemize}
\item {} 
Un RSS tiene uno o más canales

\end{itemize}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}channel}\PYG{n+nt}{\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/channel\PYGZgt{}}
\end{Verbatim}
\begin{itemize}
\item {} 
Todo canal debe tener, al menos un título, un enlace base (la dirección del propio sitio web) y una descripción:

\end{itemize}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{\PYGZlt{}channel}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}link}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/link\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}description}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/description\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}item}\PYG{n+nt}{\PYGZgt{}}
                ...
        \PYG{n+nt}{\PYGZlt{}/item\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}item}\PYG{n+nt}{\PYGZgt{}}
                ...
        \PYG{n+nt}{\PYGZlt{}/item\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/channel\PYGZgt{}}
\end{Verbatim}

Resumiendo los puntos más importantes:
\begin{enumerate}
\item {} 
Usar como elemento raíz \sphinxcode{rss}.

\item {} 
Todo RSS tiene uno o más \sphinxcode{channel}

\item {} 
Todo \sphinxcode{channel} tiene al menos \sphinxcode{title}, \sphinxcode{link} y \sphinxcode{description}

\item {} 
Despues de estos elementos, un \sphinxcode{channel} puede tener uno o más elementos \sphinxcode{item} (que son los que contienen las noticias)

\item {} 
Todo \sphinxcode{item} también debe tener un \sphinxcode{title}, un \sphinxcode{link} y \sphinxcode{description}

\end{enumerate}


\subsection{Ejercicio}
\label{tema7:ejercicio}
Crear un fichero Java que construya el siguiente fichero XML:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}rss} \PYG{n+na}{version=}\PYG{l+s}{\PYGZdq{}2.0\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}channel}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}Prueba\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}link}\PYG{n+nt}{\PYGZgt{}}http://www.google.es\PYG{n+nt}{\PYGZlt{}/link\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}description}\PYG{n+nt}{\PYGZgt{}}Prueba de descripcion\PYG{n+nt}{\PYGZlt{}/description\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/channel\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/rss\PYGZgt{}}
\end{Verbatim}

Una posible solución es esta:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{k+kd}{class} \PYG{n+nc}{CreadorRSS} \PYG{o}{\PYGZob{}}
        \PYG{k+kd}{public} \PYG{k+kt}{byte}\PYG{o}{[}\PYG{o}{]} \PYG{n+nf}{getEtiquetas}\PYG{o}{(}
                        \PYG{n}{String} \PYG{n}{titulo}\PYG{o}{,}
                        \PYG{n}{String} \PYG{n}{enlace}\PYG{o}{,}
                        \PYG{n}{String} \PYG{n}{descripcion}\PYG{o}{)}
        \PYG{o}{\PYGZob{}}
                \PYG{n}{String} \PYG{n}{resultado}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}\PYGZdq{}}\PYG{o}{;}
                \PYG{n}{resultado}\PYG{o}{+}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}\PYGZlt{}title\PYGZgt{}\PYGZdq{}}\PYG{o}{;}
                \PYG{n}{resultado}\PYG{o}{+}\PYG{o}{=}\PYG{n}{titulo}\PYG{o}{;}
                \PYG{n}{resultado}\PYG{o}{+}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}\PYGZlt{}/title\PYGZgt{}\PYGZbs{}n\PYGZdq{}}\PYG{o}{;}
                \PYG{n}{resultado}\PYG{o}{+}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}\PYGZlt{}link\PYGZgt{}\PYGZdq{}}\PYG{o}{;}
                \PYG{n}{resultado}\PYG{o}{+}\PYG{o}{=}\PYG{n}{enlace}\PYG{o}{;}
                \PYG{n}{resultado}\PYG{o}{+}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}\PYGZlt{}/link\PYGZgt{}\PYGZbs{}n\PYGZdq{}}\PYG{o}{;}
                \PYG{n}{resultado}\PYG{o}{+}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}\PYGZlt{}description\PYGZgt{}\PYGZdq{}}\PYG{o}{;}
                \PYG{n}{resultado}\PYG{o}{+}\PYG{o}{=}\PYG{n}{descripcion}\PYG{o}{;}
                \PYG{n}{resultado}\PYG{o}{+}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}\PYGZlt{}/description\PYGZgt{}\PYGZdq{}}\PYG{o}{;}
                \PYG{k}{return} \PYG{n}{resultado}\PYG{o}{.}\PYG{n+na}{getBytes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
        \PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{crearArchivo}\PYG{o}{(}\PYG{n}{String} \PYG{n}{nombre}\PYG{o}{)}
                        \PYG{k+kd}{throws} \PYG{n}{IOException}\PYG{o}{\PYGZob{}}
                \PYG{n}{FileOutputStream} \PYG{n}{fos}\PYG{o}{=}
                                \PYG{k}{new} \PYG{n}{FileOutputStream}\PYG{o}{(}\PYG{n}{nombre}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{String} \PYG{n}{cabecera}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}\PYGZlt{}?xml version=\PYGZsq{}1.0\PYGZsq{}?\PYGZgt{}\PYGZbs{}n\PYGZdq{}}\PYG{o}{;}
                \PYG{n}{fos}\PYG{o}{.}\PYG{n+na}{write}\PYG{o}{(}\PYG{n}{cabecera}\PYG{o}{.}\PYG{n+na}{getBytes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{String} \PYG{n}{rss}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}\PYGZlt{}rss version=\PYGZsq{}1.0\PYGZsq{}\PYGZgt{}\PYGZbs{}n\PYGZdq{}}\PYG{o}{;}
                \PYG{n}{fos}\PYG{o}{.}\PYG{n+na}{write}\PYG{o}{(}\PYG{n}{rss}\PYG{o}{.}\PYG{n+na}{getBytes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{)}\PYG{o}{;}
                \PYG{k+kt}{byte}\PYG{o}{[}\PYG{o}{]} \PYG{n}{etiquetas}\PYG{o}{=}\PYG{k}{this}\PYG{o}{.}\PYG{n+na}{getEtiquetas}\PYG{o}{(}
                                \PYG{l+s}{\PYGZdq{}Titulo de la noticia\PYGZdq{}}\PYG{o}{,}
                                \PYG{l+s}{\PYGZdq{}http://www.algo.com\PYGZdq{}}\PYG{o}{,}
                                \PYG{l+s}{\PYGZdq{}Noticia muy importante\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{fos}\PYG{o}{.}\PYG{n+na}{write}\PYG{o}{(}\PYG{n}{etiquetas}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{String} \PYG{n}{rssCierre}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}\PYGZlt{}/rss\PYGZgt{}\PYGZdq{}}\PYG{o}{;}
                \PYG{n}{fos}\PYG{o}{.}\PYG{n+na}{write}\PYG{o}{(}\PYG{n}{rssCierre}\PYG{o}{.}\PYG{n+na}{getBytes}\PYG{o}{(}\PYG{o}{)}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{fos}\PYG{o}{.}\PYG{n+na}{close}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}

        \PYG{k+kd}{public} \PYG{k+kd}{static} \PYG{k+kt}{void} \PYG{n+nf}{main}\PYG{o}{(}\PYG{n}{String}\PYG{o}{[}\PYG{o}{]} \PYG{n}{args}\PYG{o}{)}
                        \PYG{k+kd}{throws} \PYG{n}{IOException} \PYG{o}{\PYGZob{}}
                \PYG{n}{CreadorRSS} \PYG{n}{creador}\PYG{o}{=}\PYG{k}{new} \PYG{n}{CreadorRSS}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{creador}\PYG{o}{.}\PYG{n+na}{crearArchivo}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}D:/oscar/archivo.rss\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
\PYG{o}{\PYGZcb{}}
\end{Verbatim}

El siguiente código Java ilustra otra forma de hacerlo:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{crearRSS}\PYG{o}{(}\PYG{o}{)}\PYG{o}{\PYGZob{}}
        \PYG{n}{DocumentBuilderFactory} \PYG{n}{fabrica}\PYG{o}{;}
        \PYG{n}{DocumentBuilder} \PYG{n}{constructor}\PYG{o}{;}
        \PYG{n}{Document} \PYG{n}{documentoXML}\PYG{o}{;}
        \PYG{k}{try}\PYG{o}{\PYGZob{}}
                \PYG{n}{fabrica}\PYG{o}{=}
                                \PYG{n}{DocumentBuilderFactory}\PYG{o}{.}\PYG{n+na}{newInstance}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{constructor}\PYG{o}{=}\PYG{n}{fabrica}\PYG{o}{.}\PYG{n+na}{newDocumentBuilder}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{documentoXML}\PYG{o}{=}\PYG{n}{constructor}\PYG{o}{.}\PYG{n+na}{newDocument}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{TransformerFactory} \PYG{n}{fabricaConv} \PYG{o}{=}
                                \PYG{n}{TransformerFactory}\PYG{o}{.}\PYG{n+na}{newInstance}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Transformer} \PYG{n}{transformador} \PYG{o}{=}
                                \PYG{n}{fabricaConv}\PYG{o}{.}\PYG{n+na}{newTransformer}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{DOMSource} \PYG{n}{origenDOM} \PYG{o}{=}
                                \PYG{k}{new} \PYG{n}{DOMSource}\PYG{o}{(}\PYG{n}{documentoXML}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{Element} \PYG{n}{e}\PYG{o}{=}\PYG{n}{documentoXML}\PYG{o}{.}\PYG{n+na}{createElement}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}rss\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{documentoXML}\PYG{o}{.}\PYG{n+na}{appendChild}\PYG{o}{(}\PYG{n}{e}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{StreamResult} \PYG{n}{resultado}\PYG{o}{=}
                                \PYG{k}{new} \PYG{n}{StreamResult}\PYG{o}{(}
                                        \PYG{k}{new} \PYG{n}{File}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}D:\PYGZbs{}\PYGZbs{}resul\PYGZbs{}\PYGZbs{}archivo.rss\PYGZdq{}}\PYG{o}{)}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{transformador}\PYG{o}{.}\PYG{n+na}{transform}\PYG{o}{(}\PYG{n}{origenDOM}\PYG{o}{,} \PYG{n}{resultado}\PYG{o}{)}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
        \PYG{k}{catch} \PYG{o}{(}\PYG{n}{Exception} \PYG{n}{e}\PYG{o}{)}\PYG{o}{\PYGZob{}}
                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{print}\PYG{o}{(}\PYG{l+s}{\PYGZdq{}No se han podido crear los\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{System}\PYG{o}{.}\PYG{n+na}{out}\PYG{o}{.}\PYG{n+na}{println}\PYG{o}{(}\PYG{l+s}{\PYGZdq{} objetos necesarios.\PYGZdq{}}\PYG{o}{)}\PYG{o}{;}
                \PYG{n}{e}\PYG{o}{.}\PYG{n+na}{printStackTrace}\PYG{o}{(}\PYG{o}{)}\PYG{o}{;}
                \PYG{k}{return} \PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
\PYG{o}{\PYGZcb{}}
\end{Verbatim}


\section{Adaptación y transformación de XML}
\label{tema7:adaptacion-y-transformacion-de-xml}
Muy a menudo va a ocurrir que un cierto formato XML va a ampliarse o a modificarse o simplemente se necesita convertir un documento XML en otro con un formato distinto.

Supongamos una estructura como la siguiente:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}UTF\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}catalogo}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}libro}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}Don Quijote\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}autor}\PYG{n+nt}{\PYGZgt{}}Cervantes\PYG{n+nt}{\PYGZlt{}/autor\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/libro\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}libro}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}
                Poeta en Nueva York
                \PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}autor}\PYG{n+nt}{\PYGZgt{}}Lorca\PYG{n+nt}{\PYGZlt{}/autor\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/libro\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/catalogo\PYGZgt{}}
\end{Verbatim}

Supongamos que un cierto sitio se necesita almacenar la información de esta forma:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}UTF\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}listadolibros}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}libro}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}titulo} \PYG{n+na}{autor=}\PYG{l+s}{\PYGZdq{}Cervantes\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}Don Quijote\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/libro\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}libro}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}titulo} \PYG{n+na}{autor=}\PYG{l+s}{\PYGZdq{}Lorca\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                Poeta en Nueva York
                \PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/libro\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/listadolibros\PYGZgt{}}
\end{Verbatim}

En general, para poder modificar o presentar los XML se puede hacen varias cosas:
\begin{itemize}
\item {} 
En primer lugar, se puede usar CSS para poder cargar los documentos XML en un navegador y mostrarlos de forma aceptable.

\item {} 
Se pueden utilizar otras tecnologías para transformar por completo la estructura del XML.
\begin{itemize}
\item {} 
Se puede usar un lenguaje llamado XSLT (Xml Stylesheet Language Transformation) para convertir el XML en otro distinto.

\item {} 
Se puede utilizar XSL:FO (Xml Stylesheet Language: Formatting Objects) cuando se desee convertir el documento en algo que se desee imprimir (normalmente un PDF)

\end{itemize}

\end{itemize}


\subsection{CSS con XML}
\label{tema7:css-con-xml}
Supongamos de nuevo el archivo anterior, el cual ahora queremos mostrar en un navegador:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}UTF\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}catalogo}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}libro}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}Don Quijote\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}autor}\PYG{n+nt}{\PYGZgt{}}Cervantes\PYG{n+nt}{\PYGZlt{}/autor\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/libro\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}libro}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}
                Poeta en Nueva York
                \PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}autor}\PYG{n+nt}{\PYGZgt{}}Lorca\PYG{n+nt}{\PYGZlt{}/autor\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/libro\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/catalogo\PYGZgt{}}
\end{Verbatim}

Si usamos el archivo \sphinxcode{estilo.css} de esta forma:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{catalogo}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{background\PYGZhy{}color}\PYG{o}{:}\PYG{n+nb}{rgb}\PYG{p}{(}\PYG{l+m}{220}\PYG{o}{,} \PYG{l+m}{230}\PYG{o}{,} \PYG{l+m}{220}\PYG{p}{);}
        \PYG{n+nb}{display}\PYG{o}{:}\PYG{n+nb}{block}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}

\PYG{n+nt}{libro}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{display}\PYG{o}{:}\PYG{n+nb}{block}\PYG{p}{;}
        \PYG{n+nb}{border}\PYG{o}{:} \PYG{n+nb}{solid} \PYG{n+nb}{black} \PYG{l+m}{1px}\PYG{p}{;}
        \PYG{n+nb}{margin\PYGZhy{}bottom}\PYG{o}{:}\PYG{l+m}{20px}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}
\PYG{n+nt}{title}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{margin}\PYG{o}{:} \PYG{l+m}{10px}\PYG{p}{;}
        \PYG{n+nb}{display}\PYG{o}{:}\PYG{n+nb}{block}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}
\PYG{n+nt}{autor}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{display}\PYG{o}{:}\PYG{n+nb}{block}\PYG{p}{;}
        \PYG{n+nb}{font}\PYG{o}{\PYGZhy{}}\PYG{n}{face}\PYG{o}{:}\PYG{n}{Arial}\PYG{p}{;}
        \PYG{n+nb}{text\PYGZhy{}decoration}\PYG{o}{:}\PYG{n+nb}{underline}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}

Veremos algo como esto:

\noindent{\hspace*{\fill}\scalebox{0.500000}{\sphinxincludegraphics{{estilo-xml}.png}}\hspace*{\fill}}


\subsubsection{Ejercicio}
\label{tema7:id1}
Crear una hoja de estilo asociada al catálogo anterior, que muestre la información de cada libro de forma parecida a una tabla, en la que el \sphinxcode{title} utilice un color de fondo distinto del \sphinxcode{autor}.

\noindent{\hspace*{\fill}\scalebox{0.500000}{\sphinxincludegraphics{{estilo-xml2}.png}}\hspace*{\fill}}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n+nt}{catalogo}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{background\PYGZhy{}color}\PYG{o}{:}\PYG{n+nb}{rgb}\PYG{p}{(}\PYG{l+m}{220}\PYG{o}{,} \PYG{l+m}{230}\PYG{o}{,} \PYG{l+m}{220}\PYG{p}{);}
        \PYG{n+nb}{display}\PYG{o}{:}\PYG{n+nb}{block}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}

\PYG{n+nt}{libro}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{display}\PYG{o}{:}\PYG{n+nb}{block}\PYG{p}{;}
        \PYG{n+nb}{width}\PYG{o}{:}\PYG{l+m}{100\PYGZpc{}}\PYG{p}{;}
        \PYG{n+nb}{margin\PYGZhy{}bottom}\PYG{o}{:}\PYG{l+m}{40px}\PYG{p}{;}
        \PYG{n+nb}{clear}\PYG{o}{:}\PYG{n+nb}{both}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}
\PYG{n+nt}{title}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{float}\PYG{o}{:}\PYG{n+nb}{left}\PYG{p}{;}
        \PYG{n+nb}{width}\PYG{o}{:}\PYG{l+m}{45\PYGZpc{}}\PYG{p}{;}
        \PYG{n+nb}{border}\PYG{o}{:}\PYG{n+nb}{solid} \PYG{n+nb}{black} \PYG{l+m}{1px}\PYG{p}{;}
        \PYG{n+nb}{padding}\PYG{o}{:}\PYG{l+m}{5px}\PYG{p}{;}
        \PYG{n+nb}{text\PYGZhy{}align}\PYG{o}{:}\PYG{n+nb}{center}\PYG{p}{;}
        \PYG{n+nb}{background\PYGZhy{}color}\PYG{o}{:}\PYG{n+nb}{rgb}\PYG{p}{(}\PYG{l+m}{180}\PYG{o}{,}\PYG{l+m}{180}\PYG{o}{,}\PYG{l+m}{240}\PYG{p}{);}
\PYG{p}{\PYGZcb{}}
\PYG{n+nt}{autor}\PYG{p}{\PYGZob{}}
        \PYG{n+nb}{float}\PYG{o}{:}\PYG{n+nb}{left}\PYG{p}{;}
        \PYG{n+nb}{text\PYGZhy{}align}\PYG{o}{:}\PYG{n+nb}{center}\PYG{p}{;}
        \PYG{n+nb}{width}\PYG{o}{:}\PYG{l+m}{45\PYGZpc{}}\PYG{p}{;}
        \PYG{n+nb}{border}\PYG{o}{:}\PYG{n+nb}{solid} \PYG{n+nb}{black} \PYG{l+m}{1px}\PYG{p}{;}
        \PYG{n+nb}{padding}\PYG{o}{:}\PYG{l+m}{5px}\PYG{p}{;}
        \PYG{n+nb}{background\PYGZhy{}color}\PYG{o}{:}\PYG{n+nb}{rgb}\PYG{p}{(}\PYG{l+m}{340}\PYG{o}{,}\PYG{l+m}{180}\PYG{o}{,}\PYG{l+m}{240}\PYG{p}{);}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}


\subsection{Transformación de XML}
\label{tema7:transformacion-de-xml}
Si deseamos \emph{transformar un XML en otro XML} necesitaremos usar XSLT. Un archivo XSLT tiene la extensión XSL e indica las reglas para convertir entre formatos XML.

El documento XSL básico sería así (los navegadores la darán por mala, ya que no hace absolutamente
nada):

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}UTF\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}xsl:stylesheet}\PYG{n+nt}{\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/xsl:stylesheet\PYGZgt{}}
\end{Verbatim}

En este caso xsl es el espacio de nombres. Un espacio de nombres es un contenedor que
permite evitar que haya confusiones entre unas etiquetas y otras que se llamen igual. En este
caso, queremos usar la etiqueta \textless{}stylesheet\textgreater{} definida por el W3C. Una hoja básica sería
esta

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}UTF\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}xsl:stylesheet} \PYG{n+na}{version=}\PYG{l+s}{\PYGZdq{}1.0\PYGZdq{}}
        \PYG{n+na}{xmlns:xsl=}
        \PYG{l+s}{\PYGZdq{}http://www.w3.org/1999/XSL/Transform\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}xsl:template} \PYG{n+na}{match=}\PYG{l+s}{\PYGZdq{}/\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}html}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}head}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}
                                        Resultado
                                \PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/head\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}body}\PYG{n+nt}{\PYGZgt{}}
                                Documento resultado
                        \PYG{n+nt}{\PYGZlt{}/body\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/html\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/xsl:template\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/xsl:stylesheet\PYGZgt{}}
\end{Verbatim}

Algunos navegadores no ejecutan XSL por seguridad. Los detalles de como “abrir” la seguridad de cada uno de estos navegadores deben investigarse en el manual de cada uno de ellos.

Cabe destacar que esta hoja simplemente genera HTML básico pero no recoge ningún dato del XML original.


\subsection{Ejercicio}
\label{tema7:id2}
Hacer que el archivo XML de libros cargue esta hoja de estilos.

Solución: consiste en añadir una línea al archivo que referencie el archivo de transformación y el tipo de lenguaje usado para transformar.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}UTF\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{c+cp}{\PYGZlt{}?xml\PYGZhy{}stylesheet href=\PYGZdq{}hoja1.xsl\PYGZdq{} type=\PYGZdq{}text/xsl\PYGZdq{}?\PYGZgt{}}

\PYG{n+nt}{\PYGZlt{}catalogo}\PYG{n+nt}{\PYGZgt{}}
        ... (El resto es igual)
\PYG{n+nt}{\PYGZlt{}/catalogo\PYGZgt{}}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema7:id3}
Hacer que el XSL genere un HTML con información del archivo XML de libro.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}xsl:stylesheet} \PYG{n+na}{version=}\PYG{l+s}{\PYGZdq{}1.1\PYGZdq{}} \PYG{n+na}{xmlns:xsl=}
                \PYG{l+s}{\PYGZdq{}http://www.w3.org/1999/XSL/Transform\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}xsl:template} \PYG{n+na}{match=}\PYG{l+s}{\PYGZdq{}/\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}html}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}head}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}Ejemplo de transformación\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/head\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}body}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}h1}\PYG{n+nt}{\PYGZgt{}}Resultado\PYG{n+nt}{\PYGZlt{}/h1\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}xsl:for\PYGZhy{}each} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}catalogo/libro\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}p}\PYG{n+nt}{\PYGZgt{}}
                                                \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}title\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}/p\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/xsl:for\PYGZhy{}each\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/body\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/html\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/xsl:template\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/xsl:stylesheet\PYGZgt{}}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema7:id4}
Extraer los títulos de los libros pero consiguiendo encerrarlos en una lista ordenada HTML para que aparezcan numerados.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}xsl:stylesheet} \PYG{n+na}{version=}\PYG{l+s}{\PYGZdq{}1.1\PYGZdq{}} \PYG{n+na}{xmlns:xsl=}
                \PYG{l+s}{\PYGZdq{}http://www.w3.org/1999/XSL/Transform\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}xsl:template} \PYG{n+na}{match=}\PYG{l+s}{\PYGZdq{}/\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}html}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}head}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}Ejemplo de transformación\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/head\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}body}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}h1}\PYG{n+nt}{\PYGZgt{}}Resultado\PYG{n+nt}{\PYGZlt{}/h1\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}ol}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}xsl:for\PYGZhy{}each} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}catalogo/libro\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}li}\PYG{n+nt}{\PYGZgt{}}
                                                \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}title\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}/li\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/xsl:for\PYGZhy{}each\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/ol\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/body\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/html\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/xsl:template\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/xsl:stylesheet\PYGZgt{}}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema7:id5}
Supongamos que ahora un libro tiene varios autores y el XML es algo así:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}UTF\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{c+cp}{\PYGZlt{}?xml\PYGZhy{}stylesheet href=\PYGZdq{}hoja1.xsl\PYGZdq{} type=\PYGZdq{}text/xsl\PYGZdq{}?\PYGZgt{}}

\PYG{n+nt}{\PYGZlt{}catalogo}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}libro}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}Don Quijote\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}autores}\PYG{n+nt}{\PYGZgt{}}
                                                \PYG{n+nt}{\PYGZlt{}autor}\PYG{n+nt}{\PYGZgt{}}Cervantes\PYG{n+nt}{\PYGZlt{}/autor\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/autores\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/libro\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}libro}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}Patrones de diseño en programación\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}autores}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}autor}\PYG{n+nt}{\PYGZgt{}}Erich Gamma\PYG{n+nt}{\PYGZlt{}/autor\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}autor}\PYG{n+nt}{\PYGZgt{}}John Vlissides\PYG{n+nt}{\PYGZlt{}/autor\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}autor}\PYG{n+nt}{\PYGZgt{}}Ralph Johnson\PYG{n+nt}{\PYGZlt{}/autor\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/autores\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/libro\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/catalogo\PYGZgt{}}
\end{Verbatim}

¿Como mostrar en HTML el título y todos los autores de cada libro?

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}xsl:stylesheet} \PYG{n+na}{version=}\PYG{l+s}{\PYGZdq{}1.1\PYGZdq{}} \PYG{n+na}{xmlns:xsl=}
                \PYG{l+s}{\PYGZdq{}http://www.w3.org/1999/XSL/Transform\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}xsl:template} \PYG{n+na}{match=}\PYG{l+s}{\PYGZdq{}/\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}html}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}head}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}Ejemplo de transformación\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/head\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}body}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}h1}\PYG{n+nt}{\PYGZgt{}}Resultado\PYG{n+nt}{\PYGZlt{}/h1\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}ol}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}xsl:for\PYGZhy{}each} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}catalogo/libro\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}li}\PYG{n+nt}{\PYGZgt{}}
                                                \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}title\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                                \PYG{n+nt}{\PYGZlt{}ol}\PYG{n+nt}{\PYGZgt{}}
                                                        \PYG{n+nt}{\PYGZlt{}xsl:for\PYGZhy{}each} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}autores/autor\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                                                                \PYG{n+nt}{\PYGZlt{}li}\PYG{n+nt}{\PYGZgt{}}
                                                                        \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}.\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                                                \PYG{n+nt}{\PYGZlt{}/li\PYGZgt{}}
                                                        \PYG{n+nt}{\PYGZlt{}/xsl:for\PYGZhy{}each\PYGZgt{}} \PYG{c}{\PYGZlt{}!\PYGZhy{}\PYGZhy{}}\PYG{c}{Fin del bucle autores}\PYG{c}{\PYGZhy{}\PYGZhy{}\PYGZgt{}}
                                                \PYG{n+nt}{\PYGZlt{}/ol\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}/li\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/xsl:for\PYGZhy{}each\PYGZgt{}} \PYG{c}{\PYGZlt{}!\PYGZhy{}\PYGZhy{}}\PYG{c}{Fin del recorrido de libro}\PYG{c}{\PYGZhy{}\PYGZhy{}\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/ol\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/body\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/html\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/xsl:template\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/xsl:stylesheet\PYGZgt{}}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema7:id6}
Se desea hacer lo mismo que en el ejercicio anterior pero haciendo que los autores aparezcan de forma ordenada.

La solución está fundamentada en el uso de la etiqueta siguiente:

\begin{Verbatim}[commandchars=\\\{\}]
\PYGZlt{}xsl:for\PYGZhy{}each ...\PYGZgt{}
        \PYGZlt{}xsl:sort select=\PYGZdq{}...\PYGZdq{} ordering=\PYGZdq{}...\PYGZdq{}\PYGZgt{}
                ..cosas del bucle...
        \PYGZlt{}/xsl\PYGZgt{}
\PYGZlt{}/xsl\PYGZgt{}
\end{Verbatim}

La solución completa sería así:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}xsl:stylesheet} \PYG{n+na}{version=}\PYG{l+s}{\PYGZdq{}1.1\PYGZdq{}} \PYG{n+na}{xmlns:xsl=}
                \PYG{l+s}{\PYGZdq{}http://www.w3.org/1999/XSL/Transform\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}xsl:template} \PYG{n+na}{match=}\PYG{l+s}{\PYGZdq{}/\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}html}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}head}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}Ejemplo de transformación\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/head\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}body}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}h1}\PYG{n+nt}{\PYGZgt{}}Resultado\PYG{n+nt}{\PYGZlt{}/h1\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}ol}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}xsl:for\PYGZhy{}each} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}catalogo/libro\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}li}\PYG{n+nt}{\PYGZgt{}}
                                                \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}title\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                                \PYG{n+nt}{\PYGZlt{}ol}\PYG{n+nt}{\PYGZgt{}}
                                                        \PYG{n+nt}{\PYGZlt{}xsl:for\PYGZhy{}each} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}autores/autor\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                                                        \PYG{n+nt}{\PYGZlt{}xsl:sort} \PYG{n+na}{order=}\PYG{l+s}{\PYGZdq{}descending\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                                                \PYG{n+nt}{\PYGZlt{}li}\PYG{n+nt}{\PYGZgt{}}
                                                                        \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}.\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                                                \PYG{n+nt}{\PYGZlt{}/li\PYGZgt{}}
                                                        \PYG{n+nt}{\PYGZlt{}/xsl:for\PYGZhy{}each\PYGZgt{}}
                                                \PYG{n+nt}{\PYGZlt{}/ol\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}/li\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/xsl:for\PYGZhy{}each\PYGZgt{}} \PYG{c}{\PYGZlt{}!\PYGZhy{}\PYGZhy{}}\PYG{c}{Fin del recorrido de libro}\PYG{c}{\PYGZhy{}\PYGZhy{}\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/ol\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/body\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/html\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/xsl:template\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/xsl:stylesheet\PYGZgt{}}
\end{Verbatim}


\subsection{Ejercicio}
\label{tema7:id7}
Suponiendo que además todos los libros tienen además un elemento \sphinxcode{\textless{}fechaedicion\textgreater{}} mostrar los libros editados despues del 2000.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}UTF\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{c+cp}{\PYGZlt{}?xml\PYGZhy{}stylesheet href=\PYGZdq{}hoja1.xsl\PYGZdq{} type=\PYGZdq{}text/xsl\PYGZdq{}?\PYGZgt{}}

\PYG{n+nt}{\PYGZlt{}catalogo}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}libro}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}Don Quijote\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}autores}\PYG{n+nt}{\PYGZgt{}}
                                                \PYG{n+nt}{\PYGZlt{}autor}\PYG{n+nt}{\PYGZgt{}}Cervantes\PYG{n+nt}{\PYGZlt{}/autor\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/autores\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}fechaedicion}\PYG{n+nt}{\PYGZgt{}}1984\PYG{n+nt}{\PYGZlt{}/fechaedicion\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/libro\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}libro}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}Patrones de diseño en programación\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}autores}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}autor}\PYG{n+nt}{\PYGZgt{}}Ralph Johnson\PYG{n+nt}{\PYGZlt{}/autor\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}autor}\PYG{n+nt}{\PYGZgt{}}Erich Gamma\PYG{n+nt}{\PYGZlt{}/autor\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}autor}\PYG{n+nt}{\PYGZgt{}}John Vlissides\PYG{n+nt}{\PYGZlt{}/autor\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/autores\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}fechaedicion}\PYG{n+nt}{\PYGZgt{}}2007\PYG{n+nt}{\PYGZlt{}/fechaedicion\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/libro\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/catalogo\PYGZgt{}}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}xsl:stylesheet} \PYG{n+na}{version=}\PYG{l+s}{\PYGZdq{}1.1\PYGZdq{}} \PYG{n+na}{xmlns:xsl=}
                \PYG{l+s}{\PYGZdq{}http://www.w3.org/1999/XSL/Transform\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}xsl:template} \PYG{n+na}{match=}\PYG{l+s}{\PYGZdq{}/\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}html}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}head}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}Ejemplo de transformación\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/head\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}body}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}h1}\PYG{n+nt}{\PYGZgt{}}Resultado\PYG{n+nt}{\PYGZlt{}/h1\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}ol}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}xsl:for\PYGZhy{}each} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}catalogo/libro\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}xsl:if} \PYG{n+na}{test=}\PYG{l+s}{\PYGZdq{}fechaedicion \PYGZam{}gt; 2000\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}li}\PYG{n+nt}{\PYGZgt{}}
                                                \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}title\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                                \PYG{n+nt}{\PYGZlt{}ol}\PYG{n+nt}{\PYGZgt{}}
                                                        \PYG{n+nt}{\PYGZlt{}xsl:for\PYGZhy{}each} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}autores/autor\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                                                        \PYG{n+nt}{\PYGZlt{}xsl:sort} \PYG{n+na}{order=}\PYG{l+s}{\PYGZdq{}descending\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                                                \PYG{n+nt}{\PYGZlt{}li}\PYG{n+nt}{\PYGZgt{}}
                                                                        \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}.\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                                                \PYG{n+nt}{\PYGZlt{}/li\PYGZgt{}}

                                                        \PYG{n+nt}{\PYGZlt{}/xsl:for\PYGZhy{}each\PYGZgt{}}
                                                \PYG{n+nt}{\PYGZlt{}/ol\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}/li\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}/xsl:if\PYGZgt{}}

                                \PYG{n+nt}{\PYGZlt{}/xsl:for\PYGZhy{}each\PYGZgt{}} \PYG{c}{\PYGZlt{}!\PYGZhy{}\PYGZhy{}}\PYG{c}{Fin del recorrido de libro}\PYG{c}{\PYGZhy{}\PYGZhy{}\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/ol\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/body\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/html\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/xsl:template\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/xsl:stylesheet\PYGZgt{}}
\end{Verbatim}

En general, las condiciones se escriben así:
\begin{itemize}
\item {} 
\textgreater{} o mayor que o \sphinxcode{\&gt;}

\item {} 
\textless{} o menor que o \sphinxcode{\&lt;}

\item {} 
\textgreater{}= o mayor o igual o \sphinxcode{\&ge;}

\item {} 
\textless{}= o menor o igual o \sphinxcode{\&le;}

\item {} 
= o igual o \sphinxcode{\&eq;}

\item {} 
\textless{}\textgreater{} o distinto o \sphinxcode{\&neq;}

\end{itemize}


\subsection{Ejercicio XSL, paso a paso}
\label{tema7:ejercicio-xsl-paso-a-paso}
Dado el siguiente XML crear un programa con XSLT que muestre los titulos y los autores de los libros cuya fecha de edicion sea posterior al 2000.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}UTF\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{c+cp}{\PYGZlt{}?xml\PYGZhy{}stylesheet     type=\PYGZdq{}text/xsl\PYGZdq{}         href=\PYGZdq{}ejercicio1.xsl\PYGZdq{}?\PYGZgt{}}
     \PYG{n+nt}{\PYGZlt{}catalogo}\PYG{n+nt}{\PYGZgt{}}
             \PYG{n+nt}{\PYGZlt{}libro} \PYG{n+na}{fechaedicion=}\PYG{l+s}{\PYGZdq{}1999\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                     \PYG{n+nt}{\PYGZlt{}titulo}\PYG{n+nt}{\PYGZgt{}}Don Quijote\PYG{n+nt}{\PYGZlt{}/titulo\PYGZgt{}}
                     \PYG{n+nt}{\PYGZlt{}autores}\PYG{n+nt}{\PYGZgt{}}
                             \PYG{n+nt}{\PYGZlt{}autor}\PYG{n+nt}{\PYGZgt{}}Cervantes\PYG{n+nt}{\PYGZlt{}/autor\PYGZgt{}}
                     \PYG{n+nt}{\PYGZlt{}/autores\PYGZgt{}}
             \PYG{n+nt}{\PYGZlt{}/libro\PYGZgt{}}
             \PYG{n+nt}{\PYGZlt{}libro} \PYG{n+na}{fechaedicion=}\PYG{l+s}{\PYGZdq{}2005\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                     \PYG{n+nt}{\PYGZlt{}titulo}\PYG{n+nt}{\PYGZgt{}}
                     La sociedad civil moderna
                     \PYG{n+nt}{\PYGZlt{}/titulo\PYGZgt{}}
                     \PYG{n+nt}{\PYGZlt{}autores}\PYG{n+nt}{\PYGZgt{}}
                             \PYG{n+nt}{\PYGZlt{}autor}\PYG{n+nt}{\PYGZgt{}}Luis Diaz\PYG{n+nt}{\PYGZlt{}/autor\PYGZgt{}}
                             \PYG{n+nt}{\PYGZlt{}autor}\PYG{n+nt}{\PYGZgt{}}Pedro Campos\PYG{n+nt}{\PYGZlt{}/autor\PYGZgt{}}
                     \PYG{n+nt}{\PYGZlt{}/autores\PYGZgt{}}
             \PYG{n+nt}{\PYGZlt{}/libro\PYGZgt{}}
     \PYG{n+nt}{\PYGZlt{}/catalogo\PYGZgt{}}
\end{Verbatim}

Hagámoslo paso a paso. En primer lugar tendremos que crear el fichero \sphinxcode{ejercicio1.xsl} y crear la estructura básica:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}xsl:stylesheet} \PYG{n+na}{xmlns:xsl=}\PYG{l+s}{\PYGZdq{}http://www.w3.org/1999/XSL/Transform\PYGZdq{}} \PYG{n+na}{version=}\PYG{l+s}{\PYGZdq{}1.1\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}xsl:template} \PYG{n+na}{match=}\PYG{l+s}{\PYGZdq{}/\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}

\PYG{n+nt}{\PYGZlt{}/xsl:template\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/xsl:stylesheet\PYGZgt{}}
\end{Verbatim}

Ahora recorramos los libros que hay en el catalogo (recordemos que la estructura es \sphinxcode{catalogo/libro}. Simplemente por ver si funciona, de momento el navegado solo muestra los títulos y en una sola línea.

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}xsl:stylesheet} \PYG{n+na}{xmlns:xsl=}\PYG{l+s}{\PYGZdq{}http://www.w3.org/1999/XSL/Transform\PYGZdq{}} \PYG{n+na}{version=}\PYG{l+s}{\PYGZdq{}1.1\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}xsl:template} \PYG{n+na}{match=}\PYG{l+s}{\PYGZdq{}/\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}xsl:for\PYGZhy{}each} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}catalogo/libro\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}titulo\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/xsl:for\PYGZhy{}each\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/xsl:template\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/xsl:stylesheet\PYGZgt{}}
\end{Verbatim}
\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics{{ejercicio1xslpaso1}.png}
\caption{Paso inicial del XSL}\label{tema7:id8}\end{figure}

Avancemos un poco más y creemos una estructura HTML válida

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}xsl:stylesheet} \PYG{n+na}{xmlns:xsl=}\PYG{l+s}{\PYGZdq{}http://www.w3.org/1999/XSL/Transform\PYGZdq{}} \PYG{n+na}{version=}\PYG{l+s}{\PYGZdq{}1.1\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}xsl:template} \PYG{n+na}{match=}\PYG{l+s}{\PYGZdq{}/\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}html}\PYG{n+nt}{\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}head}\PYG{n+nt}{\PYGZgt{}}
         \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}Filtrado con XSLT\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/head\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}body}\PYG{n+nt}{\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}h1}\PYG{n+nt}{\PYGZgt{}}Filtrado con XSLT\PYG{n+nt}{\PYGZlt{}/h1\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}ol}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}xsl:for\PYGZhy{}each} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}catalogo/libro\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}li}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}titulo\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/li\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/xsl:for\PYGZhy{}each\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/ol\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/body\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/html\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/xsl:template\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/xsl:stylesheet\PYGZgt{}}
\end{Verbatim}
\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics{{ejercicio1xslpaso2}.png}
\caption{Extrayendo los titulos con XSL}\label{tema7:id9}\end{figure}

Ahora vamos a procesar solo los libros cuya \sphinxcode{fechaedicion} sea posterior al 2000. Añadamos un \sphinxcode{if}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}xsl:stylesheet} \PYG{n+na}{xmlns:xsl=}\PYG{l+s}{\PYGZdq{}http://www.w3.org/1999/XSL/Transform\PYGZdq{}} \PYG{n+na}{version=}\PYG{l+s}{\PYGZdq{}1.1\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}xsl:template} \PYG{n+na}{match=}\PYG{l+s}{\PYGZdq{}/\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}html}\PYG{n+nt}{\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}head}\PYG{n+nt}{\PYGZgt{}}
         \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}Filtrado con XSLT\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/head\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}body}\PYG{n+nt}{\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}h1}\PYG{n+nt}{\PYGZgt{}}Filtrado con XSLT\PYG{n+nt}{\PYGZlt{}/h1\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}ol}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}xsl:for\PYGZhy{}each} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}catalogo/libro\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}

                \PYG{n+nt}{\PYGZlt{}xsl:if} \PYG{n+na}{test=}\PYG{l+s}{\PYGZdq{}@fechaedicion \PYGZam{}gt; 2000\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}

                \PYG{n+nt}{\PYGZlt{}li}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}titulo\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/li\PYGZgt{}}

                \PYG{n+nt}{\PYGZlt{}/xsl:if\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/xsl:for\PYGZhy{}each\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/ol\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/body\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/html\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/xsl:template\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/xsl:stylesheet\PYGZgt{}}
\end{Verbatim}
\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics{{ejercicio1xslpaso3}.png}
\caption{Procesando los que son \textgreater{} 2000}\label{tema7:id10}\end{figure}

Ahora para cada libro queremos también mostrar los elementos autor con su propia lista

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}xsl:stylesheet} \PYG{n+na}{xmlns:xsl=}\PYG{l+s}{\PYGZdq{}http://www.w3.org/1999/XSL/Transform\PYGZdq{}} \PYG{n+na}{version=}\PYG{l+s}{\PYGZdq{}1.1\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}xsl:template} \PYG{n+na}{match=}\PYG{l+s}{\PYGZdq{}/\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}html}\PYG{n+nt}{\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}head}\PYG{n+nt}{\PYGZgt{}}
         \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}Filtrado con XSLT\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/head\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}body}\PYG{n+nt}{\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}h1}\PYG{n+nt}{\PYGZgt{}}Filtrado con XSLT\PYG{n+nt}{\PYGZlt{}/h1\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}ol}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}xsl:for\PYGZhy{}each} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}catalogo/libro\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}

                \PYG{n+nt}{\PYGZlt{}xsl:if} \PYG{n+na}{test=}\PYG{l+s}{\PYGZdq{}@fechaedicion \PYGZam{}gt; 2000\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}

                \PYG{n+nt}{\PYGZlt{}li}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}titulo\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/li\PYGZgt{}}

                \PYG{n+nt}{\PYGZlt{}ol}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}xsl:for\PYGZhy{}each} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}autores/autor\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}li}\PYG{n+nt}{\PYGZgt{}}
                                        \PYG{c}{\PYGZlt{}!\PYGZhy{}\PYGZhy{}}\PYG{c}{El elemento actual es .}\PYG{c}{\PYGZhy{}\PYGZhy{}\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}.\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/li\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/xsl:for\PYGZhy{}each\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/ol\PYGZgt{}}

                \PYG{n+nt}{\PYGZlt{}/xsl:if\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/xsl:for\PYGZhy{}each\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/ol\PYGZgt{}}
  \PYG{n+nt}{\PYGZlt{}/body\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/html\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/xsl:template\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/xsl:stylesheet\PYGZgt{}}
\end{Verbatim}

Y el navegador muestra lo siguiente
\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics{{ejercicio1xslpaso4}.png}
\caption{Mostrando también los autores}\label{tema7:id11}\end{figure}


\subsection{Transformacion de pedidos}
\label{tema7:transformacion-de-pedidos}
Dado el siguiente archivo XML:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{} encoding=\PYGZdq{}utf\PYGZhy{}8\PYGZdq{}?\PYGZgt{}}
\PYG{c+cp}{\PYGZlt{}?xml\PYGZhy{}stylesheet href=\PYGZdq{}estilo1.xsl\PYGZdq{} type=\PYGZdq{}text/xsl\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}pedido}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}portatiles}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}portatil}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}peso}\PYG{n+nt}{\PYGZgt{}}1430\PYG{n+nt}{\PYGZlt{}/peso\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}ram} \PYG{n+na}{unidad=}\PYG{l+s}{\PYGZdq{}GB\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}4\PYG{n+nt}{\PYGZlt{}/ram\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}disco} \PYG{n+na}{tipo=}\PYG{l+s}{\PYGZdq{}ssd\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}500\PYG{n+nt}{\PYGZlt{}/disco\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}precio}\PYG{n+nt}{\PYGZgt{}}499\PYG{n+nt}{\PYGZlt{}/precio\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/portatil\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}portatil}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}peso}\PYG{n+nt}{\PYGZgt{}}1830\PYG{n+nt}{\PYGZlt{}/peso\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}ram} \PYG{n+na}{unidad=}\PYG{l+s}{\PYGZdq{}GB\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}6\PYG{n+nt}{\PYGZlt{}/ram\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}disco} \PYG{n+na}{tipo=}\PYG{l+s}{\PYGZdq{}ssd\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}1000\PYG{n+nt}{\PYGZlt{}/disco\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}precio}\PYG{n+nt}{\PYGZgt{}}1199\PYG{n+nt}{\PYGZlt{}/precio\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/portatil\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}portatil}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}peso}\PYG{n+nt}{\PYGZgt{}}1250\PYG{n+nt}{\PYGZlt{}/peso\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}ram} \PYG{n+na}{unidad=}\PYG{l+s}{\PYGZdq{}GB\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}2\PYG{n+nt}{\PYGZlt{}/ram\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}disco} \PYG{n+na}{tipo=}\PYG{l+s}{\PYGZdq{}ssd\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}750\PYG{n+nt}{\PYGZlt{}/disco\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}precio}\PYG{n+nt}{\PYGZgt{}}699\PYG{n+nt}{\PYGZlt{}/precio\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/portatil\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/portatiles\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}tablets}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}tablet}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}plataforma}\PYG{n+nt}{\PYGZgt{}}Android\PYG{n+nt}{\PYGZlt{}/plataforma\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}caracteristicas}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}memoria} \PYG{n+na}{medida=}\PYG{l+s}{\PYGZdq{}GB\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}2\PYG{n+nt}{\PYGZlt{}/memoria\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}tamanio} \PYG{n+na}{medida=}\PYG{l+s}{\PYGZdq{}pulgadas\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}6\PYG{n+nt}{\PYGZlt{}/tamanio\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}bateria}\PYG{n+nt}{\PYGZgt{}}LiPo\PYG{n+nt}{\PYGZlt{}/bateria\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/caracteristicas\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/tablet\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}tablet}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}plataforma}\PYG{n+nt}{\PYGZgt{}}iOS\PYG{n+nt}{\PYGZlt{}/plataforma\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}caracteristicas}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}memoria} \PYG{n+na}{medida=}\PYG{l+s}{\PYGZdq{}GB\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}4\PYG{n+nt}{\PYGZlt{}/memoria\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}tamanio} \PYG{n+na}{medida=}\PYG{l+s}{\PYGZdq{}pulgadas\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}9\PYG{n+nt}{\PYGZlt{}/tamanio\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}bateria}\PYG{n+nt}{\PYGZgt{}}LiIon\PYG{n+nt}{\PYGZlt{}/bateria\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/caracteristicas\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/tablet\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/tablets\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/pedido\PYGZgt{}}
\end{Verbatim}

Crear un fichero de estilos que permita mostrar la información de los portátiles en forma de tabla.
\begin{figure}[htbp]
\centering
\capstart

\noindent\sphinxincludegraphics{{xsl1}.png}
\caption{Transformacion XSL}\label{tema7:id12}\end{figure}

Una posible solución sería esta:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}xsl:stylesheet} \PYG{n+na}{version=}\PYG{l+s}{\PYGZdq{}1.1\PYGZdq{}}
        \PYG{n+na}{xmlns:xsl=}\PYG{l+s}{\PYGZdq{}http://www.w3.org/1999/XSL/Transform\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}xsl:template} \PYG{n+na}{match=}\PYG{l+s}{\PYGZdq{}/\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}html}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}head}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}Ejercicio 1\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/head\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}body}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}h1}\PYG{n+nt}{\PYGZgt{}}Resultado\PYG{n+nt}{\PYGZlt{}/h1\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}table} \PYG{n+na}{border=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}tr}\PYG{n+nt}{\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}td}\PYG{n+nt}{\PYGZgt{}}Peso\PYG{n+nt}{\PYGZlt{}/td\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}td}\PYG{n+nt}{\PYGZgt{}}RAM\PYG{n+nt}{\PYGZlt{}/td\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}td}\PYG{n+nt}{\PYGZgt{}}Disco\PYG{n+nt}{\PYGZlt{}/td\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}td}\PYG{n+nt}{\PYGZgt{}}Precio\PYG{n+nt}{\PYGZlt{}/td\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/tr\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}xsl:for\PYGZhy{}each} \PYG{n+na}{select=}
                                \PYG{l+s}{\PYGZdq{}pedido/portatiles/portatil\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}tr}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}td}\PYG{n+nt}{\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}peso\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/td\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}td}\PYG{n+nt}{\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}ram\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/td\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}td}\PYG{n+nt}{\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}disco\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/td\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}td}\PYG{n+nt}{\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}precio\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/td\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/tr\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/xsl:for\PYGZhy{}each\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/table\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/body\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/html\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/xsl:template\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/xsl:stylesheet\PYGZgt{}}
\end{Verbatim}


\subsection{Transformación de pedidos (II)}
\label{tema7:transformacion-de-pedidos-ii}
Con el mismo fichero de pedidos crear una sola tabla que tenga 3 columnas y aglutine información tanto de portátiles como de tablets:
\begin{itemize}
\item {} 
Cuando procesemos portátiles, las columnas serán respectivamente ``precio'', ``ram'' y ``disco''. Solo se procesan portátiles con más de 2GB de RAM.

\item {} 
Cuando procesemos tablets, las columnas serán ``plataforma'', ``ram'' y ``batería''. Solo se procesan los tablets con más de 2GB de RAM y que además tengan un tamaño superior a 7 pulgadas.

\end{itemize}

El fichero siguiente ilustra una posible forma de hacerlo:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+cp}{\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{}?\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}xsl:stylesheet} \PYG{n+na}{version=}\PYG{l+s}{\PYGZdq{}1.1\PYGZdq{}}
\PYG{n+na}{xmlns:xsl=}\PYG{l+s}{\PYGZdq{}http://www.w3.org/1999/XSL/Transform\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}xsl:template} \PYG{n+na}{match=}\PYG{l+s}{\PYGZdq{}/\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}html}\PYG{n+nt}{\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}head}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}title}\PYG{n+nt}{\PYGZgt{}}Ejercicio 1\PYG{n+nt}{\PYGZlt{}/title\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/head\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}body}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}h1}\PYG{n+nt}{\PYGZgt{}}Resultado\PYG{n+nt}{\PYGZlt{}/h1\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}table} \PYG{n+na}{border=}\PYG{l+s}{\PYGZdq{}1\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}xsl:for\PYGZhy{}each} \PYG{n+na}{select=}
                        \PYG{l+s}{\PYGZdq{}pedido/portatiles/portatil\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                           \PYG{n+nt}{\PYGZlt{}xsl:if} \PYG{n+na}{test=}\PYG{l+s}{\PYGZdq{}ram \PYGZam{}gt; 2\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}tr}\PYG{n+nt}{\PYGZgt{}}
                                  \PYG{n+nt}{\PYGZlt{}td}\PYG{n+nt}{\PYGZgt{}}
                                        Precio:\PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}precio\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                  \PYG{n+nt}{\PYGZlt{}/td\PYGZgt{}}
                                  \PYG{n+nt}{\PYGZlt{}td}\PYG{n+nt}{\PYGZgt{}}
                                        Memoria:\PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}ram\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                              \PYG{n+nt}{\PYGZlt{}/td\PYGZgt{}}
                                  \PYG{n+nt}{\PYGZlt{}td}\PYG{n+nt}{\PYGZgt{}}
                                        Disco duro:\PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}disco\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                  \PYG{n+nt}{\PYGZlt{}/td\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/tr\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/xsl:if\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/xsl:for\PYGZhy{}each\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}xsl:for\PYGZhy{}each} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}pedido/tablets/tablet\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                           \PYG{n+nt}{\PYGZlt{}xsl:if} \PYG{n+na}{test=}\PYG{l+s}{\PYGZdq{}caracteristicas/memoria \PYGZam{}gt; 2\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}xsl:if} \PYG{n+na}{test=}\PYG{l+s}{\PYGZdq{}caracteristicas/tamanio \PYGZam{}gt; 7\PYGZdq{}}\PYG{n+nt}{\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}tr}\PYG{n+nt}{\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}td}\PYG{n+nt}{\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}plataforma\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}/td\PYGZgt{}}                                           \PYG{n+nt}{\PYGZlt{}td}\PYG{n+nt}{\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}caracteristicas/memoria\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}/td\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}td}\PYG{n+nt}{\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}xsl:value\PYGZhy{}of} \PYG{n+na}{select=}\PYG{l+s}{\PYGZdq{}caracteristicas/bateria\PYGZdq{}}\PYG{n+nt}{/\PYGZgt{}}
                                        \PYG{n+nt}{\PYGZlt{}/td\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/tr\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/xsl:if\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/xsl:if\PYGZgt{}}
                                \PYG{n+nt}{\PYGZlt{}/xsl:for\PYGZhy{}each\PYGZgt{}}
                        \PYG{n+nt}{\PYGZlt{}/table\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/body\PYGZgt{}}
                \PYG{n+nt}{\PYGZlt{}/html\PYGZgt{}}
        \PYG{n+nt}{\PYGZlt{}/xsl:template\PYGZgt{}}
\PYG{n+nt}{\PYGZlt{}/xsl:stylesheet\PYGZgt{}}
\end{Verbatim}


\subsection{Ejercicio (no se da la solución)}
\label{tema7:ejercicio-no-se-da-la-solucion}
Poner en una lista ordenada (elemento \sphinxcode{ol}) todas las capacidades RAM que se encuentren en el fichero XML.


\chapter{Sistemas de gestión de información}
\label{tema8:sistemas-de-gestion-de-informacion}\label{tema8::doc}

\section{Introducción}
\label{tema8:introduccion}
Primero definiremos los términos:
\begin{itemize}
\item {} 
Sistema: ``conjunto de elementos interrelacionados que colaboran para la consecución de un objetivo''.

\item {} 
Gestión de información: movimientos de información que facilitan la consecución de los objetivos de la empresa.

\end{itemize}

Entre los objetivos más habituales están:
\begin{itemize}
\item {} 
Objetivos económicos.

\item {} 
Objetivos temporales (supervivencia).

\item {} 
Objetivos legales, entre los que destacan los fiscales.

\end{itemize}

Procesar la información hoy en día es muy difícil, por lo que la informática es de gran ayuda en dicho procesamiento: (INFORmación+autoMÁTICA).

¿Todos los sistemas de una empresa son informáticos? NO. Un ejemplo es el sistema postal que no requiere (y no siempre ha requerido) parte informática.


\section{Niveles en la empresa}
\label{tema8:niveles-en-la-empresa}
Toda empresa se puede ver desde tres puntos de vista temporales distintos
\begin{enumerate}
\item {} 
Nivel estratégico: en este nivel están las personas o elementos que tienen un punto de vista más global y más largo plazo (normalmente plazos de varios años).

\item {} 
Nivel táctico: en este nivel están los mandos intermedios de la empresa con plazos medios (máximo un año)

\item {} 
Nivel operativo: está el personal ``de a pie'', que recoge la información a diario y la procesa a diario.

\end{enumerate}

Ejemplo: Mercadona.


\subsection{Tipos de SGI informáticos}
\label{tema8:tipos-de-sgi-informaticos}\begin{itemize}
\item {} 
DSS o Decision Support System: ayudan a tomar decisiones en función de la información disponible.

\item {} 
CRM o Customer Relationship Managements o Gestores de la relación con clientes. Son sistemas que gestionan información muy personalizada a los clientes, tales como sistemas de recomendación, sistemas de fidelización. Los CRM manejan la comunicación entre información interna y externa de la empresa.

\item {} 
ERP o Enterprise Resource Planning o sistemas de planificación de recursos corporativos gestionan toda la información interna de la empresa.

\end{itemize}

Los ERP han ganado mucho auge con el tiempo, ya que pueden hacer operaciones muy sofisticadas, entre ellas:
\begin{enumerate}
\item {} 
Optimización de procesos: implica resolver complejos problemas matemáticos que con una herramienta informática se resuelven al instante.

\item {} 
Logística: implica resolver problemas de transporte de productos en base a diversas restricciones (no todas matemáticas). Un problema muy común es la optimización de rutas que implica resolver el ``problema del viajante''.

\item {} 
Fiscalidad: permite aprovechar las diferentes ventajas que en materia de fiscalidad se ofrecen en distintos casos, en distintos territorios...

\item {} 
Contabilidad: la participación en diversas sociedades empresariales puede complicar las operaciones de contabilidad, operaciones que un ERP puede registrar.

\item {} 
Optimización de recursos humanos: optimizar el volumen de contrataciones y despidos, nóminas, etc...

\item {} 
Operaciones de informes y estadística: para conocer el estado real de la empresa en sus distintos departamentos y períodos.

\item {} 
Trazabilidad: permite conocer el punto exacto de ubicación de un producto a lo largo de toda la cadena de abastecimiento (supply chain).

\end{enumerate}


\section{Almacenamiento en los SGI}
\label{tema8:almacenamiento-en-los-sgi}
La mayor parte de SGI se apoyan en tecnologías conocidas como SGBD con SQL e incluso XML.

La mayor parte de SGBD permite procesar y extraer información en forma de SQL.

En general, cualquier consulta sobre cualquier tabla puede convertirse en XML. Cuando por ejemplo hacemos

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k}{select} \PYG{o}{*} \PYG{k}{from} \PYG{n}{marcas}\PYG{p}{;}
\end{Verbatim}

obtenemos un resultado como este:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{o}{+}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{+}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{+}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{+}
\PYG{o}{\textbar{}} \PYG{n+nb}{id} \PYG{o}{\textbar{}} \PYG{n}{nombre} \PYG{o}{\textbar{}} \PYG{n}{ap}          \PYG{o}{\textbar{}}
\PYG{o}{+}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{+}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{+}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{+}
\PYG{o}{\textbar{}}  \PYG{l+m+mi}{1} \PYG{o}{\textbar{}} \PYG{n}{Juan}   \PYG{o}{\textbar{}} \PYG{n}{Lopez} \PYG{n}{Lopez} \PYG{o}{\textbar{}}
\PYG{o}{\textbar{}}  \PYG{l+m+mi}{2} \PYG{o}{\textbar{}} \PYG{n}{Andres} \PYG{o}{\textbar{}} \PYG{n}{Ruiz} \PYG{n}{Gomez}  \PYG{o}{\textbar{}}
\PYG{o}{\textbar{}}  \PYG{l+m+mi}{3} \PYG{o}{\textbar{}} \PYG{n}{Tomas}  \PYG{o}{\textbar{}} \PYG{n}{Perez} \PYG{n}{Diaz}  \PYG{o}{\textbar{}}
\PYG{o}{+}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{+}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{+}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{o}{+}

\PYG{l+m+mi}{3} \PYG{n}{rows} \PYG{o+ow}{in} \PYG{n+nb}{set} \PYG{p}{(}\PYG{l+m+mf}{0.00} \PYG{n}{sec}\PYG{p}{)}
\end{Verbatim}

Sin embargo, podemos ejecutar el siguiente comando que se conecta a MySQL ejecuta la consulta dada y devuelve un fichero XML:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n}{mysql} \PYG{o}{\PYGZhy{}}\PYG{n}{uroot} \PYG{o}{\PYGZhy{}}\PYG{n}{Ddatos} \PYG{o}{\PYGZhy{}}\PYG{n}{e}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{select * from usuarios}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o}{\PYGZhy{}}\PYG{o}{\PYGZhy{}}\PYG{n}{xml}
\end{Verbatim}

El resultado será algo como esto:

\begin{Verbatim}[commandchars=\\\{\}]
\PYGZlt{}?xml version=\PYGZdq{}1.0\PYGZdq{}?\PYGZgt{}

\PYGZlt{}resultset statement=\PYGZdq{}select * from usuarios
\PYGZdq{} xmlns:xsi=\PYGZdq{}http://www.w3.org/2001/XMLSchema\PYGZhy{}instance\PYGZdq{}
  \PYGZlt{}row\PYGZgt{}
                \PYGZlt{}field name=\PYGZdq{}id\PYGZdq{}\PYGZgt{}1\PYGZlt{}/field\PYGZgt{}
                \PYGZlt{}field name=\PYGZdq{}nombre\PYGZdq{}\PYGZgt{}Juan\PYGZlt{}/field\PYGZgt{}
                \PYGZlt{}field name=\PYGZdq{}ap\PYGZdq{}\PYGZgt{}Lopez Lopez\PYGZlt{}/field\PYGZgt{}
  \PYGZlt{}/row\PYGZgt{}

  \PYGZlt{}row\PYGZgt{}
                \PYGZlt{}field name=\PYGZdq{}id\PYGZdq{}\PYGZgt{}2\PYGZlt{}/field\PYGZgt{}
                \PYGZlt{}field name=\PYGZdq{}nombre\PYGZdq{}\PYGZgt{}Andres\PYGZlt{}/field\PYGZgt{}
                \PYGZlt{}field name=\PYGZdq{}ap\PYGZdq{}\PYGZgt{}Ruiz Gomez\PYGZlt{}/field\PYGZgt{}
  \PYGZlt{}/row\PYGZgt{}

  \PYGZlt{}row\PYGZgt{}
                \PYGZlt{}field name=\PYGZdq{}id\PYGZdq{}\PYGZgt{}3\PYGZlt{}/field\PYGZgt{}
                \PYGZlt{}field name=\PYGZdq{}nombre\PYGZdq{}\PYGZgt{}Tomas\PYGZlt{}/field\PYGZgt{}
                \PYGZlt{}field name=\PYGZdq{}ap\PYGZdq{}\PYGZgt{}Perez Diaz\PYGZlt{}/field\PYGZgt{}
  \PYGZlt{}/row\PYGZgt{}
\PYGZlt{}/resultset\PYGZgt{}
\end{Verbatim}


\section{Puntos de vista en los SGI}
\label{tema8:puntos-de-vista-en-los-sgi}

\subsection{Desarrollador}
\label{tema8:desarrollador}
Para un desarrollador hay ciertos temas fundamentales a conocer del SGI con el que trabaje:
\begin{itemize}
\item {} 
Programable ¿qué lenguaje de programación usa? ¿usa OOP? ¿es un tipo de lenguaje distinto?.

\item {} 
¿Se puede conectar desde algún lenguaje general?

\item {} 
¿Se pueden usar otras bibliotecas de uso general? (Hibernate)

\end{itemize}


\subsection{Administrador}
\label{tema8:administrador}\begin{itemize}
\item {} 
¿Se pueden controlar  los accesos?

\item {} 
¿Como cumplir la LOPD y sus 3 niveles?

\end{itemize}


\subsection{Usuario}
\label{tema8:usuario}\begin{itemize}
\item {} 
¿Como se usa el SGI? En unos casos hay muchos requisitos pero cada vez más abundan los SGI con interfaz Web.

\item {} 
La adaptación específica que ofrece el sistema a la empresa. El PGC en España es un elemento al cual un programa puede estar adaptado o no. Otra posibilidad es que el programa permita INCOTERMS.

\end{itemize}


\subsection{Ejercicio}
\label{tema8:ejercicio}
Modelar el diagrama de estados para el cajero en el caso ``Sacar dinero''



\renewcommand{\indexname}{Índice}
\printindex
\end{document}
